(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function B_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rf={exports:{}},Ul={};var my;function oE(){if(my)return Ul;my=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var gy;function uE(){return gy||(gy=1,Rf.exports=oE()),Rf.exports}var q=uE(),Cf={exports:{}},yt={};var py;function cE(){if(py)return yt;py=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function ht(x,Y,nt){this.props=x,this.context=Y,this.refs=$,this.updater=nt||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},ht.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function vt(){}vt.prototype=ht.prototype;function dt(x,Y,nt){this.props=x,this.context=Y,this.refs=$,this.updater=nt||J}var qt=dt.prototype=new vt;qt.constructor=dt,tt(qt,ht.prototype),qt.isPureReactComponent=!0;var Zt=Array.isArray;function Nt(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function b(x,Y,nt){var it=nt.ref;return{$$typeof:s,type:x,key:Y,ref:it!==void 0?it:null,props:nt}}function I(x,Y){return b(x.type,Y,x.props)}function V(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function O(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Y[nt]})}var C=/\/+/g;function $t(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):Y.toString(36)}function te(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Nt,Nt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,Y,nt,it,gt){var At=typeof x;(At==="undefined"||At==="boolean")&&(x=null);var Mt=!1;if(x===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(x.$$typeof){case s:case e:Mt=!0;break;case S:return Mt=x._init,H(Mt(x._payload),Y,nt,it,gt)}}if(Mt)return gt=gt(x),Mt=it===""?"."+$t(x,0):it,Zt(gt)?(nt="",Mt!=null&&(nt=Mt.replace(C,"$&/")+"/"),H(gt,Y,nt,"",function(Ua){return Ua})):gt!=null&&(V(gt)&&(gt=I(gt,nt+(gt.key==null||x&&x.key===gt.key?"":(""+gt.key).replace(C,"$&/")+"/")+Mt)),Y.push(gt)),1;Mt=0;var Ve=it===""?".":it+":";if(Zt(x))for(var re=0;re<x.length;re++)it=x[re],At=Ve+$t(it,re),Mt+=H(it,Y,nt,At,gt);else if(re=Q(x),typeof re=="function")for(x=re.call(x),re=0;!(it=x.next()).done;)it=it.value,At=Ve+$t(it,re++),Mt+=H(it,Y,nt,At,gt);else if(At==="object"){if(typeof x.then=="function")return H(te(x),Y,nt,it,gt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(x,Y,nt){if(x==null)return x;var it=[],gt=0;return H(x,it,"","",function(At){return Y.call(nt,At,gt++)}),it}function ot(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var bt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ut={map:et,forEach:function(x,Y,nt){et(x,function(){Y.apply(this,arguments)},nt)},count:function(x){var Y=0;return et(x,function(){Y++}),Y},toArray:function(x){return et(x,function(Y){return Y})||[]},only:function(x){if(!V(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return yt.Activity=R,yt.Children=Ut,yt.Component=ht,yt.Fragment=i,yt.Profiler=o,yt.PureComponent=dt,yt.StrictMode=r,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,yt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},yt.cache=function(x){return function(){return x.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(x,Y,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=tt({},x.props),gt=x.key;if(Y!=null)for(At in Y.key!==void 0&&(gt=""+Y.key),Y)!A.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(it[At]=Y[At]);var At=arguments.length-2;if(At===1)it.children=nt;else if(1<At){for(var Mt=Array(At),Ve=0;Ve<At;Ve++)Mt[Ve]=arguments[Ve+2];it.children=Mt}return b(x.type,gt,it)},yt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},yt.createElement=function(x,Y,nt){var it,gt={},At=null;if(Y!=null)for(it in Y.key!==void 0&&(At=""+Y.key),Y)A.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=Y[it]);var Mt=arguments.length-2;if(Mt===1)gt.children=nt;else if(1<Mt){for(var Ve=Array(Mt),re=0;re<Mt;re++)Ve[re]=arguments[re+2];gt.children=Ve}if(x&&x.defaultProps)for(it in Mt=x.defaultProps,Mt)gt[it]===void 0&&(gt[it]=Mt[it]);return b(x,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(x){return{$$typeof:y,render:x}},yt.isValidElement=V,yt.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:ot}},yt.memo=function(x,Y){return{$$typeof:_,type:x,compare:Y===void 0?null:Y}},yt.startTransition=function(x){var Y=D.T,nt={};D.T=nt;try{var it=x(),gt=D.S;gt!==null&&gt(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Nt,bt)}catch(At){bt(At)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),D.T=Y}},yt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},yt.use=function(x){return D.H.use(x)},yt.useActionState=function(x,Y,nt){return D.H.useActionState(x,Y,nt)},yt.useCallback=function(x,Y){return D.H.useCallback(x,Y)},yt.useContext=function(x){return D.H.useContext(x)},yt.useDebugValue=function(){},yt.useDeferredValue=function(x,Y){return D.H.useDeferredValue(x,Y)},yt.useEffect=function(x,Y){return D.H.useEffect(x,Y)},yt.useEffectEvent=function(x){return D.H.useEffectEvent(x)},yt.useId=function(){return D.H.useId()},yt.useImperativeHandle=function(x,Y,nt){return D.H.useImperativeHandle(x,Y,nt)},yt.useInsertionEffect=function(x,Y){return D.H.useInsertionEffect(x,Y)},yt.useLayoutEffect=function(x,Y){return D.H.useLayoutEffect(x,Y)},yt.useMemo=function(x,Y){return D.H.useMemo(x,Y)},yt.useOptimistic=function(x,Y){return D.H.useOptimistic(x,Y)},yt.useReducer=function(x,Y,nt){return D.H.useReducer(x,Y,nt)},yt.useRef=function(x){return D.H.useRef(x)},yt.useState=function(x){return D.H.useState(x)},yt.useSyncExternalStore=function(x,Y,nt){return D.H.useSyncExternalStore(x,Y,nt)},yt.useTransition=function(){return D.H.useTransition()},yt.version="19.2.3",yt}var yy;function cd(){return yy||(yy=1,Cf.exports=cE()),Cf.exports}var ie=cd();const hE=B_(ie);var wf={exports:{}},Ll={},Df={exports:{}},Vf={};var _y;function fE(){return _y||(_y=1,(function(s){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var bt=ot-1>>>1,Ut=H[bt];if(0<o(Ut,et))H[bt]=et,H[ot]=Ut,ot=bt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var bt=0,Ut=H.length,x=Ut>>>1;bt<x;){var Y=2*(bt+1)-1,nt=H[Y],it=Y+1,gt=H[it];if(0>o(nt,ot))it<Ut&&0>o(gt,nt)?(H[bt]=gt,H[it]=ot,bt=it):(H[bt]=nt,H[Y]=ot,bt=Y);else if(it<Ut&&0>o(gt,ot))H[bt]=gt,H[it]=ot,bt=it;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,R=null,M=3,Q=!1,J=!1,tt=!1,$=!1,ht=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function Zt(H){if(tt=!1,qt(H),!J)if(i(v)!==null)J=!0,Nt||(Nt=!0,O());else{var et=i(_);et!==null&&te(Zt,et.startTime-H)}}var Nt=!1,D=-1,A=5,b=-1;function I(){return $?!0:!(s.unstable_now()-b<A)}function V(){if($=!1,Nt){var H=s.unstable_now();b=H;var et=!0;try{t:{J=!1,tt&&(tt=!1,vt(D),D=-1),Q=!0;var ot=M;try{e:{for(qt(H),R=i(v);R!==null&&!(R.expirationTime>H&&I());){var bt=R.callback;if(typeof bt=="function"){R.callback=null,M=R.priorityLevel;var Ut=bt(R.expirationTime<=H);if(H=s.unstable_now(),typeof Ut=="function"){R.callback=Ut,qt(H),et=!0;break e}R===i(v)&&r(v),qt(H)}else r(v);R=i(v)}if(R!==null)et=!0;else{var x=i(_);x!==null&&te(Zt,x.startTime-H),et=!1}}break t}finally{R=null,M=ot,Q=!1}et=void 0}}finally{et?O():Nt=!1}}}var O;if(typeof dt=="function")O=function(){dt(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,$t=C.port2;C.port1.onmessage=V,O=function(){$t.postMessage(null)}}else O=function(){ht(V,0)};function te(H,et){D=ht(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ot=M;M=et;try{return H()}finally{M=ot}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=M;M=H;try{return et()}finally{M=ot}},s.unstable_scheduleCallback=function(H,et,ot){var bt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?bt+ot:bt):ot=bt,H){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=ot+Ut,H={id:S++,callback:et,priorityLevel:H,startTime:ot,expirationTime:Ut,sortIndex:-1},ot>bt?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(tt?(vt(D),D=-1):tt=!0,te(Zt,ot-bt))):(H.sortIndex=Ut,e(v,H),J||Q||(J=!0,Nt||(Nt=!0,O()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var et=M;return function(){var ot=M;M=et;try{return H.apply(this,arguments)}finally{M=ot}}}})(Vf)),Vf}var vy;function dE(){return vy||(vy=1,Df.exports=fE()),Df.exports}var If={exports:{}},Ye={};var Ey;function mE(){if(Ey)return Ye;Ey=1;var s=cd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},Ye.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,R=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:M,fetchPriority:Q}):S==="script"&&r.d.X(v,{crossOrigin:R,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,R=y(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ye.requestFormReset=function(v){r.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var Ty;function gE(){if(Ty)return If.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),If.exports=mE(),If.exports}var Ay;function pE(){if(Ay)return Ll;Ay=1;var s=dE(),e=cd(),i=gE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var R=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ht:return"Profiler";case $:return"StrictMode";case Zt:return"Suspense";case Nt:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case dt:return t.displayName||"Context";case vt:return(t._context.displayName||"Context")+".Consumer";case qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:$t(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return $t(t(n))}catch{}}return null}var te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},bt=[],Ut=-1;function x(t){return{current:t}}function Y(t){0>Ut||(t.current=bt[Ut],bt[Ut]=null,Ut--)}function nt(t,n){Ut++,bt[Ut]=t.current,t.current=n}var it=x(null),gt=x(null),At=x(null),Mt=x(null);function Ve(t,n){switch(nt(At,n),nt(gt,t),nt(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Lp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Lp(n),t=jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(it),nt(it,t)}function re(){Y(it),Y(gt),Y(At)}function Ua(t){t.memoizedState!==null&&nt(Mt,t);var n=it.current,a=jp(n,t.type);n!==a&&(nt(gt,t),nt(it,a))}function Rr(t){gt.current===t&&(Y(it),Y(gt)),Mt.current===t&&(Y(Mt),xl._currentValue=ot)}var Cr,wr;function Yn(t){if(Cr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cr=n&&n[1]||"",wr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cr+t+wr}var xs=!1;function La(t,n){if(!t||xs)return"";xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(P){var B=P}Reflect.construct(t,[],X)}else{try{X.call()}catch(P){B=P}t.call(X.prototype)}}else{try{throw Error()}catch(P){B=P}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),j=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===j.length)for(l=w.length-1,c=j.length-1;1<=l&&0<=c&&w[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==j[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{xs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function Ms(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return La(t.type,!1);case 11:return La(t.type.render,!1);case 1:return La(t.type,!0);case 31:return Yn("Activity");default:return""}}function Os(t){try{var n="",a=null;do n+=Ms(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,Gi=s.unstable_cancelCallback,Cc=s.unstable_shouldYield,oo=s.unstable_requestPaint,Je=s.unstable_now,ja=s.unstable_getCurrentPriorityLevel,zs=s.unstable_ImmediatePriority,Us=s.unstable_UserBlockingPriority,Qi=s.unstable_NormalPriority,wc=s.unstable_LowPriority,uo=s.unstable_IdlePriority,co=s.log,ho=s.unstable_setDisableYieldValue,Mn=null,je=null;function _n(t){if(typeof co=="function"&&ho(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Mn,t)}catch{}}var he=Math.clz32?Math.clz32:mo,fo=Math.log,Dr=Math.LN2;function mo(t){return t>>>=0,t===0?32:31-(fo(t)/Dr|0)|0}var Xn=256,Ba=262144,ye=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function On(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ka(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-he(a),X=1<<G;E[G]=0,w[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var P=B[G];P!==null&&(P.lane&=-536870913)}a&=~X}l!==0&&qa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function qa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ls(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function js(t,n){var a=n&-n;return a=(a&42)!==0?1:Pa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Pa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function po(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function zn(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Un=Math.random().toString(36).slice(2),_e="__reactFiber$"+Un,Me="__reactProps$"+Un,$n="__reactContainer$"+Un,Vr="__reactEvents$"+Un,Ic="__reactListeners$"+Un,yo="__reactHandles$"+Un,_o="__reactResources$"+Un,Wn="__reactMarker$"+Un;function Ir(t){delete t[_e],delete t[Me],delete t[Vr],delete t[Ic],delete t[yo]}function ti(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Qp(t);t!==null;){if(a=t[_e])return a;t=Qp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[_e]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ei(t){var n=t[_o];return n||(n=t[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[Wn]=!0}var Bs=new Set,ks={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(ks[t]=n,t=0;t<n.length;t++)Bs.add(n[t])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ps={},Hs={};function vo(t){return pe.call(Hs,t)?!0:pe.call(Ps,t)?!1:qs.test(t)?Hs[t]=!0:(Ps[t]=!0,!1)}function Nr(t,n,a){if(vo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=Fi(t)?"checked":"value";t._valueTracker=Gs(t,n,""+t[n])}}function Ha(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ga=/[\n"\\]/g;function tn(t){return t.replace(Ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xr(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Qs(t,g,Oe(n)):a!=null?Qs(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function Eo(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ht(t)}function Qs(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function To(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(te(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ht(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ao.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ys(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Fs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fs(t,f,n[f])}function Mr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Xs=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,ri=null;function Qa(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(xr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(r(90));xr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ha(l)}break t;case"textarea":To(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Yi(t,!!a.multiple,n,!1)}}}var zr=!1;function Ji(t,n,a){if(zr)return t(n,a);zr=!0;try{var l=t(n);return l}finally{if(zr=!1,(Zi!==null||ri!==null)&&(pu(),Zi&&(n=Zi,t=ri,ri=Zi=null,Qa(n),t)))for(n=0;n<t.length;n++)Qa(t[n])}}function jn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Tn)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Fa=!1}var si=null,Ks=null,Ya=null;function Zs(){if(Ya)return Ya;var t,n=Ks,a=n.length,l,c="value"in si?si.value:si.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ya=c.slice(t,1<l?1-l:void 0)}function Xa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ai(){return!0}function Bn(){return!1}function Be(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ai:Bn,this.isPropagationStopped=Bn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Be(Si),$i=R({},Si,{view:0,detail:0}),Js=Be($i),Wi,Ur,oi,Lr=R({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(Wi=t.screenX-oi.screenX,Ur=t.screenY-oi.screenY):Ur=Wi=0,oi=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Ur}}),$s=Be(Lr),Ka=R({},Lr,{dataTransfer:0}),bo=Be(Ka),Ro=R({},$i,{relatedTarget:0}),Za=Be(Ro),Ws=R({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Co=Be(Ws),jr=R({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wo=Be(jr),Do=R({},Si,{data:0}),ui=Be(Do),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=No[t])?!!n[t]:!1}function ta(){return xo}var $e=R({},$i,{key:function(t){if(t.key){var n=Vo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mo=Be($e),Oo=R({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=Be(Oo),u=R({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),m=Be(u),p=R({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),U=R({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),k=Be(U),W=R({},Si,{newState:0,oldState:0}),Et=Be(W),fe=[9,13,27,32],Bt=Tn&&"CompositionEvent"in window,se=null;Tn&&"documentMode"in document&&(se=document.documentMode);var An=Tn&&"TextEvent"in window&&!se,ci=Tn&&(!Bt||se&&8<se&&11>=se),kn=" ",qn=!1;function Ja(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function x0(t,n){switch(t){case"compositionend":return Br(n);case"keypress":return n.which!==32?null:(qn=!0,kn);case"textInput":return t=n.data,t===kn&&qn?null:t;default:return null}}function M0(t,n){if(kr)return t==="compositionend"||!Bt&&Ja(t,n)?(t=Zs(),Ya=Ks=si=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var O0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!O0[t.type]:n==="textarea"}function Kd(t,n,a,l){Zi?ri?ri.push(l):ri=[l]:Zi=l,n=Su(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var tl=null,el=null;function z0(t){Np(t,0)}function zo(t){var n=un(t);if(Ha(n))return t}function Zd(t,n){if(t==="change")return n}var Jd=!1;if(Tn){var Nc;if(Tn){var xc="oninput"in document;if(!xc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),xc=typeof $d.oninput=="function"}Nc=xc}else Nc=!1;Jd=Nc&&(!document.documentMode||9<document.documentMode)}function Wd(){tl&&(tl.detachEvent("onpropertychange",tm),el=tl=null)}function tm(t){if(t.propertyName==="value"&&zo(el)){var n=[];Kd(n,el,t,En(t)),Ji(z0,n)}}function U0(t,n,a){t==="focusin"?(Wd(),tl=n,el=a,tl.attachEvent("onpropertychange",tm)):t==="focusout"&&Wd()}function L0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zo(el)}function j0(t,n){if(t==="click")return zo(n)}function B0(t,n){if(t==="input"||t==="change")return zo(n)}function k0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:k0;function nl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pe.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nm(t,n){var a=em(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=em(a)}}function im(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?im(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var q0=Tn&&"documentMode"in document&&11>=document.documentMode,qr=null,Oc=null,il=null,zc=!1;function rm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zc||qr==null||qr!==ai(l)||(l=qr,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Su(Oc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qr)))}function $a(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Pr={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Uc={},sm={};Tn&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Wa(t){if(Uc[t])return Uc[t];if(!Pr[t])return t;var n=Pr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in sm)return Uc[t]=n[a];return t}var lm=Wa("animationend"),om=Wa("animationiteration"),um=Wa("animationstart"),P0=Wa("transitionrun"),H0=Wa("transitionstart"),G0=Wa("transitioncancel"),cm=Wa("transitionend"),hm=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Pn(t,n){hm.set(t,n),ni(n,[t])}var Uo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Hr=0,jc=0;function Lo(){for(var t=Hr,n=jc=Hr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&fm(a,c,f)}}function jo(t,n,a,l){Sn[Hr++]=t,Sn[Hr++]=n,Sn[Hr++]=a,Sn[Hr++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bc(t,n,a,l){return jo(t,n,a,l),Bo(t)}function tr(t,n){return jo(t,null,null,n),Bo(t)}function fm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bo(t){if(50<Rl)throw Rl=0,Xh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gr={};function Q0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new Q0(t,n,a,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ko(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")kc(t)&&(g=1);else if(typeof t=="string")g=Z1(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case b:return t=fn(31,a,n,c),t.elementType=b,t.lanes=f,t;case tt:return er(a.children,c,f,n);case $:g=8,c|=24;break;case ht:return t=fn(12,a,n,c|2),t.elementType=ht,t.lanes=f,t;case Zt:return t=fn(13,a,n,c),t.elementType=Zt,t.lanes=f,t;case Nt:return t=fn(19,a,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case vt:g=9;break t;case qt:g=11;break t;case D:g=14;break t;case A:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function er(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function qc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function mm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Pc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var gm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=gm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Os(n)},gm.set(t,n),n)}return{value:t,source:n,stack:Os(n)}}var Qr=[],Fr=0,qo=null,al=0,Rn=[],Cn=0,ea=null,hi=1,fi="";function Ci(t,n){Qr[Fr++]=al,Qr[Fr++]=qo,qo=t,al=n}function pm(t,n,a){Rn[Cn++]=hi,Rn[Cn++]=fi,Rn[Cn++]=ea,ea=t;var l=hi;t=fi;var c=32-he(l)-1;l&=~(1<<c),a+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-he(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Hc(t){t.return!==null&&(Ci(t,1),pm(t,1,0))}function Gc(t){for(;t===qo;)qo=Qr[--Fr],Qr[Fr]=null,al=Qr[--Fr],Qr[Fr]=null;for(;t===ea;)ea=Rn[--Cn],Rn[Cn]=null,fi=Rn[--Cn],Rn[Cn]=null,hi=Rn[--Cn],Rn[Cn]=null}function ym(t,n){Rn[Cn++]=hi,Rn[Cn++]=fi,Rn[Cn++]=ea,hi=n.id,fi=n.overflow,ea=t}var ke=null,ee=null,xt=!1,na=null,wn=!1,Qc=Error(r(519));function ia(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(bn(n,t)),Qc}function _m(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Me]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ct(wl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Eo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Xi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||zp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ia(t,!0)}function vm(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:ke=ke.return}}function Yr(t){if(t!==ke)return!1;if(!xt)return vm(t),xt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cf(t.type,t.memoizedProps)),a=!a),a&&ee&&ia(t),vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=Gp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ee=Gp(t)}else n===27?(n=ee,ya(t.type)?(t=gf,gf=null,ee=t):ee=n):ee=ke?Vn(t.stateNode.nextSibling):null;return!0}function nr(){ee=ke=null,xt=!1}function Fc(){var t=na;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),na=null),t}function rl(t){na===null?na=[t]:na.push(t)}var Yc=x(null),ir=null,wi=null;function aa(t,n,a){nt(Yc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Yc.current,Y(Yc)}function Xc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Kc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Xc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Xc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Xr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Kc(n,t,a,l),n.flags|=262144}function Po(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ar(t){ir=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Em(ir,t)}function Ho(t,n){return ir===null&&ar(t),Em(t,n)}function Em(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(r(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var F0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Y0=s.unstable_scheduleCallback,X0=s.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new F0,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&Y0(X0,function(){t.controller.abort()})}var ll=null,Jc=0,Kr=0,Zr=null;function K0(t,n){if(ll===null){var a=ll=[];Jc=0,Kr=tf(),Zr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jc++,n.then(Tm,Tm),n}function Tm(){if(--Jc===0&&ll!==null){Zr!==null&&(Zr.status="fulfilled");var t=ll;ll=null,Kr=0,Zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Z0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Am=H.S;H.S=function(t,n){rp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&K0(t,n),Am!==null&&Am(t,n)};var rr=x(null);function $c(){var t=rr.current;return t!==null?t:Jt.pooledCache}function Go(t,n){n===null?nt(rr,rr.current):nt(rr,n.pool)}function Sm(){var t=$c();return t===null?null:{parent:Te._currentValue,pool:t}}var Jr=Error(r(460)),Wc=Error(r(474)),Qo=Error(r(542)),Fo={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,wm(t),t}throw lr=n,Jr}}function sr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(lr=a,Jr):a}}var lr=null;function Cm(){if(lr===null)throw Error(r(459));var t=lr;return lr=null,t}function wm(t){if(t===Jr||t===Qo)throw Error(r(483))}var $r=null,ol=0;function Yo(t){var n=ol;return ol+=1,$r===null&&($r=[]),Rm($r,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xo(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dm(t){function n(z,N){if(t){var L=z.deletions;L===null?(z.deletions=[N],z.flags|=16):L.push(N)}}function a(z,N){if(!t)return null;for(;N!==null;)n(z,N),N=N.sibling;return null}function l(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function c(z,N){return z=Ri(z,N),z.index=0,z.sibling=null,z}function f(z,N,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<N?(z.flags|=67108866,N):L):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,N,L,F){return N===null||N.tag!==6?(N=qc(L,z.mode,F),N.return=z,N):(N=c(N,L),N.return=z,N)}function w(z,N,L,F){var ut=L.type;return ut===tt?G(z,N,L.props.children,F,L.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&sr(ut)===N.type)?(N=c(N,L.props),ul(N,L),N.return=z,N):(N=ko(L.type,L.key,L.props,null,z.mode,F),ul(N,L),N.return=z,N)}function j(z,N,L,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Pc(L,z.mode,F),N.return=z,N):(N=c(N,L.children||[]),N.return=z,N)}function G(z,N,L,F,ut){return N===null||N.tag!==7?(N=er(L,z.mode,F,ut),N.return=z,N):(N=c(N,L),N.return=z,N)}function X(z,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=qc(""+N,z.mode,L),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Q:return L=ko(N.type,N.key,N.props,null,z.mode,L),ul(L,N),L.return=z,L;case J:return N=Pc(N,z.mode,L),N.return=z,N;case A:return N=sr(N),X(z,N,L)}if(te(N)||O(N))return N=er(N,z.mode,L,null),N.return=z,N;if(typeof N.then=="function")return X(z,Yo(N),L);if(N.$$typeof===dt)return X(z,Ho(z,N),L);Xo(z,N)}return null}function B(z,N,L,F){var ut=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(z,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ut?w(z,N,L,F):null;case J:return L.key===ut?j(z,N,L,F):null;case A:return L=sr(L),B(z,N,L,F)}if(te(L)||O(L))return ut!==null?null:G(z,N,L,F,null);if(typeof L.then=="function")return B(z,N,Yo(L),F);if(L.$$typeof===dt)return B(z,N,Ho(z,L),F);Xo(z,L)}return null}function P(z,N,L,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return z=z.get(L)||null,E(N,z,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return z=z.get(F.key===null?L:F.key)||null,w(N,z,F,ut);case J:return z=z.get(F.key===null?L:F.key)||null,j(N,z,F,ut);case A:return F=sr(F),P(z,N,L,F,ut)}if(te(F)||O(F))return z=z.get(L)||null,G(N,z,F,ut,null);if(typeof F.then=="function")return P(z,N,L,Yo(F),ut);if(F.$$typeof===dt)return P(z,N,L,Ho(N,F),ut);Xo(N,F)}return null}function st(z,N,L,F){for(var ut=null,Lt=null,lt=N,St=N=0,Dt=null;lt!==null&&St<L.length;St++){lt.index>St?(Dt=lt,lt=null):Dt=lt.sibling;var jt=B(z,lt,L[St],F);if(jt===null){lt===null&&(lt=Dt);break}t&&lt&&jt.alternate===null&&n(z,lt),N=f(jt,N,St),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt,lt=Dt}if(St===L.length)return a(z,lt),xt&&Ci(z,St),ut;if(lt===null){for(;St<L.length;St++)lt=X(z,L[St],F),lt!==null&&(N=f(lt,N,St),Lt===null?ut=lt:Lt.sibling=lt,Lt=lt);return xt&&Ci(z,St),ut}for(lt=l(lt);St<L.length;St++)Dt=P(lt,z,St,L[St],F),Dt!==null&&(t&&Dt.alternate!==null&&lt.delete(Dt.key===null?St:Dt.key),N=f(Dt,N,St),Lt===null?ut=Dt:Lt.sibling=Dt,Lt=Dt);return t&&lt.forEach(function(Aa){return n(z,Aa)}),xt&&Ci(z,St),ut}function ft(z,N,L,F){if(L==null)throw Error(r(151));for(var ut=null,Lt=null,lt=N,St=N=0,Dt=null,jt=L.next();lt!==null&&!jt.done;St++,jt=L.next()){lt.index>St?(Dt=lt,lt=null):Dt=lt.sibling;var Aa=B(z,lt,jt.value,F);if(Aa===null){lt===null&&(lt=Dt);break}t&&lt&&Aa.alternate===null&&n(z,lt),N=f(Aa,N,St),Lt===null?ut=Aa:Lt.sibling=Aa,Lt=Aa,lt=Dt}if(jt.done)return a(z,lt),xt&&Ci(z,St),ut;if(lt===null){for(;!jt.done;St++,jt=L.next())jt=X(z,jt.value,F),jt!==null&&(N=f(jt,N,St),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt);return xt&&Ci(z,St),ut}for(lt=l(lt);!jt.done;St++,jt=L.next())jt=P(lt,z,St,jt.value,F),jt!==null&&(t&&jt.alternate!==null&&lt.delete(jt.key===null?St:jt.key),N=f(jt,N,St),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt);return t&&lt.forEach(function(lE){return n(z,lE)}),xt&&Ci(z,St),ut}function Kt(z,N,L,F){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var ut=L.key;N!==null;){if(N.key===ut){if(ut=L.type,ut===tt){if(N.tag===7){a(z,N.sibling),F=c(N,L.props.children),F.return=z,z=F;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===A&&sr(ut)===N.type){a(z,N.sibling),F=c(N,L.props),ul(F,L),F.return=z,z=F;break t}a(z,N);break}else n(z,N);N=N.sibling}L.type===tt?(F=er(L.props.children,z.mode,F,L.key),F.return=z,z=F):(F=ko(L.type,L.key,L.props,null,z.mode,F),ul(F,L),F.return=z,z=F)}return g(z);case J:t:{for(ut=L.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(z,N.sibling),F=c(N,L.children||[]),F.return=z,z=F;break t}else{a(z,N);break}else n(z,N);N=N.sibling}F=Pc(L,z.mode,F),F.return=z,z=F}return g(z);case A:return L=sr(L),Kt(z,N,L,F)}if(te(L))return st(z,N,L,F);if(O(L)){if(ut=O(L),typeof ut!="function")throw Error(r(150));return L=ut.call(L),ft(z,N,L,F)}if(typeof L.then=="function")return Kt(z,N,Yo(L),F);if(L.$$typeof===dt)return Kt(z,N,Ho(z,L),F);Xo(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(z,N.sibling),F=c(N,L),F.return=z,z=F):(a(z,N),F=qc(L,z.mode,F),F.return=z,z=F),g(z)):a(z,N)}return function(z,N,L,F){try{ol=0;var ut=Kt(z,N,L,F);return $r=null,ut}catch(lt){if(lt===Jr||lt===Qo)throw lt;var Lt=fn(29,lt,null,z.mode);return Lt.lanes=F,Lt.return=z,Lt}}}var or=Dm(!0),Vm=Dm(!1),ra=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function la(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(t),fm(t,null,a),n}return jo(t,l,n,a),Bo(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}function nh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ih=!1;function hl(){if(ih){var t=Zr;if(t!==null)throw t}}function fl(t,n,a,l){ih=!1;var c=t.updateQueue;ra=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,j=w.next;w.next=null,g===null?f=j:g.next=j,g=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;g=0,G=j=w=null,E=f;do{var B=E.lane&-536870913,P=B!==E.lane;if(P?(wt&B)===B:(l&B)===B){B!==0&&B===Kr&&(ih=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,ft=E;B=n;var Kt=a;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){X=st.call(Kt,X,B);break t}X=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,B=typeof st=="function"?st.call(Kt,X,B):st,B==null)break t;X=R({},X,B);break t;case 2:ra=!0}}B=E.callback,B!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[B]:P.push(B))}else P={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=P,w=X):G=G.next=P,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);G===null&&(w=X),c.baseState=w,c.firstBaseUpdate=j,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),fa|=g,t.lanes=g,t.memoizedState=X}}function Im(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Nm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Im(a[t],n)}var Wr=x(null),Ko=x(0);function xm(t,n){t=Li,nt(Ko,t),nt(Wr,n),Li=t|n.baseLanes}function ah(){nt(Ko,Li),nt(Wr,Wr.current)}function rh(){Li=Ko.current,Y(Wr),Y(Ko)}var dn=x(null),Dn=null;function oa(t){var n=t.alternate;nt(de,de.current&1),nt(dn,t),Dn===null&&(n===null||Wr.current!==null||n.memoizedState!==null)&&(Dn=t)}function sh(t){nt(de,de.current),nt(dn,t),Dn===null&&(Dn=t)}function Mm(t){t.tag===22?(nt(de,de.current),nt(dn,t),Dn===null&&(Dn=t)):ua()}function ua(){nt(de,de.current),nt(dn,dn.current)}function mn(t){Y(dn),Dn===t&&(Dn=null),Y(de)}var de=x(0);function Zo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||df(a)||mf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,Tt=null,Yt=null,Ae=null,Jo=!1,ts=!1,ur=!1,$o=0,dl=0,es=null,J0=0;function ue(){throw Error(r(321))}function lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function oh(t,n,a,l,c,f){return Vi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?pg:Sh,ur=!1,f=a(l,c),ur=!1,ts&&(f=zm(n,a,l,c)),Om(t),f}function Om(t){H.H=pl;var n=Yt!==null&&Yt.next!==null;if(Vi=0,Ae=Yt=Tt=null,Jo=!1,dl=0,es=null,n)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&Po(t)&&(Se=!0))}function zm(t,n,a,l){Tt=t;var c=0;do{if(ts&&(es=null),dl=0,ts=!1,25<=c)throw Error(r(301));if(c+=1,Ae=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=yg,f=n(a,l)}while(ts);return f}function $0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ml(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function uh(){var t=$o!==0;return $o=0,t}function ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hh(t){if(Jo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Jo=!1}Vi=0,Ae=Yt=Tt=null,ts=!1,dl=$o=0,es=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Tt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Yt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Ae===null?Tt.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=t;else{if(t===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?Tt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var n=dl;return dl+=1,es===null&&(es=[]),t=Rm(es,t,n),n=Tt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?pg:Sh),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===dt)return qe(t)}throw Error(r(438,String(t)))}function fh(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Wo(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=me();return dh(n,Yt,t)}function dh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,j=n,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(wt&X)===X:(Vi&X)===X){var B=j.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Kr&&(G=!0);else if((Vi&B)===B){j=j.next,B===Kr&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=X,g=f):w=w.next=X,Tt.lanes|=B,fa|=B;X=j.action,ur&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=B,g=f):w=w.next=B,Tt.lanes|=X,fa|=X;j=j.next}while(j!==null&&j!==n);if(w===null?g=f:w.next=E,!hn(f,t.memoizedState)&&(Se=!0,G&&(a=Zr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Um(t,n,a){var l=Tt,c=me(),f=xt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Yt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,yh(Bm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,ns(9,{destroy:void 0},jm.bind(null,l,c,a,n),null),Jt===null)throw Error(r(349));f||(Vi&127)!==0||Lm(l,n,a)}return a}function Lm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=Wo(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function jm(t,n,a,l){n.value=a,n.getSnapshot=l,km(n)&&qm(t)}function Bm(t,n,a){return a(function(){km(n)&&qm(t)})}function km(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function qm(t){var n=tr(t,2);n!==null&&ln(n,t,2)}function gh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),ur){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function Pm(t,n,a,l){return t.baseState=a,dh(t,Yt,typeof l=="function"?l:Ii)}function W0(t,n,a,l,c){if(au(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Hm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Hm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),w=H.S;w!==null&&w(g,E),Gm(t,n,E)}catch(j){ph(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),Gm(t,n,f)}catch(j){ph(t,n,j)}}function Gm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qm(t,n,l)},function(l){return ph(t,n,l)}):Qm(t,n,a)}function Qm(t,n,a){n.status="fulfilled",n.value=a,Fm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Hm(t,a)))}function ph(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Fm(n),n=n.next;while(n!==l)}t.action=null}function Fm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ym(t,n){return n}function Xm(t,n){if(xt){var a=Jt.formState;if(a!==null){t:{var l=Tt;if(xt){if(ee){e:{for(var c=ee,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Vn(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:n},a.queue=l,a=dg.bind(null,Tt,l),l.dispatch=a,l=gh(!1),f=Ah.bind(null,Tt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=W0.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Km(t){var n=me();return Zm(n,Yt,t)}function Zm(t,n,a){if(n=dh(t,n,Ym)[0],t=eu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(g){throw g===Jr?Qo:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,ns(9,{destroy:void 0},t1.bind(null,c,a),null)),[l,f,t]}function t1(t,n){t.action=n}function Jm(t){var n=me(),a=Yt;if(a!==null)return Zm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ns(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Wo(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function $m(){return me().memoizedState}function nu(t,n,a,l){var c=We();Tt.flags|=t,c.memoizedState=ns(1|n,{destroy:void 0},a,l===void 0?null:l)}function iu(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&lh(l,Yt.memoizedState.deps)?c.memoizedState=ns(n,f,a,l):(Tt.flags|=t,c.memoizedState=ns(1|n,f,a,l))}function Wm(t,n){nu(8390656,8,t,n)}function yh(t,n){iu(2048,8,t,n)}function e1(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Wo(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function tg(t){var n=me().memoizedState;return e1({ref:n,nextImpl:t}),function(){if((kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function eg(t,n){return iu(4,2,t,n)}function ng(t,n){return iu(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ag(t,n,a){a=a!=null?a.concat([t]):null,iu(4,4,ig.bind(null,n,t),a)}function _h(){}function rg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function sg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),ur){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function vh(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(wt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=lp(),Tt.lanes|=t,fa|=t,a)}function lg(t,n,a,l){return hn(a,n)?a:Wr.current!==null?(t=vh(t,a,l),hn(t,n)||(Se=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(wt&261930)===0?(Se=!0,t.memoizedState=a):(t=lp(),Tt.lanes|=t,fa|=t,n)}function og(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Ah(t,!1,n,a);try{var w=c(),j=H.S;if(j!==null&&j(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=Z0(w,l);gl(t,n,G,yn(t))}else gl(t,n,l,yn(t))}catch(X){gl(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function n1(){}function Eh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=ug(t).queue;og(t,c,n,ot,a===null?n1:function(){return cg(t),a(l)})}function ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=ug(t);n.next===null&&(n=t.alternate.memoizedState),gl(t,n.next.queue,{},yn())}function Th(){return qe(xl)}function hg(){return me().memoizedState}function fg(){return me().memoizedState}function i1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=sa(a);var l=la(n,t,a);l!==null&&(ln(l,n,a),cl(l,n,a)),n={cache:Zc()},t.payload=n;return}n=n.return}}function a1(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},au(t)?mg(n,a):(a=Bc(t,n,a,l),a!==null&&(ln(a,t,l),gg(a,n,l)))}function dg(t,n,a){var l=yn();gl(t,n,a,l)}function gl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(au(t))mg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return jo(t,n,c,0),Jt===null&&Lo(),!1}catch{}if(a=Bc(t,n,c,l),a!==null)return ln(a,t,l),gg(a,n,l),!0}return!1}function Ah(t,n,a,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(r(479))}else n=Bc(t,a,l,2),n!==null&&ln(n,t,2)}function au(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function mg(t,n){ts=Jo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function gg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}var pl={readContext:qe,use:tu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};pl.useEffectEvent=ue;var pg={readContext:qe,use:tu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Wm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,nu(4194308,4,ig.bind(null,n,t),a)},useLayoutEffect:function(t,n){return nu(4194308,4,t,n)},useInsertionEffect:function(t,n){nu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(ur){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(ur){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=a1.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,a=dg.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(t,n){var a=We();return vh(a,t,n)},useTransition:function(){var t=gh(!1);return t=og.bind(null,Tt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=We();if(xt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(wt&127)!==0||Lm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Wm(Bm.bind(null,l,f,t),[t]),l.flags|=2048,ns(9,{destroy:void 0},jm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Jt.identifierPrefix;if(xt){var a=fi,l=hi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$o++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=J0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Th,useFormState:Xm,useActionState:Xm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return We().memoizedState=i1.bind(null,Tt)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Sh={readContext:qe,use:tu,useCallback:rg,useContext:qe,useEffect:yh,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:eu,useRef:$m,useState:function(){return eu(Ii)},useDebugValue:_h,useDeferredValue:function(t,n){var a=me();return lg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=eu(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Um,useId:hg,useHostTransitionStatus:Th,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var a=me();return Pm(a,Yt,t,n)},useMemoCache:fh,useCacheRefresh:fg};Sh.useEffectEvent=tg;var yg={readContext:qe,use:tu,useCallback:rg,useContext:qe,useEffect:yh,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:mh,useRef:$m,useState:function(){return mh(Ii)},useDebugValue:_h,useDeferredValue:function(t,n){var a=me();return Yt===null?vh(a,t,n):lg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=mh(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Um,useId:hg,useHostTransitionStatus:Th,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var a=me();return Yt!==null?Pm(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fh,useCacheRefresh:fg};yg.useEffectEvent=tg;function bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:R({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=sa(l);c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(ln(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(ln(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=sa(a);l.tag=2,n!=null&&(l.callback=n),n=la(t,l,a),n!==null&&(ln(n,t,a),cl(n,t,a))}};function _g(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(c,f):!0}function vg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function cr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=R({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Eg(t){Uo(t)}function Tg(t){console.error(t)}function Ag(t){Uo(t)}function ru(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ch(t,n,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){ru(t,n)},a}function bg(t){return t=sa(t),t.tag=3,t}function Rg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Sg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Sg(n,a,l),typeof c!="function"&&(da===null?da=new Set([this]):da.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function r1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Xr(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?yu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Fo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Jh(t,l,c)),!1;case 22:return a.flags|=65536,l===Fo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Jh(t,l,c)),!1}throw Error(r(435,a.tag))}return Jh(t,l,c),yu(),!1}if(xt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Qc&&(t=Error(r(422),{cause:l}),rl(bn(t,a)))):(l!==Qc&&(n=Error(r(423),{cause:l}),rl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Ch(t.stateNode,l,c),nh(t,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=bn(f,a),bl===null?bl=[f]:bl.push(f),ce!==4&&(ce=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ch(a.stateNode,l,t),nh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(da===null||!da.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=bg(c),Rg(c,t,a,l),nh(a,c),!1}a=a.return}while(a!==null);return!1}var wh=Error(r(461)),Se=!1;function Pe(t,n,a,l){n.child=t===null?Vm(n,null,a,l):or(n,t.child,a,l)}function Cg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ar(n),l=oh(t,n,a,g,f,c),E=uh(),t!==null&&!Se?(ch(t,n,c),Ni(t,n,c)):(xt&&E&&Hc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function wg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=ko(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(g,l)&&t.ref===n.ref)return Ni(t,n,c)}return n.flags|=1,t=Ri(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,zh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Ni(t,n,c)}return Dh(t,n,a,l,c)}function Vg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ig(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Go(n,f!==null?f.cachePool:null),f!==null?xm(n,f):ah(),Mm(n);else return l=n.lanes=536870912,Ig(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Go(n,f.cachePool),xm(n,f),ua(),n.memoizedState=null):(t!==null&&Go(n,null),ah(),ua());return Pe(t,n,c,a),n.child}function yl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ig(t,n,a,l,c){var f=$c();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Go(n,null),ah(),Mm(n),t!==null&&Xr(t,n,l,!0),n.childLanes=c,null}function su(t,n){return n=ou({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ng(t,n,a){return or(n,t.child,null,a),t=su(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function s1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(xt){if(l.mode==="hidden")return t=su(n,l),n.lanes=536870912,yl(null,t);if(sh(n),(t=ee)?(t=Hp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=mm(t),a.return=n,n.child=a,ke=n,ee=null)):t=null,t===null)throw ia(n);return n.lanes=536870912,null}return su(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(sh(n),c)if(n.flags&256)n.flags&=-257,n=Ng(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||Xr(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Jt,l!==null&&(g=js(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,tr(t,g),ln(l,t,g),wh;yu(),n=Ng(t,n,a)}else t=f.treeContext,ee=Vn(g.nextSibling),ke=n,xt=!0,na=null,wn=!1,t!==null&&ym(n,t),n=su(n,l),n.flags|=4096;return n}return t=Ri(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Dh(t,n,a,l,c){return ar(n),a=oh(t,n,a,l,void 0,c),l=uh(),t!==null&&!Se?(ch(t,n,c),Ni(t,n,c)):(xt&&l&&Hc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function xg(t,n,a,l,c,f){return ar(n),n.updateQueue=null,a=zm(n,l,a,c),Om(t),l=uh(),t!==null&&!Se?(ch(t,n,f),Ni(t,n,f)):(xt&&l&&Hc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Mg(t,n,a,l,c){if(ar(n),n.stateNode===null){var f=Gr,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Gr,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(bh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rh.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=cr(a,E);f.props=w;var j=f.context,G=a.contextType;g=Gr,typeof G=="object"&&G!==null&&(g=qe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&vg(n,f,l,g),ra=!1;var B=n.memoizedState;f.state=B,fl(n,l,f,c),hl(),j=n.memoizedState,E||B!==j||ra?(typeof X=="function"&&(bh(n,a,X,l),j=n.memoizedState),(w=ra||_g(n,a,w,l,B,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),g=n.memoizedProps,G=cr(a,g),f.props=G,X=n.pendingProps,B=f.context,j=a.contextType,w=Gr,typeof j=="object"&&j!==null&&(w=qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==w)&&vg(n,f,l,w),ra=!1,B=n.memoizedState,f.state=B,fl(n,l,f,c),hl();var P=n.memoizedState;g!==X||B!==P||ra||t!==null&&t.dependencies!==null&&Po(t.dependencies)?(typeof E=="function"&&(bh(n,a,E,l),P=n.memoizedState),(G=ra||_g(n,a,G,l,B,P,w)||t!==null&&t.dependencies!==null&&Po(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=or(n,t.child,null,c),n.child=or(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ni(t,n,c),t}function Og(t,n,a,l){return nr(),n.flags|=256,Pe(t,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(t){return{baseLanes:t,cachePool:Sm()}}function Nh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function zg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(c?oa(n):ua(),(t=ee)?(t=Hp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=mm(t),a.return=n,n.child=a,ke=n,ee=null)):t=null,t===null)throw ia(n);return mf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ua(),c=n.mode,E=ou({mode:"hidden",children:E},c),l=er(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ih(a),l.childLanes=Nh(t,g,a),n.memoizedState=Vh,yl(null,l)):(oa(n),xh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),E=l.fallback,c=n.mode,l=ou({mode:"visible",children:l.children},c),E=er(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,or(n,t.child,null,a),l=n.child,l.memoizedState=Ih(a),l.childLanes=Nh(t,g,a),n.memoizedState=Vh,n=yl(null,l));else if(oa(n),mf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(r(419)),l.stack="",l.digest=g,rl({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if(Se||Xr(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Jt,g!==null&&(l=js(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,tr(t,l),ln(g,t,l),wh;df(E)||yu(),n=Mh(t,n,a)}else df(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,ee=Vn(E.nextSibling),ke=n,xt=!0,na=null,wn=!1,t!==null&&ym(n,t),n=xh(n,l.children),n.flags|=4096);return n}return c?(ua(),E=l.fallback,c=n.mode,w=t.child,j=w.sibling,l=Ri(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?E=Ri(j,E):(E=er(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,yl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ih(a):(c=E.cachePool,c!==null?(w=Te._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Sm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Nh(t,g,a),n.memoizedState=Vh,yl(t.child,l)):(oa(n),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function xh(t,n){return n=ou({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ou(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Mh(t,n,a){return or(n,t.child,null,a),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,a)}function Oh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Lg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),Pe(t,n,l,a),l=xt?al:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,a,n);else if(t.tag===19)Ug(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Zo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Oh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Oh(n,!0,a,null,f,l);break;case"together":Oh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),fa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Xr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Po(t)))}function l1(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),aa(n,Te,t.memoizedState.cache),nr();break;case 27:case 5:Ua(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:aa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?zg(t,n,a):(oa(n),t=Ni(t,n,a),t!==null?t.sibling:null);oa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Xr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Lg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,Vg(t,n,a,n.pendingProps);case 24:aa(n,Te,t.memoizedState.cache)}return Ni(t,n,a)}function jg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!zh(t,a)&&(n.flags&128)===0)return Se=!1,l1(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,xt&&(n.flags&1048576)!==0&&pm(n,al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=sr(n.elementType),n.type=t,typeof t=="function")kc(t)?(l=cr(t,l),n.tag=1,n=Mg(null,n,t,l,a)):(n.tag=0,n=Dh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===qt){n.tag=11,n=Cg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=wg(null,n,t,l,a);break t}}throw n=$t(t)||t,Error(r(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=cr(l,n.pendingProps),Mg(t,n,l,c,a);case 3:t:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),fl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,aa(n,Te,l),l!==f.cache&&Kc(n,[Te],a,!0),hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Og(t,n,l,a);break t}else if(l!==c){c=bn(Error(r(424)),n),rl(c),n=Og(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ee=Vn(t.firstChild),ke=n,xt=!0,na=null,wn=!0,a=Vm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(nr(),l===c){n=Ni(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return lu(t,n),t===null?(a=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,t=n.pendingProps,l=bu(At.current).createElement(a),l[_e]=n,l[Me]=t,He(l,a,t),ve(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ua(n),t===null&&xt&&(l=n.stateNode=Fp(n.type,n.pendingProps,At.current),ke=n,wn=!0,c=ee,ya(n.type)?(gf=c,ee=Vn(l.firstChild)):ee=c),Pe(t,n,n.pendingProps.children,a),lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((c=l=ee)&&(l=L1(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,ke=n,ee=Vn(l.firstChild),wn=!1,c=!0):c=!1),c||ia(n)),Ua(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,cf(c,f)?l=null:g!==null&&cf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=oh(t,n,$0,null,null,a),xl._currentValue=c),lu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&xt&&((t=a=ee)&&(a=j1(a,n.pendingProps,wn),a!==null?(n.stateNode=a,ke=n,ee=null,t=!0):t=!1),t||ia(n)),null;case 13:return zg(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=or(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Cg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,aa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ar(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return wg(t,n,n.type,n.pendingProps,a);case 15:return Dg(t,n,n.type,n.pendingProps,a);case 19:return Lg(t,n,a);case 31:return s1(t,n,a);case 22:return Vg(t,n,a,n.pendingProps);case 24:return ar(n),l=qe(Te),t===null?(c=$c(),c===null&&(c=Jt,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},th(n),aa(n,Te,c)):((t.lanes&a)!==0&&(eh(t,n),fl(n,null,null,a),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),aa(n,Te,l)):(l=f.cache,aa(n,Te,l),l!==c.cache&&Kc(n,[Te],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xi(t){t.flags|=4}function Uh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(hp())t.flags|=8192;else throw lr=Fo,Wc}else t.flags&=-16777217}function Bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n))if(hp())t.flags|=8192;else throw lr=Fo,Wc}function uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?go():536870912,t.lanes|=n,ss|=n)}function _l(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function o1(t,n,a){var l=n.pendingProps;switch(Gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Te),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yr(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fc())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(ne(n),Bg(n,f)):(ne(n),Uh(n,c,null,l,a))):f?f!==t.memoizedState?(xi(n),ne(n),Bg(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),ne(n),Uh(n,c,t,l,a)),null;case 27:if(Rr(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}t=it.current,Yr(n)?_m(n):(t=Fp(c,l,a),n.stateNode=t,xi(n))}return ne(n),null;case 5:if(Rr(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ne(n),null}if(f=it.current,Yr(n))_m(n);else{var g=bu(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return ne(n),Uh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=At.current,Yr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||zp(t.nodeValue,a)),t||ia(n,!0)}else t=bu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Yr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),uu(n,n.updateQueue),ne(n),null);case 4:return re(),t===null&&rf(n.stateNode.containerInfo),ne(n),null;case 10:return Di(n.type),ne(n),null;case 19:if(Y(de),l=n.memoizedState,l===null)return ne(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)_l(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zo(t),f!==null){for(n.flags|=128,_l(l,!1),t=f.updateQueue,n.updateQueue=t,uu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dm(a,t),a=a.sibling;return nt(de,de.current&1|2),xt&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>mu&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304)}else{if(!c)if(t=Zo(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,uu(n,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!xt)return ne(n),null}else 2*Je()-l.renderingStartTime>mu&&a!==536870912&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=de.current,nt(de,c?a&1|2:a&1),xt&&Ci(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return mn(n),rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&uu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(rr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function u1(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Te),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),rh(),t!==null&&Y(rr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Te),null;case 25:return null;default:return null}}function kg(t,n){switch(Gc(n),n.tag){case 3:Di(Te),re();break;case 26:case 27:case 5:Rr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(de);break;case 10:Di(n.type);break;case 22:case 23:mn(n),rh(),t!==null&&Y(rr);break;case 24:Di(Te)}}function vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Qt(n,n.return,E)}}function ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,j=E;try{j()}catch(G){Qt(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){Qt(n,n.return,G)}}function qg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Nm(n,a)}catch(l){Qt(t,t.return,l)}}}function Pg(t,n,a){a.props=cr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,n,l)}}function El(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Qt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Qt(t,n,c)}else a.current=null}function Hg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Qt(t,t.return,c)}}function Lh(t,n,a){try{var l=t.stateNode;N1(l,t.type,a,n),l[Me]=n}catch(c){Qt(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,a),t=t.sibling;t!==null;)Bh(t,n,a),t=t.sibling}function cu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cu(t,n,a),t=t.sibling;t!==null;)cu(t,n,a),t=t.sibling}function Qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,a),n[_e]=t,n[Me]=a}catch(f){Qt(t,t.return,f)}}var Mi=!1,be=!1,kh=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function c1(t,n){if(t=t.containerInfo,of=Nu,t=am(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,j=0,G=0,X=t,B=null;e:for(;;){for(var P;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(w=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(P=X.firstChild)!==null;)B=X,X=P;for(;;){if(X===t)break e;if(B===a&&++j===c&&(E=g),B===f&&++G===l&&(w=g),(P=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=P}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(uf={focusedElem:t,selectionRange:a},Nu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=cr(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Qt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Yg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&vl(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Qt(a,a.return,g)}else{var c=cr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(a,a.return,g)}}l&64&&qg(a),l&512&&El(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Nm(t,n)}catch(g){Qt(a,a.return,g)}}break;case 27:n===null&&l&4&&Qg(a);case 26:case 5:zi(t,a),n===null&&l&4&&Hg(a),l&512&&El(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&Zg(t,a);break;case 13:zi(t,a),l&4&&Jg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=v1.bind(null,a),B1(t,a))));break;case 22:if(l=a.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||be,c=Mi;var f=be;Mi=l,(be=n)&&!f?Ui(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),Mi=c,be=f}break;case 30:break;default:zi(t,a)}}function Xg(t){var n=t.alternate;n!==null&&(t.alternate=null,Xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)Kg(t,n,a),a=a.sibling}function Kg(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:be||di(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||di(a,n);var l=le,c=nn;ya(a.type)&&(le=a.stateNode,nn=!1),Oi(t,n,a),Vl(a.stateNode),le=l,nn=c;break;case 5:be||di(a,n);case 6:if(l=le,c=nn,le=null,Oi(t,n,a),le=l,nn=c,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:le!==null&&(nn?(t=le,qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ms(t)):qp(le,a.stateNode));break;case 4:l=le,c=nn,le=a.stateNode.containerInfo,nn=!0,Oi(t,n,a),le=l,nn=c;break;case 0:case 11:case 14:case 15:ca(2,a,n),be||ca(4,a,n),Oi(t,n,a);break;case 1:be||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pg(a,n,l)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,Oi(t,n,a),be=l;break;default:Oi(t,n,a)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ms(t)}catch(a){Qt(n,n.return,a)}}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ms(t)}catch(a){Qt(n,n.return,a)}}function h1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Fg),n;default:throw Error(r(435,t.tag))}}function hu(t,n){var a=h1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=E1.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ya(E.type)){le=E.stateNode,nn=!1;break t}break;case 5:le=E.stateNode,nn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(le===null)throw Error(r(160));Kg(f,g,c),le=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var Hn=null;function $g(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(ca(3,t,t.return),vl(3,t),ca(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,a),f[_e]=t,ve(f),l=f;break t;case"link":var g=$p("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;case"meta":if(g=$p("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=Jp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Wp(c,t.type,t.stateNode):Jp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),a!==null&&l&4&&Lh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(st){Qt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Lh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Qt(t,t.return,st)}}break;case 3:if(wu=null,c=Hn,Hn=Ru(n.containerInfo),an(n,t),Hn=c,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ms(n.containerInfo)}catch(st){Qt(t,t.return,st)}kh&&(kh=!1,Wg(t));break;case 4:l=Hn,Hn=Ru(t.stateNode.containerInfo),an(n,t),rn(t),Hn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hu(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(du=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hu(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=Mi,G=be;if(Mi=j||c,be=G||w,an(n,t),be=G,Mi=j,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Mi||be||hr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(st){Qt(w,w.return,st)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Qt(w,w.return,st)}}}else if(n.tag===18){if(a===null){w=n;try{var P=w.stateNode;c?Pp(P,!0):Pp(w.stateNode,!1)}catch(st){Qt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hu(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,hu(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Gg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=jh(t);cu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=jh(t);cu(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,j=jh(t);Bh(t,j,w);break;default:throw Error(r(161))}}catch(G){Qt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function hr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),hr(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pg(n,n.return,a),hr(n);break;case 27:Vl(n.stateNode);case 26:case 5:di(n,n.return),hr(n);break;case 22:n.memoizedState===null&&hr(n);break;case 30:hr(n);break;default:hr(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(c,f,a),vl(4,f);break;case 1:if(Ui(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Qt(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Im(w[c],E)}catch(j){Qt(l,l.return,j)}}a&&g&64&&qg(f),El(f,f.return);break;case 27:Qg(f);case 26:case 5:Ui(c,f,a),a&&l===null&&g&4&&Hg(f),El(f,f.return);break;case 12:Ui(c,f,a);break;case 31:Ui(c,f,a),a&&g&4&&Zg(c,f);break;case 13:Ui(c,f,a),a&&g&4&&Jg(c,f);break;case 22:f.memoizedState===null&&Ui(c,f,a),El(f,f.return);break;case 30:break;default:Ui(c,f,a)}n=n.sibling}}function qh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Ph(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tp(t,n,a,l),n=n.sibling}function tp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&vl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Tl(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,is(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&qh(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Ph(n.alternate,n);break;default:Gn(t,n,a,l)}}function is(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:is(f,g,E,w,c),vl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?is(f,g,E,w,c):Tl(f,g):(G._visibility|=2,is(f,g,E,w,c)),c&&j&2048&&qh(g.alternate,g);break;case 24:is(f,g,E,w,c),c&&j&2048&&Ph(g.alternate,g);break;default:is(f,g,E,w,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&qh(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Ph(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var Al=8192;function as(t,n,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)ep(t,n,a),t=t.sibling}function ep(t,n,a){switch(t.tag){case 26:as(t,n,a),t.flags&Al&&t.memoizedState!==null&&J1(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:as(t,n,a);break;case 3:case 4:var l=Hn;Hn=Ru(t.stateNode.containerInfo),as(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,as(t,n,a),Al=l):as(t,n,a));break;default:as(t,n,a)}}function np(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,ap(l,t)}np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(t),t=t.sibling}function ip(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&ca(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fu(t)):Sl(t);break;default:Sl(t)}}function fu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,ap(l,t)}np(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),fu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fu(n));break;default:fu(n)}t=t.sibling}}function ap(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Xg(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var f1={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},d1=typeof WeakMap=="function"?WeakMap:Map,kt=0,Jt=null,Rt=null,wt=0,Gt=0,gn=null,ha=!1,rs=!1,Hh=!1,Li=0,ce=0,fa=0,fr=0,Gh=0,pn=0,ss=0,bl=null,sn=null,Qh=!1,du=0,rp=0,mu=1/0,gu=null,da=null,Ne=0,ma=null,ls=null,ji=0,Fh=0,Yh=null,sp=null,Rl=0,Xh=null;function yn(){return(kt&2)!==0&&wt!==0?wt&-wt:H.T!==null?tf():po()}function lp(){if(pn===0)if((wt&536870912)===0||xt){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(os(t,0),ga(t,wt,pn,!1)),ka(t,a),((kt&2)===0||t!==Jt)&&(t===Jt&&((kt&2)===0&&(fr|=a),ce===4&&ga(t,wt,pn,!1)),mi(t))}function op(t,n,a){if((kt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||On(t,n),c=l?p1(t,n):Zh(t,n,!0),f=l;do{if(c===0){rs&&!l&&ga(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!m1(a)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=bl;var w=E.current.memoizedState.isDehydrated;if(w&&(os(E,g).flags|=256),g=Zh(E,g,!1),g!==2){if(Hh&&!w){E.errorRecoveryDisabledLanes|=f,fr|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){os(t,0),ga(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ga(l,n,pn,!ha);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=du+300-Je(),10<c)){if(ga(l,n,pn,!ha),Zn(l,0,!0)!==0)break t;ji=n,l.timeoutHandle=Bp(up.bind(null,l,a,sn,gu,Qh,n,pn,fr,ss,ha,f,"Throttled",-0,0),c);break t}up(l,a,sn,gu,Qh,n,pn,fr,ss,ha,f,null,-0,0)}}break}while(!0);mi(t)}function up(t,n,a,l,c,f,g,E,w,j,G,X,B,P){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},ep(n,f,X);var st=(f&62914560)===f?du-Je():(f&4194048)===f?rp-Je():0;if(st=$1(X,st),st!==null){ji=f,t.cancelPendingCommit=st(yp.bind(null,t,n,f,a,l,c,g,E,w,G,X,null,B,P)),ga(t,f,g,!j);return}}yp(t,n,f,a,l,c,g,E,w)}function m1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ga(t,n,a,l){n&=~Gh,n&=~fr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&qa(t,a,n)}function pu(){return(kt&6)===0?(Cl(0),!1):!0}function Kh(){if(Rt!==null){if(Gt===0)var t=Rt.return;else t=Rt,wi=ir=null,hh(t),$r=null,ol=0,t=Rt;for(;t!==null;)kg(t.alternate,t),t=t.return;Rt=null}}function os(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,O1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ji=0,Kh(),Jt=t,Rt=a=Ri(t.current,null),wt=n,Gt=0,gn=null,ha=!1,rs=On(t,n),Hh=!1,ss=pn=Gh=fr=fa=ce=0,sn=bl=null,Qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Li=n,Lo(),a}function cp(t,n){Tt=null,H.H=pl,n===Jr||n===Qo?(n=Cm(),Gt=3):n===Wc?(n=Cm(),Gt=4):Gt=n===wh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Rt===null&&(ce=1,ru(t,bn(n,t.current)))}function hp(){var t=dn.current;return t===null?!0:(wt&4194048)===wt?Dn===null:(wt&62914560)===wt||(wt&536870912)!==0?t===Dn:!1}function fp(){var t=H.H;return H.H=pl,t===null?pl:t}function dp(){var t=H.A;return H.A=f1,t}function yu(){ce=4,ha||(wt&4194048)!==wt&&dn.current!==null||(rs=!0),(fa&134217727)===0&&(fr&134217727)===0||Jt===null||ga(Jt,wt,pn,!1)}function Zh(t,n,a){var l=kt;kt|=2;var c=fp(),f=dp();(Jt!==t||wt!==n)&&(gu=null,os(t,n)),n=!1;var g=ce;t:do try{if(Gt!==0&&Rt!==null){var E=Rt,w=gn;switch(Gt){case 8:Kh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var j=Gt;if(Gt=0,gn=null,us(t,E,w,j),a&&rs){g=0;break t}break;default:j=Gt,Gt=0,gn=null,us(t,E,w,j)}}g1(),g=ce;break}catch(G){cp(t,G)}while(!0);return n&&t.shellSuspendCounter++,wi=ir=null,kt=l,H.H=c,H.A=f,Rt===null&&(Jt=null,wt=0,Lo()),g}function g1(){for(;Rt!==null;)mp(Rt)}function p1(t,n){var a=kt;kt|=2;var l=fp(),c=dp();Jt!==t||wt!==n?(gu=null,mu=Je()+500,os(t,n)):rs=On(t,n);t:do try{if(Gt!==0&&Rt!==null){n=Rt;var f=gn;e:switch(Gt){case 1:Gt=0,gn=null,us(t,n,f,1);break;case 2:case 9:if(bm(f)){Gt=0,gn=null,gp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),mi(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:bm(f)?(Gt=0,gn=null,gp(n)):(Gt=0,gn=null,us(t,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?ty(g):E.stateNode.complete){Gt=0,gn=null;var w=E.sibling;if(w!==null)Rt=w;else{var j=E.return;j!==null?(Rt=j,_u(j)):Rt=null}break e}}Gt=0,gn=null,us(t,n,f,5);break;case 6:Gt=0,gn=null,us(t,n,f,6);break;case 8:Kh(),ce=6;break t;default:throw Error(r(462))}}y1();break}catch(G){cp(t,G)}while(!0);return wi=ir=null,H.H=l,H.A=c,kt=a,Rt!==null?0:(Jt=null,wt=0,Lo(),ce)}function y1(){for(;Rt!==null&&!Cc();)mp(Rt)}function mp(t){var n=jg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?_u(t):Rt=n}function gp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=xg(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=xg(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:hh(n);default:kg(a,n),n=Rt=dm(n,Li),n=jg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?_u(t):Rt=n}function us(t,n,a,l){wi=ir=null,hh(n),$r=null,ol=0;var c=n.return;try{if(r1(t,c,n,a,wt)){ce=1,ru(t,bn(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ce=1,ru(t,bn(a,t.current)),Rt=null;return}n.flags&32768?(xt||l===1?t=!0:rs||(wt&536870912)!==0?t=!1:(ha=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),pp(n,t)):_u(n)}function _u(t){var n=t;do{if((n.flags&32768)!==0){pp(n,ha);return}t=n.return;var a=o1(n.alternate,n,Li);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);ce===0&&(ce=5)}function pp(t,n){do{var a=u1(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);ce=6,Rt=null}function yp(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do vu();while(Ne!==0);if((kt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=jc,Vc(t,a,f,g,E,w),t===Jt&&(Rt=Jt=null,wt=0),ls=n,ma=t,ji=a,Fh=f,Yh=c,sp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T1(Qi,function(){return Ap(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,g=kt,kt|=4;try{c1(t,n,a)}finally{kt=g,et.p=c,H.T=l}}Ne=1,_p(),vp(),Ep()}}function _p(){if(Ne===1){Ne=0;var t=ma,n=ls,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{$g(n,t);var f=uf,g=am(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&im(E.ownerDocument.documentElement,E)){if(w!==null&&Mc(E)){var j=w.start,G=w.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var P=B.getSelection(),st=E.textContent.length,ft=Math.min(w.start,st),Kt=w.end===void 0?ft:Math.min(w.end,st);!P.extend&&ft>Kt&&(g=Kt,Kt=ft,ft=g);var z=nm(E,ft),N=nm(E,Kt);if(z&&N&&(P.rangeCount!==1||P.anchorNode!==z.node||P.anchorOffset!==z.offset||P.focusNode!==N.node||P.focusOffset!==N.offset)){var L=X.createRange();L.setStart(z.node,z.offset),P.removeAllRanges(),ft>Kt?(P.addRange(L),P.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),P.addRange(L))}}}}for(X=[],P=E;P=P.parentNode;)P.nodeType===1&&X.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Nu=!!of,uf=of=null}finally{kt=c,et.p=l,H.T=a}}t.current=n,Ne=2}}function vp(){if(Ne===2){Ne=0;var t=ma,n=ls,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{Yg(t,n.alternate,n)}finally{kt=c,et.p=l,H.T=a}}Ne=3}}function Ep(){if(Ne===4||Ne===3){Ne=0,oo();var t=ma,n=ls,a=ji,l=sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,ls=ma=null,Tp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(da=null),Ti(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ji&3)!==0&&vu(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Xh?Rl++:(Rl=0,Xh=t):Rl=0,Cl(0)}}function Tp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function vu(){return _p(),vp(),Ep(),Ap()}function Ap(){if(Ne!==5)return!1;var t=ma,n=Fh;Fh=0;var a=Ti(ji),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Yh,Yh=null;var f=ma,g=ji;if(Ne=0,ls=ma=null,ji=0,(kt&6)!==0)throw Error(r(331));var E=kt;if(kt|=4,ip(f.current),tp(f,f.current,g,a),kt=E,Cl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{et.p=c,H.T=l,Tp(t,n)}}function Sp(t,n,a){n=bn(a,n),n=Ch(t.stateNode,n,2),t=la(t,n,2),t!==null&&(ka(t,2),mi(t))}function Qt(t,n,a){if(t.tag===3)Sp(t,t,a);else for(;n!==null;){if(n.tag===3){Sp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){t=bn(a,t),a=bg(2),l=la(n,a,2),l!==null&&(Rg(a,l,n,t),ka(l,2),mi(l));break}}n=n.return}}function Jh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new d1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Hh=!0,c.add(a),t=_1.bind(null,t,n,a),n.then(t,t))}function _1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(wt&a)===a&&(ce===4||ce===3&&(wt&62914560)===wt&&300>Je()-du?(kt&2)===0&&os(t,0):Gh|=a,ss===wt&&(ss=0)),mi(t)}function bp(t,n){n===0&&(n=go()),t=tr(t,n),t!==null&&(ka(t,n),mi(t))}function v1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),bp(t,a)}function E1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),bp(t,a)}function T1(t,n){return Ie(t,n)}var Eu=null,cs=null,$h=!1,Tu=!1,Wh=!1,pa=0;function mi(t){t!==cs&&t.next===null&&(cs===null?Eu=cs=t:cs=cs.next=t),Tu=!0,$h||($h=!0,S1())}function Cl(t,n){if(!Wh&&Tu){Wh=!0;do for(var a=!1,l=Eu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Dp(l,f))}else f=wt,f=Zn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||On(l,f)||(a=!0,Dp(l,f));l=l.next}while(a);Wh=!1}}function A1(){Rp()}function Rp(){Tu=$h=!1;var t=0;pa!==0&&M1()&&(t=pa);for(var n=Je(),a=null,l=Eu;l!==null;){var c=l.next,f=Cp(l,n);f===0?(l.next=null,a===null?Eu=c:a.next=c,c===null&&(cs=a)):(a=l,(t!==0||(f&3)!==0)&&(Tu=!0)),l=c}Ne!==0&&Ne!==5||Cl(t),pa!==0&&(pa=0)}function Cp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Dc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=wt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||On(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Gi(l),Ti(a)){case 2:case 8:a=Us;break;case 32:a=Qi;break;case 268435456:a=uo;break;default:a=Qi}return l=wp.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Gi(l),t.callbackPriority=2,t.callbackNode=null,2}function wp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vu()&&t.callbackNode!==a)return null;var l=wt;return l=Zn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(op(t,l,n),Cp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?wp.bind(null,t):null)}function Dp(t,n){if(vu())return null;op(t,n,!0)}function S1(){z1(function(){(kt&6)!==0?Ie(zs,A1):Rp()})}function tf(){if(pa===0){var t=Kr;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),pa=t}return pa}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Or(""+t)}function Ip(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function b1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Vp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Vp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var w=g?Ip(c,g):new FormData(c);Eh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Ip(c,g):new FormData(c),Eh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var ef=0;ef<Lc.length;ef++){var nf=Lc[ef],R1=nf.toLowerCase(),C1=nf[0].toUpperCase()+nf.slice(1);Pn(R1,"on"+C1)}Pn(lm,"onAnimationEnd"),Pn(om,"onAnimationIteration"),Pn(um,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(P0,"onTransitionRun"),Pn(H0,"onTransitionStart"),Pn(G0,"onTransitionCancel"),Pn(cm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Np(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,j=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){Uo(G)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,j=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){Uo(G)}c.currentTarget=null,f=w}}}}function Ct(t,n){var a=n[Vr];a===void 0&&(a=n[Vr]=new Set);var l=t+"__bubble";a.has(l)||(xp(n,t,2,!1),a.add(l))}function af(t,n,a){var l=0;n&&(l|=4),xp(a,t,l,n)}var Au="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[Au]){t[Au]=!0,Bs.forEach(function(a){a!=="selectionchange"&&(w1.has(a)||af(a,!1,t),af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Au]||(n[Au]=!0,af("selectionchange",!1,n))}}function xp(t,n,a,l){switch(ly(n)){case 2:var c=eE;break;case 8:c=nE;break;default:c=Ef}a=c.bind(null,n,a,t),c=void 0,!Fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function sf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Ji(function(){var j=f,G=En(a),X=[];t:{var B=hm.get(t);if(B!==void 0){var P=li,st=t;switch(t){case"keypress":if(Xa(a)===0)break t;case"keydown":case"keyup":P=Mo;break;case"focusin":st="focus",P=Za;break;case"focusout":st="blur",P=Za;break;case"beforeblur":case"afterblur":P=Za;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=bo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case lm:case om:case um:P=Co;break;case cm:P=T;break;case"scroll":case"scrollend":P=Js;break;case"wheel":P=k;break;case"copy":case"cut":case"paste":P=wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=bi;break;case"toggle":case"beforetoggle":P=Et}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),z=ft?B!==null?B+"Capture":null:B;ft=[];for(var N=j,L;N!==null;){var F=N;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||z===null||(F=jn(N,z),F!=null&&ft.push(Dl(N,F,L))),Kt)break;N=N.return}0<ft.length&&(B=new P(B,st,null,a,G),X.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",B&&a!==Xs&&(st=a.relatedTarget||a.fromElement)&&(ti(st)||st[$n]))break t;if((P||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,P?(st=a.relatedTarget||a.toElement,P=j,st=st?ti(st):null,st!==null&&(Kt=h(st),ft=st.tag,st!==Kt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(P=null,st=j),P!==st)){if(ft=$s,F="onMouseLeave",z="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ft=bi,F="onPointerLeave",z="onPointerEnter",N="pointer"),Kt=P==null?B:un(P),L=st==null?B:un(st),B=new ft(F,N+"leave",P,a,G),B.target=Kt,B.relatedTarget=L,F=null,ti(G)===j&&(ft=new ft(z,N+"enter",st,a,G),ft.target=L,ft.relatedTarget=Kt,F=ft),Kt=F,P&&st)e:{for(ft=D1,z=P,N=st,L=0,F=z;F;F=ft(F))L++;F=0;for(var ut=N;ut;ut=ft(ut))F++;for(;0<L-F;)z=ft(z),L--;for(;0<F-L;)N=ft(N),F--;for(;L--;){if(z===N||N!==null&&z===N.alternate){ft=z;break e}z=ft(z),N=ft(N)}ft=null}else ft=null;P!==null&&Mp(X,B,P,ft,!1),st!==null&&Kt!==null&&Mp(X,Kt,st,ft,!0)}}t:{if(B=j?un(j):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var Lt=Zd;else if(Xd(B))if(Jd)Lt=B0;else{Lt=L0;var lt=U0}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Mr(j.elementType)&&(Lt=Zd):Lt=j0;if(Lt&&(Lt=Lt(t,j))){Kd(X,Lt,a,G);break t}lt&&lt(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Qs(B,"number",B.value)}switch(lt=j?un(j):window,t){case"focusin":(Xd(lt)||lt.contentEditable==="true")&&(qr=lt,Oc=j,il=null);break;case"focusout":il=Oc=qr=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,rm(X,a,G);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":rm(X,a,G)}var St;if(Bt)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else kr?Ja(t,a)&&(Dt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(ci&&a.locale!=="ko"&&(kr||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&kr&&(St=Zs()):(si=G,Ks="value"in si?si.value:si.textContent,kr=!0)),lt=Su(j,Dt),0<lt.length&&(Dt=new ui(Dt,t,null,a,G),X.push({event:Dt,listeners:lt}),St?Dt.data=St:(St=Br(a),St!==null&&(Dt.data=St)))),(St=An?x0(t,a):M0(t,a))&&(Dt=Su(j,"onBeforeInput"),0<Dt.length&&(lt=new ui("onBeforeInput","beforeinput",null,a,G),X.push({event:lt,listeners:Dt}),lt.data=St)),b1(X,t,j,a,G)}Np(X,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Su(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jn(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=jn(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function D1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,j=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||j===null||(w=j,c?(j=jn(a,f),j!=null&&g.unshift(Dl(a,j,w))):c||(j=jn(a,f),j!=null&&g.push(Dl(a,j,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var V1=/\r\n?/g,I1=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(V1,`
`).replace(I1,"")}function zp(t,n){return n=Op(n),Op(t)===n}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Ys(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Nr(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=So.get(a)||a,Nr(t,a,l))}}function lf(t,n,a,l,c,f){switch(a){case"style":Ys(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Nr(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,f,g,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=g=c=null,w=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":w=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Xt(t,n,l,G,a,null)}}Eo(t,f,E,w,j,g,c,!1);return;case"select":Ct("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Yi(t,!!l,n,!1):a!=null&&Yi(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,a,null)}Xi(t,l,c,f);return;case"option":for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null)&&(w==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Xt(t,n,w,l,a,null));return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ct(wl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,j,l,a,null)}return;default:if(Mr(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&lf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function N1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,j=null,G=null;for(P in a){var X=a[P];if(a.hasOwnProperty(P)&&X!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(P)||Xt(t,n,P,null,l,X)}}for(var B in l){var P=l[B];if(X=a[B],l.hasOwnProperty(B)&&(P!=null||X!=null))switch(B){case"type":f=P;break;case"name":c=P;break;case"checked":j=P;break;case"defaultChecked":G=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:P!==X&&Xt(t,n,B,P,l,X)}}xr(t,g,E,w,j,G,f,c);return;case"select":P=g=E=B=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":P=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,a=g,l=P,B!=null?Yi(t,!!a,B,!1):!!l!=!!a&&(n!=null?Yi(t,!!a,n,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":P=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}To(t,B,P);return;case"option":for(var st in a)B=a[st],a.hasOwnProperty(st)&&B!=null&&!l.hasOwnProperty(st)&&(st==="selected"?t.selected=!1:Xt(t,n,st,null,l,B));for(w in l)B=l[w],P=a[w],l.hasOwnProperty(w)&&B!==P&&(B!=null||P!=null)&&(w==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Xt(t,n,w,B,l,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Xt(t,n,ft,null,l,B);for(j in l)if(B=l[j],P=a[j],l.hasOwnProperty(j)&&B!==P&&(B!=null||P!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Xt(t,n,j,B,l,P)}return;default:if(Mr(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&lf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],P=a[G],!l.hasOwnProperty(G)||B===P||B===void 0&&P===void 0||lf(t,n,G,B,l,P);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Xt(t,n,z,null,l,B);for(X in l)B=l[X],P=a[X],!l.hasOwnProperty(X)||B===P||B==null&&P==null||Xt(t,n,X,B,l,P)}function Up(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Up(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],j=w.startTime;if(j>E)break;var G=w.transferSize,X=w.initiatorType;G&&Up(X)&&(w=w.responseEnd,g+=G*(w<E?1:(E-j)/(w-j)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var of=null,uf=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function Lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function M1(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(t){return kp.resolve(null).then(t).catch(U1)}:Bp;function U1(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function qp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),ms(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);ms(n)}function Pp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ff(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function L1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function j1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Hp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$?"||t.data==="$~"}function mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function B1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var gf=null;function Gp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Fp(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ir(t)}var In=new Map,Yp=new Set;function Ru(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=et.d;et.d={f:k1,r:q1,D:P1,C:H1,L:G1,m:Q1,X:Y1,S:F1,M:X1};function k1(){var t=Bi.f(),n=pu();return t||n}function q1(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):Bi.r(t)}var hs=typeof document>"u"?null:document;function Xp(t,n,a){var l=hs;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function P1(t){Bi.D(t),Xp("dns-prefetch",t,null)}function H1(t,n){Bi.C(t,n),Xp("preconnect",t,n)}function G1(t,n,a){Bi.L(t,n,a);var l=hs;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=fs(t);break;case"script":f=ds(t)}In.has(f)||(t=R({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function Q1(t,n){Bi.m(t,n);var a=hs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ds(t)}if(!In.has(f)&&(t=R({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}l=a.createElement("link"),He(l,"link",t),ve(l),a.head.appendChild(l)}}}function F1(t,n,a){Bi.S(t,n,a);var l=hs;if(l&&t){var c=ei(l).hoistableStyles,f=fs(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Il(f)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&pf(t,a);var w=g=l.createElement("link");ve(w),He(w,"link",t),w._p=new Promise(function(j,G){w.onload=j,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function Y1(t,n){Bi.X(t,n);var a=hs;if(a&&t){var l=ei(a).hoistableScripts,c=ds(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=R({src:t,async:!0},n),(n=In.get(c))&&yf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function X1(t,n){Bi.M(t,n);var a=hs;if(a&&t){var l=ei(a).hoistableScripts,c=ds(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=R({src:t,async:!0,type:"module"},n),(n=In.get(c))&&yf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,a,l){var c=(c=At.current)?Ru(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fs(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fs(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||K1(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function fs(t){return'href="'+tn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Zp(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function K1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),ve(n),t.head.appendChild(n))}function ds(t){return'[src="'+tn(t)+'"]'}function Nl(t){return"script[async]"+t}function Jp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",c),Cu(l,a.precedence,t),n.instance=l;case"stylesheet":c=fs(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=Zp(a),(c=In.get(c))&&pf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",l),n.state.loading|=4,Cu(f,a.precedence,t),n.instance=f;case"script":return f=ds(a.src),(c=t.querySelector(Nl(f)))?(n.instance=c,ve(c),c):(l=a,(c=In.get(f))&&(l=R({},a),yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,a.precedence,t));return n.instance}function Cu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wu=null;function $p(t,n,a){if(wu===null){var l=new Map,c=wu=new Map;c.set(a,l)}else c=wu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Wp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Z1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function J1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fs(l.href),f=n.querySelector(Il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Du.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,l=Zp(l),(c=In.get(c))&&pf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Du.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var _f=0;function $1(t,n){return t.stylesheets&&t.count===0&&Iu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&_f===0&&(_f=62500*x1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>_f?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vu=null;function Iu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vu=new Map,n.forEach(W1,t),Vu=null,Du.call(t))}function W1(t,n){if(!(n.state.loading&4)){var a=Vu.get(t);if(a)var l=a.get(null);else{a=new Map,Vu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Du.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function tE(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ey(t,n,a,l,c,f,g,E,w,j,G,X){return t=new tE(t,n,a,g,w,j,G,X,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},th(f),t}function ny(t){return t?(t=Gr,t):Gr}function iy(t,n,a,l,c,f){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=la(t,l,n),a!==null&&(ln(a,t,n),cl(a,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function vf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function ry(t){if(t.tag===13||t.tag===31){var n=tr(t,67108864);n!==null&&ln(n,t,67108864),vf(t,67108864)}}function sy(t){if(t.tag===13||t.tag===31){var n=yn();n=Pa(n);var a=tr(t,n);a!==null&&ln(a,t,n),vf(t,n)}}var Nu=!0;function eE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Ef(t,n,a,l)}finally{et.p=f,H.T=c}}function nE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Ef(t,n,a,l)}finally{et.p=f,H.T=c}}function Ef(t,n,a,l){if(Nu){var c=Tf(l);if(c===null)sf(t,n,l,xu,a),oy(t,l);else if(aE(c,t,n,a,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<iE.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-he(g);E.entanglements[1]|=w,g&=~w}mi(f),(kt&6)===0&&(mu=Je()+500,Cl(0))}}break;case 31:case 13:E=tr(f,2),E!==null&&ln(E,f,2),pu(),vf(f,2)}if(f=Tf(l),f===null&&sf(t,n,l,xu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else sf(t,n,l,null,a)}}function Tf(t){return t=En(t),Af(t)}var xu=null;function Af(t){if(xu=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case zs:return 2;case Us:return 8;case Qi:case wc:return 32;case uo:return 268435456;default:return 32}default:return 32}}var Sf=!1,_a=null,va=null,Ea=null,Ml=new Map,Ol=new Map,Ta=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function zl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function aE(t,n,a,l,c){switch(n){case"focusin":return _a=zl(_a,t,n,a,l,c),!0;case"dragenter":return va=zl(va,t,n,a,l,c),!0;case"mouseover":return Ea=zl(Ea,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,zl(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,zl(Ol.get(f)||null,t,n,a,l,c)),!0}return!1}function uy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){sy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){sy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Tf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xs=l,a.target.dispatchEvent(l),Xs=null}else return n=vn(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function cy(t,n,a){Mu(t)&&a.delete(n)}function rE(){Sf=!1,_a!==null&&Mu(_a)&&(_a=null),va!==null&&Mu(va)&&(va=null),Ea!==null&&Mu(Ea)&&(Ea=null),Ml.forEach(cy),Ol.forEach(cy)}function Ou(t,n){t.blockedOn===n&&(t.blockedOn=null,Sf||(Sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rE)))}var zu=null;function hy(t){zu!==t&&(zu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Af(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ms(t){function n(w){return Ou(w,t)}_a!==null&&Ou(_a,t),va!==null&&Ou(va,t),Ea!==null&&Ou(Ea,t),Ml.forEach(n),Ol.forEach(n);for(var a=0;a<Ta.length;a++){var l=Ta[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)uy(a),a.blockedOn===null&&Ta.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Me]||null;if(typeof f=="function")g||hy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Af(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),hy(a)}}}function fy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function bf(t){this._internalRoot=t}Uu.prototype.render=bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();iy(a,l,t,n,null,null)},Uu.prototype.unmount=bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),pu(),n[$n]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var n=po();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ta.length&&n!==0&&n<Ta[a].priority;a++);Ta.splice(a,0,t),a===0&&uy(t)}};var dy=e.version;if(dy!=="19.2.3")throw Error(r(527,dy,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var sE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Mn=Lu.inject(sE),je=Lu}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Eg,f=Tg,g=Ag;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ey(t,1,!1,null,null,a,l,null,c,f,g,fy),t[$n]=n.current,rf(t),new bf(n)},Ll.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Eg,g=Tg,E=Ag,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=ey(t,1,!0,n,a??null,l,c,w,f,g,E,fy),n.context=ny(null),a=n.current,l=yn(),l=Pa(l),c=sa(l),c.callback=null,la(a,c,l),a=l,n.current.lanes=a,ka(n,a),mi(n),t[$n]=n.current,rf(t),new Uu(n)},Ll.version="19.2.3",Ll}var Sy;function yE(){if(Sy)return wf.exports;Sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wf.exports=pE(),wf.exports}var _E=yE();const vE=B_(_E);async function k_(s){const e=new Blob([s],{type:"text/javascript"}),i=URL.createObjectURL(e);try{const o=(await import(i)).default,h=typeof o?.init=="function",d=typeof o?.render=="function";if(!h&&!d)throw new Error("El archivo no es vlido. Debe exportar 'init' (nuevo) o 'render' (formato compaeros).");return d&&!o.meta&&(o.meta={id:"legacy_"+Date.now(),name:"Simulador Importado",version:"0.0.0",inputs:[]}),o}catch(r){throw console.error("Error cargando simulador:",r),r}finally{URL.revokeObjectURL(i)}}const hd=({code:s,params:e})=>{const i=ie.useRef(null),[r,o]=ie.useState(null),[h,d]=ie.useState(null),[y,v]=ie.useState(!1);if(ie.useEffect(()=>{let S=!0;return(async()=>{try{o(null);const M=await k_(s);S&&d(M)}catch(M){S&&o(M.message)}})(),()=>{S=!1}},[s]),ie.useEffect(()=>{if(!h||!i.current||!y)return;const S=i.current;S.innerHTML="";try{if(h.init)h.init(S,e),h.update&&h.update(S,e);else if(h.render){const R=h.meta?.name||"Simulador",M=h.render(e,R),Q=/<script>([\s\S]*?)<\/script>/,J=M.match(Q),tt=M.replace(Q,""),$=J?J[1]:null;if(S.innerHTML=tt,$){const ht=document.createElement("script");ht.textContent=$,document.body.appendChild(ht),setTimeout(()=>ht.remove(),10)}}}catch(R){console.error("Error ejecucin:",R),S.innerHTML=`<div class="feedback-incorrect">Error: ${R.message}</div>`}return()=>{h.destroy&&h.destroy(S),S.innerHTML=""}},[h,e,y]),r)return q.jsxs("div",{className:"feedback-incorrect",children:["Error: ",r]});if(!h)return q.jsx("div",{className:"loading",children:"Cargando..."});const _=h.meta?.name||"Simulador";return q.jsxs("div",{className:"my-4",children:[q.jsx("button",{className:`btn-sim ${y?"btn-sim-rojo":""}`,onClick:()=>v(!y),children:y?`Ocultar ${_}`:`Abrir ${_}`}),y&&q.jsxs("div",{className:"simulador-box fade-in",children:[q.jsx("div",{ref:i,style:{minHeight:"50px"}}),q.jsxs("div",{className:"text-muted text-sm mt-2",style:{fontSize:"0.8em",fontStyle:"italic"},children:["Formato: ",h.init?"Nativo V2":"Legacy V1"]})]})]})};const EE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TE=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),by=s=>{const e=TE(s);return e.charAt(0).toUpperCase()+e.slice(1)},q_=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),AE=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var SE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bE=ie.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...y},v)=>ie.createElement("svg",{ref:v,...SE,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:q_("lucide",o),...!h&&!AE(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>ie.createElement(_,S)),...Array.isArray(h)?h:[h]]));const Le=(s,e)=>{const i=ie.forwardRef(({className:r,...o},h)=>ie.createElement(bE,{ref:h,iconNode:e,className:q_(`lucide-${EE(by(s))}`,`lucide-${s}`,r),...o}));return i.displayName=by(s),i};const RE=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],CE=Le("arrow-down",RE);const wE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],DE=Le("arrow-up",wE);const VE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],IE=Le("circle-check-big",VE);const NE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xE=Le("circle-question-mark",NE);const ME=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],OE=Le("cloud-upload",ME);const zE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],UE=Le("download",zE);const LE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jE=Le("eye",LE);const BE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],kE=Le("file-text",BE);const qE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],PE=Le("folder-open",qE);const HE=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],GE=Le("gamepad-2",HE);const QE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ry=Le("moon",QE);const FE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YE=Le("save",FE);const XE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Cy=Le("sun",XE);const KE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZE=Le("trash-2",KE);const JE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$E=Le("triangle-alert",JE);const WE=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],tT=Le("undo",WE);const eT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nT=Le("upload",eT);const iT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aT=Le("x",iT),rT=({block:s,availableSimulators:e,onUpdate:i,onDelete:r,onMoveUp:o,onMoveDown:h,isFirst:d,isLast:y})=>{const v=R=>{i({...s,content:R.target.value})},_=R=>{const M=R.target.value;i({...s,simulatorId:M,simConfig:{}})},S=e.find(R=>R.id===s.simulatorId);return q.jsxs("div",{className:"paper-container fade-in",style:{position:"relative",padding:"1rem",border:"1px solid var(--border-color)",marginBottom:"1rem"},children:[q.jsxs("div",{className:"toolbar-line",style:{justifyContent:"space-between",marginBottom:"0.5rem"},children:[q.jsx("span",{className:"badge",children:s.type==="simulator"?" Simulador":" Texto / LaTeX"}),q.jsxs("div",{style:{display:"flex",gap:"4px"},children:[q.jsx("button",{onClick:o,disabled:d,title:"Subir",children:q.jsx(DE,{size:16})}),q.jsx("button",{onClick:h,disabled:y,title:"Bajar",children:q.jsx(CE,{size:16})}),q.jsx("button",{onClick:r,className:"delete-btn",style:{color:"var(--brand-error)",borderColor:"var(--brand-error)"},title:"Eliminar",children:q.jsx(ZE,{size:16})})]})]}),s.type==="text"&&q.jsx("textarea",{value:s.content,onChange:v,placeholder:"Escribe aqu tu contenido... (Soporta LaTeX entre \\( \\))",rows:4,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid var(--border-color)"}}),s.type==="simulator"&&q.jsxs("div",{children:[q.jsxs("div",{className:"row",style:{marginBottom:"1rem"},children:[q.jsx("label",{style:{fontWeight:"bold",fontSize:"0.9rem",display:"block",marginBottom:"5px"},children:"Elige un Simulador:"}),q.jsxs("select",{value:s.simulatorId||"",onChange:_,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid var(--border-color)"},children:[q.jsx("option",{value:"",children:"-- Selecciona un simulador --"}),e.map(R=>q.jsxs("option",{value:R.id,children:[R.name," (v",R.version,")"]},R.id))]})]}),S?q.jsxs("div",{style:{border:"2px dashed var(--brand-secondary)",padding:"10px",borderRadius:"8px",background:"#f8fafc"},children:[q.jsx("p",{style:{fontSize:"0.8em",color:"var(--text-muted)",textAlign:"center",margin:"0 0 10px 0"},children:" Vista Previa en Vivo "}),q.jsx(hd,{code:S.code,params:s.simConfig||{}})]}):s.simulatorId&&q.jsx("p",{className:"text-muted",children:" Simulador no encontrado (fue borrado?)"})]})]})},sT=({page:s,availableSimulators:e,onUpdatePage:i})=>{const r=(_,S)=>{const R=s.blocks.map(M=>M.id===_?S:M);i({...s,blocks:R})},o=_=>{if(!confirm("Eliminar este bloque?"))return;const S=s.blocks.filter(R=>R.id!==_);i({...s,blocks:S})},h=(_,S)=>{const R=[...s.blocks],M=_+S;[R[_],R[M]]=[R[M],R[_]],i({...s,blocks:R})},d=_=>{const S={id:crypto.randomUUID(),type:_,content:"",simulatorId:"",simConfig:{}};i({...s,blocks:[...s.blocks,S]})},y=_=>{i({...s,title:_.target.value})},v=_=>{i({...s,type:_.target.value})};return q.jsxs("div",{className:"page-editor",children:[q.jsxs("div",{style:{marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[q.jsxs("div",{style:{marginBottom:"0.5rem"},children:[q.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginRight:"10px"},children:"Tipo de Pgina"}),q.jsxs("select",{value:s.type||"seccion",onChange:v,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid var(--border-color)",fontWeight:"bold",color:"var(--brand-primary)"},children:[q.jsx("option",{value:"portada",children:"Portada"}),q.jsx("option",{value:"capitulo",children:"Captulo"}),q.jsx("option",{value:"seccion",children:"Seccin"}),q.jsx("option",{value:"subseccion",children:"Subseccin"})]})]}),q.jsx("input",{type:"text",value:s.title,onChange:y,placeholder:"Ttulo de la Pgina",style:{fontSize:"1.8rem",fontWeight:"bold",width:"100%",padding:"0.5rem 0",border:"none",borderBottom:"2px solid var(--brand-primary)",background:"transparent",color:"var(--text-primary)",outline:"none"}})]}),q.jsxs("div",{className:"blocks-list",children:[s.blocks.length===0&&q.jsx("div",{className:"empty-state",children:"Esta pgina est vaca. Aade contenido abajo."}),s.blocks.map((_,S)=>q.jsx(rT,{block:_,availableSimulators:e,onUpdate:R=>r(_.id,R),onDelete:()=>o(_.id),onMoveUp:()=>h(S,-1),onMoveDown:()=>h(S,1),isFirst:S===0,isLast:S===s.blocks.length-1},_.id))]}),q.jsxs("div",{className:"actions-area",style:{marginTop:"2rem",paddingTop:"1rem",borderTop:"1px dashed var(--border-color)",display:"flex",gap:"1rem",justifyContent:"center"},children:[q.jsxs("button",{onClick:()=>d("text"),style:{display:"flex",alignItems:"center",gap:"8px"},children:[q.jsx(kE,{size:18})," Aadir Texto"]}),q.jsxs("button",{onClick:()=>d("simulator"),style:{display:"flex",alignItems:"center",gap:"8px",borderColor:"var(--brand-accent)"},children:[q.jsx(GE,{size:18})," Aadir Simulador"]})]})]})},lT=()=>{};var wy={};const P_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},oT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},H_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,S=h>>2,R=(h&3)<<4|y>>4;let M=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(M=64)),r.push(i[S],i[R],i[M],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(P_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):oT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const R=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||R==null)throw new uT;const M=h<<2|y>>4;if(r.push(M),_!==64){const Q=y<<4&240|_>>2;if(r.push(Q),R!==64){const J=_<<6&192|R;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cT=function(s){const e=P_(s);return H_.encodeByteArray(e,!0)},Ku=function(s){return cT(s).replace(/\./g,"")},hT=function(s){try{return H_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dT=()=>fT().__FIREBASE_DEFAULTS__,mT=()=>{if(typeof process>"u"||typeof wy>"u")return;const s=wy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&hT(s[1]);return e&&JSON.parse(e)},fd=()=>{try{return lT()||dT()||mT()||gT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},pT=s=>fd()?.emulatorHosts?.[s],yT=s=>{const e=pT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},G_=()=>fd()?.config;class _T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function dd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vT(s){return(await fetch(s,{credentials:"include"})).ok}function ET(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ku(JSON.stringify(i)),Ku(JSON.stringify(d)),""].join(".")}const Pl={};function TT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?s.emulator.push(e):s.prod.push(e);return s}function AT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Dy=!1;function ST(s,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||Pl[s]===e||Pl[s]||Dy)return;Pl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=TT().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Dy=!0,d()},M}function S(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function R(){const M=AT(r),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),ht=i("preprendIcon"),vt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;y(dt),S($,tt);const qt=_();v(vt,ht),dt.append(vt,J,$,qt),document.body.appendChild(dt)}h?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function bT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RT(){const s=fd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CT(){return!RT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function DT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const VT="FirebaseError";class ws extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=VT,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q_.prototype.create)}}class Q_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?IT(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new ws(o,y,r)}}function IT(s,e){return s.replace(NT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const NT=/\{\$([^}]+)}/g;function Zu(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Vy(h)&&Vy(d)){if(!Zu(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Vy(s){return s!==null&&typeof s=="object"}function yr(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dr="[DEFAULT]";class xT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new _T;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OT(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dr){return this.instances.has(e)}getOptions(e=dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dr){return this.component?this.component.multipleInstances?e:dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MT(s){return s===dr?void 0:s}function OT(s){return s.instantiationMode==="EAGER"}class zT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const UT={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},LT=zt.INFO,jT={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},BT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=jT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F_{constructor(e){this.name=e,this._logLevel=LT,this._logHandler=BT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const kT=(s,e)=>e.some(i=>s instanceof i);let Iy,Ny;function qT(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PT(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y_=new WeakMap,kf=new WeakMap,X_=new WeakMap,Nf=new WeakMap,md=new WeakMap;function HT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ba(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Y_.set(i,s)}).catch(()=>{}),md.set(e,s),e}function GT(s){if(kf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});kf.set(s,e)}let qf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return kf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||X_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ba(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function QT(s){qf=s(qf)}function FT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(xf(this),e,...i);return X_.set(r,e.sort?e.sort():[e]),ba(r)}:PT().includes(s)?function(...e){return s.apply(xf(this),e),ba(Y_.get(this))}:function(...e){return ba(s.apply(xf(this),e))}}function YT(s){return typeof s=="function"?FT(s):(s instanceof IDBTransaction&&GT(s),kT(s,qT())?new Proxy(s,qf):s)}function ba(s){if(s instanceof IDBRequest)return HT(s);if(Nf.has(s))return Nf.get(s);const e=YT(s);return e!==s&&(Nf.set(s,e),md.set(e,s)),e}const xf=s=>md.get(s);function XT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=ba(d);return r&&d.addEventListener("upgradeneeded",v=>{r(ba(d.result),v.oldVersion,v.newVersion,ba(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const KT=["get","getKey","getAll","getAllKeys","count"],ZT=["put","add","delete","clear"],Mf=new Map;function xy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=ZT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||KT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Mf.set(e,h),h}QT(s=>({...s,get:(e,i,r)=>xy(e,i)||s.get(e,i,r),has:(e,i)=>!!xy(e,i)||s.has(e,i)}));class JT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($T(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function $T(s){return s.getComponent()?.type==="VERSION"}const Pf="@firebase/app",My="0.14.6";const qi=new F_("@firebase/app"),WT="@firebase/app-compat",tA="@firebase/analytics-compat",eA="@firebase/analytics",nA="@firebase/app-check-compat",iA="@firebase/app-check",aA="@firebase/auth",rA="@firebase/auth-compat",sA="@firebase/database",lA="@firebase/data-connect",oA="@firebase/database-compat",uA="@firebase/functions",cA="@firebase/functions-compat",hA="@firebase/installations",fA="@firebase/installations-compat",dA="@firebase/messaging",mA="@firebase/messaging-compat",gA="@firebase/performance",pA="@firebase/performance-compat",yA="@firebase/remote-config",_A="@firebase/remote-config-compat",vA="@firebase/storage",EA="@firebase/storage-compat",TA="@firebase/firestore",AA="@firebase/ai",SA="@firebase/firestore-compat",bA="firebase",RA="12.6.0";const Hf="[DEFAULT]",CA={[Pf]:"fire-core",[WT]:"fire-core-compat",[eA]:"fire-analytics",[tA]:"fire-analytics-compat",[iA]:"fire-app-check",[nA]:"fire-app-check-compat",[aA]:"fire-auth",[rA]:"fire-auth-compat",[sA]:"fire-rtdb",[lA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[uA]:"fire-fn",[cA]:"fire-fn-compat",[hA]:"fire-iid",[fA]:"fire-iid-compat",[dA]:"fire-fcm",[mA]:"fire-fcm-compat",[gA]:"fire-perf",[pA]:"fire-perf-compat",[yA]:"fire-rc",[_A]:"fire-rc-compat",[vA]:"fire-gcs",[EA]:"fire-gcs-compat",[TA]:"fire-fst",[SA]:"fire-fst-compat",[AA]:"fire-vertex","fire-js":"fire-js",[bA]:"fire-js-all"};const Ju=new Map,wA=new Map,Gf=new Map;function Oy(s,e){try{s.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function $u(s){const e=s.name;if(Gf.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,s);for(const i of Ju.values())Oy(i,s);for(const i of wA.values())Oy(i,s);return!0}function DA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function VA(s){return s==null?!1:s.settings!==void 0}const IA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Q_("app","Firebase",IA);class NA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}const xA=RA;function K_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Hf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ra.create("bad-app-name",{appName:String(o)});if(i||(i=G_()),!i)throw Ra.create("no-options");const h=Ju.get(o);if(h){if(Zu(i,h.options)&&Zu(r,h.config))return h;throw Ra.create("duplicate-app",{appName:o})}const d=new zT(o);for(const v of Gf.values())d.addComponent(v);const y=new NA(i,r,d);return Ju.set(o,y),y}function MA(s=Hf){const e=Ju.get(s);if(!e&&s===Hf&&G_())return K_();if(!e)throw Ra.create("no-app",{appName:s});return e}function vs(s,e,i){let r=CA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}$u(new Yl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const OA="firebase-heartbeat-database",zA=1,Xl="firebase-heartbeat-store";let Of=null;function Z_(){return Of||(Of=XT(OA,zA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ra.create("idb-open",{originalErrorMessage:s.message})})),Of}async function UA(s){try{const i=(await Z_()).transaction(Xl),r=await i.objectStore(Xl).get(J_(s));return await i.done,r}catch(e){if(e instanceof ws)qi.warn(e.message);else{const i=Ra.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function zy(s,e){try{const r=(await Z_()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,J_(s)),await r.done}catch(i){if(i instanceof ws)qi.warn(i.message);else{const r=Ra.create("idb-set",{originalErrorMessage:i?.message});qi.warn(r.message)}}}function J_(s){return`${s.name}!${s.options.appId}`}const LA=1024,jA=30;class BA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>jA){const o=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uy(),{heartbeatsToSend:i,unsentEntries:r}=kA(this._heartbeatsCache.heartbeats),o=Ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qi.warn(e),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function kA(s,e=LA){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ly(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ly(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class qA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?DT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await UA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ly(s){return Ku(JSON.stringify({version:2,heartbeats:s})).length}function PA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function HA(s){$u(new Yl("platform-logger",e=>new JT(e),"PRIVATE")),$u(new Yl("heartbeat",e=>new BA(e),"PRIVATE")),vs(Pf,My,s),vs(Pf,My,"esm2020"),vs("fire-js","")}HA("");var GA="firebase",QA="12.7.0";vs(GA,QA,"app");var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ca,$_;(function(){var s;function e(D,A){function b(){}b.prototype=A.prototype,D.F=A.prototype,D.prototype=new b,D.prototype.constructor=D,D.D=function(I,V,O){for(var C=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)C[$t-2]=arguments[$t];return A.prototype[V].apply(I,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,b){b||(b=0);const I=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)I[V]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(V=0;V<16;++V)I[V]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=D.g[0],b=D.g[1],V=D.g[2];let O=D.g[3],C;C=A+(O^b&(V^O))+I[0]+3614090360&4294967295,A=b+(C<<7&4294967295|C>>>25),C=O+(V^A&(b^V))+I[1]+3905402710&4294967295,O=A+(C<<12&4294967295|C>>>20),C=V+(b^O&(A^b))+I[2]+606105819&4294967295,V=O+(C<<17&4294967295|C>>>15),C=b+(A^V&(O^A))+I[3]+3250441966&4294967295,b=V+(C<<22&4294967295|C>>>10),C=A+(O^b&(V^O))+I[4]+4118548399&4294967295,A=b+(C<<7&4294967295|C>>>25),C=O+(V^A&(b^V))+I[5]+1200080426&4294967295,O=A+(C<<12&4294967295|C>>>20),C=V+(b^O&(A^b))+I[6]+2821735955&4294967295,V=O+(C<<17&4294967295|C>>>15),C=b+(A^V&(O^A))+I[7]+4249261313&4294967295,b=V+(C<<22&4294967295|C>>>10),C=A+(O^b&(V^O))+I[8]+1770035416&4294967295,A=b+(C<<7&4294967295|C>>>25),C=O+(V^A&(b^V))+I[9]+2336552879&4294967295,O=A+(C<<12&4294967295|C>>>20),C=V+(b^O&(A^b))+I[10]+4294925233&4294967295,V=O+(C<<17&4294967295|C>>>15),C=b+(A^V&(O^A))+I[11]+2304563134&4294967295,b=V+(C<<22&4294967295|C>>>10),C=A+(O^b&(V^O))+I[12]+1804603682&4294967295,A=b+(C<<7&4294967295|C>>>25),C=O+(V^A&(b^V))+I[13]+4254626195&4294967295,O=A+(C<<12&4294967295|C>>>20),C=V+(b^O&(A^b))+I[14]+2792965006&4294967295,V=O+(C<<17&4294967295|C>>>15),C=b+(A^V&(O^A))+I[15]+1236535329&4294967295,b=V+(C<<22&4294967295|C>>>10),C=A+(V^O&(b^V))+I[1]+4129170786&4294967295,A=b+(C<<5&4294967295|C>>>27),C=O+(b^V&(A^b))+I[6]+3225465664&4294967295,O=A+(C<<9&4294967295|C>>>23),C=V+(A^b&(O^A))+I[11]+643717713&4294967295,V=O+(C<<14&4294967295|C>>>18),C=b+(O^A&(V^O))+I[0]+3921069994&4294967295,b=V+(C<<20&4294967295|C>>>12),C=A+(V^O&(b^V))+I[5]+3593408605&4294967295,A=b+(C<<5&4294967295|C>>>27),C=O+(b^V&(A^b))+I[10]+38016083&4294967295,O=A+(C<<9&4294967295|C>>>23),C=V+(A^b&(O^A))+I[15]+3634488961&4294967295,V=O+(C<<14&4294967295|C>>>18),C=b+(O^A&(V^O))+I[4]+3889429448&4294967295,b=V+(C<<20&4294967295|C>>>12),C=A+(V^O&(b^V))+I[9]+568446438&4294967295,A=b+(C<<5&4294967295|C>>>27),C=O+(b^V&(A^b))+I[14]+3275163606&4294967295,O=A+(C<<9&4294967295|C>>>23),C=V+(A^b&(O^A))+I[3]+4107603335&4294967295,V=O+(C<<14&4294967295|C>>>18),C=b+(O^A&(V^O))+I[8]+1163531501&4294967295,b=V+(C<<20&4294967295|C>>>12),C=A+(V^O&(b^V))+I[13]+2850285829&4294967295,A=b+(C<<5&4294967295|C>>>27),C=O+(b^V&(A^b))+I[2]+4243563512&4294967295,O=A+(C<<9&4294967295|C>>>23),C=V+(A^b&(O^A))+I[7]+1735328473&4294967295,V=O+(C<<14&4294967295|C>>>18),C=b+(O^A&(V^O))+I[12]+2368359562&4294967295,b=V+(C<<20&4294967295|C>>>12),C=A+(b^V^O)+I[5]+4294588738&4294967295,A=b+(C<<4&4294967295|C>>>28),C=O+(A^b^V)+I[8]+2272392833&4294967295,O=A+(C<<11&4294967295|C>>>21),C=V+(O^A^b)+I[11]+1839030562&4294967295,V=O+(C<<16&4294967295|C>>>16),C=b+(V^O^A)+I[14]+4259657740&4294967295,b=V+(C<<23&4294967295|C>>>9),C=A+(b^V^O)+I[1]+2763975236&4294967295,A=b+(C<<4&4294967295|C>>>28),C=O+(A^b^V)+I[4]+1272893353&4294967295,O=A+(C<<11&4294967295|C>>>21),C=V+(O^A^b)+I[7]+4139469664&4294967295,V=O+(C<<16&4294967295|C>>>16),C=b+(V^O^A)+I[10]+3200236656&4294967295,b=V+(C<<23&4294967295|C>>>9),C=A+(b^V^O)+I[13]+681279174&4294967295,A=b+(C<<4&4294967295|C>>>28),C=O+(A^b^V)+I[0]+3936430074&4294967295,O=A+(C<<11&4294967295|C>>>21),C=V+(O^A^b)+I[3]+3572445317&4294967295,V=O+(C<<16&4294967295|C>>>16),C=b+(V^O^A)+I[6]+76029189&4294967295,b=V+(C<<23&4294967295|C>>>9),C=A+(b^V^O)+I[9]+3654602809&4294967295,A=b+(C<<4&4294967295|C>>>28),C=O+(A^b^V)+I[12]+3873151461&4294967295,O=A+(C<<11&4294967295|C>>>21),C=V+(O^A^b)+I[15]+530742520&4294967295,V=O+(C<<16&4294967295|C>>>16),C=b+(V^O^A)+I[2]+3299628645&4294967295,b=V+(C<<23&4294967295|C>>>9),C=A+(V^(b|~O))+I[0]+4096336452&4294967295,A=b+(C<<6&4294967295|C>>>26),C=O+(b^(A|~V))+I[7]+1126891415&4294967295,O=A+(C<<10&4294967295|C>>>22),C=V+(A^(O|~b))+I[14]+2878612391&4294967295,V=O+(C<<15&4294967295|C>>>17),C=b+(O^(V|~A))+I[5]+4237533241&4294967295,b=V+(C<<21&4294967295|C>>>11),C=A+(V^(b|~O))+I[12]+1700485571&4294967295,A=b+(C<<6&4294967295|C>>>26),C=O+(b^(A|~V))+I[3]+2399980690&4294967295,O=A+(C<<10&4294967295|C>>>22),C=V+(A^(O|~b))+I[10]+4293915773&4294967295,V=O+(C<<15&4294967295|C>>>17),C=b+(O^(V|~A))+I[1]+2240044497&4294967295,b=V+(C<<21&4294967295|C>>>11),C=A+(V^(b|~O))+I[8]+1873313359&4294967295,A=b+(C<<6&4294967295|C>>>26),C=O+(b^(A|~V))+I[15]+4264355552&4294967295,O=A+(C<<10&4294967295|C>>>22),C=V+(A^(O|~b))+I[6]+2734768916&4294967295,V=O+(C<<15&4294967295|C>>>17),C=b+(O^(V|~A))+I[13]+1309151649&4294967295,b=V+(C<<21&4294967295|C>>>11),C=A+(V^(b|~O))+I[4]+4149444226&4294967295,A=b+(C<<6&4294967295|C>>>26),C=O+(b^(A|~V))+I[11]+3174756917&4294967295,O=A+(C<<10&4294967295|C>>>22),C=V+(A^(O|~b))+I[2]+718787259&4294967295,V=O+(C<<15&4294967295|C>>>17),C=b+(O^(V|~A))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+O&4294967295}r.prototype.v=function(D,A){A===void 0&&(A=D.length);const b=A-this.blockSize,I=this.C;let V=this.h,O=0;for(;O<A;){if(V==0)for(;O<=b;)o(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<A;)if(I[V++]=D.charCodeAt(O++),V==this.blockSize){o(this,I),V=0;break}}else for(;O<A;)if(I[V++]=D[O++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=A},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var b=D.length-8;b<D.length;++b)D[b]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,b=0;b<4;++b)for(let I=0;I<32;I+=8)D[A++]=this.g[b]>>>I&255;return D};function h(D,A){var b=y;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=A(D)}function d(D,A){this.h=A;const b=[];let I=!0;for(let V=D.length-1;V>=0;V--){const O=D[V]|0;I&&O==A||(b[V]=O,I=!1)}this.g=b}var y={};function v(D){return-128<=D&&D<128?h(D,function(A){return new d([A|0],A<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return R;if(D<0)return $(_(-D));const A=[];let b=1;for(let I=0;D>=b;I++)A[I]=D/b|0,b*=4294967296;return new d(A,0)}function S(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return $(S(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=_(Math.pow(A,8));let I=R;for(let O=0;O<D.length;O+=8){var V=Math.min(8,D.length-O);const C=parseInt(D.substring(O,O+V),A);V<8?(V=_(Math.pow(A,V)),I=I.j(V).add(_(C))):(I=I.j(b),I=I.add(_(C)))}return I}var R=v(0),M=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(tt(this))return-$(this).m();let D=0,A=1;for(let b=0;b<this.g.length;b++){const I=this.i(b);D+=(I>=0?I:4294967296+I)*A,A*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(tt(this))return"-"+$(this).toString(D);const A=_(Math.pow(D,6));var b=this;let I="";for(;;){const V=qt(b,A).g;b=ht(b,V.j(A));let O=((b.g.length>0?b.g[0]:b.h)>>>0).toString(D);if(b=V,J(b))return O+I;for(;O.length<6;)O="0"+O;I=O+I}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function tt(D){return D.h==-1}s.l=function(D){return D=ht(this,D),tt(D)?-1:J(D)?0:1};function $(D){const A=D.g.length,b=[];for(let I=0;I<A;I++)b[I]=~D.g[I];return new d(b,~D.h).add(M)}s.abs=function(){return tt(this)?$(this):this},s.add=function(D){const A=Math.max(this.g.length,D.g.length),b=[];let I=0;for(let V=0;V<=A;V++){let O=I+(this.i(V)&65535)+(D.i(V)&65535),C=(O>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);I=C>>>16,O&=65535,C&=65535,b[V]=C<<16|O}return new d(b,b[b.length-1]&-2147483648?-1:0)};function ht(D,A){return D.add($(A))}s.j=function(D){if(J(this)||J(D))return R;if(tt(this))return tt(D)?$(this).j($(D)):$($(this).j(D));if(tt(D))return $(this.j($(D)));if(this.l(Q)<0&&D.l(Q)<0)return _(this.m()*D.m());const A=this.g.length+D.g.length,b=[];for(var I=0;I<2*A;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<D.g.length;V++){const O=this.i(I)>>>16,C=this.i(I)&65535,$t=D.i(V)>>>16,te=D.i(V)&65535;b[2*I+2*V]+=C*te,vt(b,2*I+2*V),b[2*I+2*V+1]+=O*te,vt(b,2*I+2*V+1),b[2*I+2*V+1]+=C*$t,vt(b,2*I+2*V+1),b[2*I+2*V+2]+=O*$t,vt(b,2*I+2*V+2)}for(D=0;D<A;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=A;D<2*A;D++)b[D]=0;return new d(b,0)};function vt(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function dt(D,A){this.g=D,this.h=A}function qt(D,A){if(J(A))throw Error("division by zero");if(J(D))return new dt(R,R);if(tt(D))return A=qt($(D),A),new dt($(A.g),$(A.h));if(tt(A))return A=qt(D,$(A)),new dt($(A.g),A.h);if(D.g.length>30){if(tt(D)||tt(A))throw Error("slowDivide_ only works with positive integers.");for(var b=M,I=A;I.l(D)<=0;)b=Zt(b),I=Zt(I);var V=Nt(b,1),O=Nt(I,1);for(I=Nt(I,2),b=Nt(b,2);!J(I);){var C=O.add(I);C.l(D)<=0&&(V=V.add(b),O=C),I=Nt(I,1),b=Nt(b,1)}return A=ht(D,V.j(A)),new dt(V,A)}for(V=R;D.l(A)>=0;){for(b=Math.max(1,Math.floor(D.m()/A.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),O=_(b),C=O.j(A);tt(C)||C.l(D)>0;)b-=I,O=_(b),C=O.j(A);J(O)&&(O=M),V=V.add(O),D=ht(D,C)}return new dt(V,D)}s.B=function(D){return qt(this,D).h},s.and=function(D){const A=Math.max(this.g.length,D.g.length),b=[];for(let I=0;I<A;I++)b[I]=this.i(I)&D.i(I);return new d(b,this.h&D.h)},s.or=function(D){const A=Math.max(this.g.length,D.g.length),b=[];for(let I=0;I<A;I++)b[I]=this.i(I)|D.i(I);return new d(b,this.h|D.h)},s.xor=function(D){const A=Math.max(this.g.length,D.g.length),b=[];for(let I=0;I<A;I++)b[I]=this.i(I)^D.i(I);return new d(b,this.h^D.h)};function Zt(D){const A=D.g.length+1,b=[];for(let I=0;I<A;I++)b[I]=D.i(I)<<1|D.i(I-1)>>>31;return new d(b,D.h)}function Nt(D,A){const b=A>>5;A%=32;const I=D.g.length-b,V=[];for(let O=0;O<I;O++)V[O]=A>0?D.i(O+b)>>>A|D.i(O+b+1)<<32-A:D.i(O+b);return new d(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Ca=d}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var W_,jl,tv,Hu,Qf,ev,nv,iv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function S(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,U,k){for(var W=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)W[Et-2]=arguments[Et];return m.prototype[U].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=u.length||0;const k=U.length||0;u.length=p+k;for(let W=0;W<k;W++)u[p+W]=U[W]}else u.push(U)}}class tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,p){const T=dt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new tt(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,Nt=!1,D=new vt,A=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(b)}};function b(){for(var u;u=ht();){try{u.h.call(u.g)}catch(p){$(p)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R($t,V),$t.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ut(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function x(u){const m={};for(const p in u)m[p]=u[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let k=0;k<Y.length;k++)p=Y[k],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,p,T,U){const k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);const W=At(u,m,T,U);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new et(m,this.src,k,!!T,U),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),k;(k=U>=0)&&Array.prototype.splice.call(T,U,1),k&&(ot(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function At(u,m,p,T){for(let U=0;U<u.length;++U){const k=u[U];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),Ve={};function re(u,m,p,T,U){if(Array.isArray(m)){for(let k=0;k<m.length;k++)re(u,m[k],p,T,U);return null}return p=Os(p),u&&u[te]?u.J(m,p,y(T)?!!T.capture:!1,U):Ua(u,m,p,!1,T,U)}function Ua(u,m,p,T,U,k){if(!m)throw Error("Invalid event type");const W=y(U)?!!U.capture:!!U;let Et=La(u);if(Et||(u[Mt]=Et=new it(u)),p=Et.add(m,p,T,W,k),p.proxy)return p;if(T=Rr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)O||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rr(){function u(p){return m.call(u.src,u.listener,p)}const m=xs;return u}function Cr(u,m,p,T,U){if(Array.isArray(m))for(var k=0;k<m.length;k++)Cr(u,m[k],p,T,U);else T=y(T)?!!T.capture:!!T,p=Os(p),u&&u[te]?(u=u.i,k=String(m).toString(),k in u.g&&(m=u.g[k],p=At(m,p,T,U),p>-1&&(ot(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[k],u.h--)))):u&&(u=La(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,p,T,U)),(p=u>-1?m[u]:null)&&wr(p))}function wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=La(m))?(gt(p,u),p.h==0&&(p.src=null,m[Mt]=null)):ot(u)}}}function Yn(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function xs(u,m){if(u.da)u=!0;else{m=new $t(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&wr(u),u=p.call(T,m)}return u}function La(u){return u=u[Mt],u instanceof it?u:null}var Ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(m){return u.handleEvent(m)}),u[Ms])}function pe(){I.call(this),this.i=new it(this),this.M=this,this.G=null}R(pe,I),pe.prototype[te]=!0,pe.prototype.removeEventListener=function(u,m,p,T){Cr(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var U=m;m=new V(T,u),nt(m,U)}U=!0;let k,W;if(p)for(W=p.length-1;W>=0;W--)k=m.g=p[W],U=Gi(k,T,!0,m)&&U;if(k=m.g=u,U=Gi(k,T,!0,m)&&U,U=Gi(k,T,!1,m)&&U,p)for(W=0;W<p.length;W++)k=m.g=p[W],U=Gi(k,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ot(p[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},pe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Gi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let k=0;k<m.length;++k){const W=m[k];if(W&&!W.da&&W.capture==p){const Et=W.listener,fe=W.ha||W.src;W.fa&&gt(u.i,W),U=Et.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Cc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function oo(u){u.g=Cc(()=>{u.g=null,u.i&&(u.i=!1,oo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends I{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(u){I.call(this),this.h=u,this.g={}}R(ja,I);var zs=[];function Us(u){bt(u.g,function(m,p){this.g.hasOwnProperty(p)&&wr(m)},u),u.g={}}ja.prototype.N=function(){ja.Z.N.call(this),Us(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=d.JSON.stringify,wc=d.JSON.parse,uo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function co(){}function ho(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){V.call(this,"d")}R(je,V);function _n(){V.call(this,"c")}R(_n,V);var he={},fo=null;function Dr(){return fo=fo||new pe}he.Ia="serverreachability";function mo(u){V.call(this,he.Ia,u)}R(mo,V);function Xn(u){const m=Dr();Ie(m,new mo(m))}he.STAT_EVENT="statevent";function Ba(u,m){V.call(this,he.STAT_EVENT,u),this.stat=m}R(Ba,V);function ye(u){const m=Dr();Ie(m,new Ba(m,u))}he.Ja="timingevent";function Kn(u,m){V.call(this,he.Ja,u),this.size=m}R(Kn,V);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Dc(u,m,p,T,U,k){u.info(function(){if(u.g)if(k){var W="",Et=k.split("&");for(let Bt=0;Bt<Et.length;Bt++){var fe=Et[Bt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const An=se.split("_");W=An.length>=2&&An[1]=="type"?W+(se+"="+fe+"&"):W+(se+"=redacted&")}}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function go(u,m,p,T,U,k,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+k+" "+W})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vc(u,p)+(T?" "+T:"")})}function ka(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Vc(u,m){if(!u.g)return m;if(!m)return null;try{const k=JSON.parse(m);if(k){for(u=0;u<k.length;u++)if(Array.isArray(k[u])){var p=k[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Qi(k)}catch{return m}}var qa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},js;function Pa(){}R(Pa,co),Pa.prototype.g=function(){return new XMLHttpRequest},js=new Pa;function Ti(u){return encodeURIComponent(String(u))}function po(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function zn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function $n(u,m,p){u.M=1,u.A=Ha(Ee(m)),u.u=p,u.R=!0,Vr(u,null)}function Vr(u,m){u.F=Date.now(),Wn(u),u.B=Ee(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Mr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=No(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(zs[0]=U.toString()),U=zs);for(let k=0;k<U.length;k++){const W=re(p,U[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),Dc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=Bn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Et!=4||fe==7||(fe==8||Bt<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var p=Ic(this);if(this.o=m==200,go(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var k=T;break e}}k=null}if(u=k)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,ye(12),un(this),vn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<p.length;)if(se=_o(this,p),se==Me){Et==4&&(this.m=4,ye(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,se,null),ei(this,se);if(yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ws(W),W.P=!0,ye(11))}}else Jn(this.i,this.l,p,null),ei(this,p);Et==4&&un(this),this.o&&!this.K&&(Et==4?wo(this.j,this):(this.o=!1,Wn(this)))}else Si(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),un(this),vn(this)}}}catch{}};function Ic(u){if(!yo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,U=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let k=0;k<T;k++)u.h.h=!0,p+=u.h.i.decode(m[k],{stream:!(U&&k==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function yo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _o(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?_e:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),u.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Ir(u,u.H)}function Ir(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ka(this.i,this.B),this.M!=2&&(Xn(),ye(17)),un(this),this.m=2,vn(this)):Ir(this,this.T-u)};function vn(u){u.j.I==0||u.K||wo(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Us(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ii(p.h,u))){if(!u.L&&ii(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)jr(p),Wi(p);else break t;Za(p),ye(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(_(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((u.L||p.g==u)&&jr(p),!C(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const se=Bt[0];if(!(se<=p.K))if(p.K=se,Bt=Bt[1],p.I==2)if(Bt[0]=="c"){p.M=Bt[1],p.ba=Bt[2];const An=Bt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ci=Bt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const kn=Bt[5];kn!=null&&typeof kn=="number"&&kn>0&&(T=1.5*kn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=u.g;if(qn){const Ja=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var k=T.h;k.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(qs(k,k.h),k.h=null))}if(T.G){const Br=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Br&&(T.wa=Br,Ht(T.J,T.G,Br))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=u;if(T.na=Io(T,T.L?T.ba:null,T.W),W.L){Ps(T.h,W);var Et=W,fe=T.O;fe&&(Et.H=fe),Et.D&&(ti(Et),Wn(Et)),T.g=W}else Ro(T);p.i.length>0&&oi(p)}else Bt[0]!="stop"&&Bt[0]!="close"||ui(p,7);else p.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ui(p,7):Js(p):Bt[0]!="noop"&&p.l&&p.l.qa(Bt),p.A=0)}}Xn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function Bs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qs(u,m){u.g?u.g.add(m):u.h=m}function Ps(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bs.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Q(u.i)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let U,k=null;T>=0?(U=u[p].substring(0,T),k=u[p].substring(T+1)):U=u[p],m(U,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Oe(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.u),this.h=u.h,Gs(this,So(u.i)),this.m=u.m):u&&(m=String(u).match(vo))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Fi(this,m[4]),this.h=ai(m[5]||"",!0),Gs(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ga(m,xr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ga(m,xr,!0),"@"),u.push(Ti(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ga(p,p.charAt(0)=="/"?Qs:Eo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ga(p,To)),u.join("")},cn.prototype.resolve=function(u){const m=Ee(this);let p=!!u.j;p?Oe(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Fi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const k=[];for(let W=0;W<U.length;){const Et=U[W++];Et=="."?T&&W==U.length&&k.push(""):Et==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),T&&W==U.length&&k.push("")):(k.push(Et),T=!0)}T=k.join("/")}else T=U}return p?m.h=T:p=u.i.toString()!=="",p?Gs(m,So(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ee(u){return new cn(u)}function Oe(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Gs(u,m,p){m instanceof Xi?(u.i=m,Or(u.i,u.l)):(p||(m=Ga(m,Yi)),u.i=new Xi(m,u.l))}function Ht(u,m,p){u.i.set(m,p)}function Ha(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ga(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xr=/[#\/\?@]/g,Eo=/[#\?:]/g,Qs=/[#\?]/g,Yi=/[#\?@]/g,To=/#/g;function Xi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Nr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Xi.prototype,s.add=function(u,m){en(this),this.i=null,u=Ki(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ao(u,m){en(u),m=Ki(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fs(u,m){return en(u),m=Ki(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ys(u,m){en(u);let p=[];if(typeof m=="string")Fs(u,m)&&(p=p.concat(u.g.get(Ki(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return en(this),this.i=null,u=Ki(this,u),Fs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ys(this,u),u.length>0?String(u[0]):m):m};function Mr(u,m,p){Ao(u,m),p.length>0&&(u.i=null,u.g.set(Ki(u,m),Q(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ti(p);p=Ys(this,p);for(let k=0;k<p.length;k++){let W=U;p[k]!==""&&(W+="="+Ti(p[k])),u.push(W)}}return this.i=u.join("&")};function So(u){const m=new Xi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ki(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Or(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(Ao(this,T),Mr(this,U,p))},u)),u.j=m}function Ln(u,m){const p=new On;if(d.Image){const T=new Image;T.onload=S(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=S(En,p,"TestLoadImage: error",!1,m,T),T.onabort=S(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xs(u,m){const p=new On,T=new AbortController,U=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Zi(){this.g=new uo}function ri(u){this.i=u.Sb||null,this.h=u.ab||!1}R(ri,co),ri.prototype.g=function(){return new Qa(this.i,this.h)};function Qa(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Qa,pe),s=Qa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ji(this):jn(this),this.readyState==3&&zr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ji(this))},s.Na=function(u){this.g&&(this.response=u,Ji(this))},s.ga=function(){this.g&&Ji(this)};function Ji(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return bt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Fa(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof u=="string"?p!=null&&Ti(p):Ht(u,m,p))}function Ft(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Ft,pe);var si=/^https?$/i,Ks=["POST","PUT"];s=Ft.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():js.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){Ya(this,k);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ks,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(k){Ya(this,k)}};function Ya(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zs(u),Ai(u)}function Zs(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ai(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Ft.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Xa(this):this.Xa())},s.Xa=function(){Xa(this)};function Xa(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const k=u.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=k===0){let W=String(u.D).match(vo)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!si.test(W?W.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var U=Bn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Zs(u)}}finally{Ai(u)}}}}function Ai(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var p=po(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[U]||[];m[U]=k,k.push(p)}Ut(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function $i(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bs(u&&u.concurrentRequestLimit),this.Ba=new Zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=$i.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){ye(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Io(this,null,this.W),oi(this)};function Js(u){if(Ur(u),u.I==3){var m=u.V++,p=Ee(u.J);if(Ht(p,"SID",u.M),Ht(p,"RID",m),Ht(p,"TYPE","terminate"),Ka(u,p),m=new zn(u,u.j,m),m.M=2,m.A=Ha(Ee(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=No(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Vo(u)}function Wi(u){u.g&&(Ws(u),u.g.cancel(),u.g=null)}function Ur(u){Wi(u),u.v&&(d.clearTimeout(u.v),u.v=null),jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!ks(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||A(),Nt||(Zt(),Nt=!0),D.add(m,u),u.D=0}}function Lr(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),Do(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let k=this.o;if(this.U&&(k?(k=x(k),nt(k,this.U)):k=this.U),this.u!==null||this.R||(U.J=k,k=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=bo(this,U,m),p=Ee(this.J),Ht(p,"RID",u),Ht(p,"CVER",22),this.G&&Ht(p,"X-HTTP-Session-Id",this.G),Ka(this,p),k&&(this.R?m="headers="+Ti(Tn(k))+"&"+m:this.u&&Fa(p,this.u,k)),qs(this.h,U),this.Ra&&Ht(p,"TYPE","init"),this.S?(Ht(p,"$req",m),Ht(p,"SID","null"),U.U=!0,$n(U,p,null)):$n(U,p,m),this.I=2}}else this.I==3&&(u?$s(this,u):this.i.length==0||ks(this.h)||$s(this))};function $s(u,m){var p;m?p=m.l:p=u.V++;const T=Ee(u.J);Ht(T,"SID",u.M),Ht(T,"RID",p),Ht(T,"AID",u.K),Ka(u,T),u.u&&u.o&&Fa(T,u.u,u.o),p=new zn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=bo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qs(u.h,p),$n(p,T,m)}function Ka(u,m){u.H&&bt(u.H,function(p,T){Ht(m,T,p)}),u.l&&bt({},function(p,T){Ht(m,T,p)})}function bo(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Et=-1;for(;;){const fe=["count="+p];Et==-1?p>0?(Et=U[0].g,fe.push("ofs="+Et)):Et=0:fe.push("ofs="+Et);let Bt=!0;for(let se=0;se<p;se++){var k=U[se].g;const An=U[se].map;if(k-=Et,k<0)Et=Math.max(0,U[se].g-100),Bt=!1;else try{k="req"+k+"_"||"";try{var W=An instanceof Map?An:Object.entries(An);for(const[ci,kn]of W){let qn=kn;y(kn)&&(qn=Qi(kn)),fe.push(k+ci+"="+encodeURIComponent(qn))}}catch(ci){throw fe.push(k+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(An)}}if(Bt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function Ro(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||A(),Nt||(Zt(),Nt=!0),D.add(m,u),u.A=0}}function Za(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),Do(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Co(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Wi(this),Co(this))};function Ws(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Co(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),Ka(u,m),u.u&&u.o&&Fa(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ha(Ee(m)),p.u=null,p.R=!0,Vr(p,u)}s.Va=function(){this.C!=null&&(this.C=null,Wi(this),Za(this),ye(19))};function jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function wo(u,m){var p=null;if(u.g==m){jr(u),Ws(u),u.g=null;var T=2}else if(ii(u.h,m))p=m.G,Ps(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Dr(),Ie(T,new Kn(T,p)),oi(u)}else Ro(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Lr(u,m)||T==2&&Za(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),U){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Do(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const U=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Ha(T),U?Ln(T.toString(),p):Xs(T.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),Vo(u),Ur(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Vo(u){if(u.I=0,u.ja=[],u.l){const m=Hs(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Io(u,m,p){var T=p instanceof cn?Ee(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const k=new cn(null);T&&Oe(k,T),m&&(k.g=m),U&&Fi(k,U),p&&(k.h=p),T=k}return p=u.G,m=u.wa,p&&m&&Ht(T,p,m),Ht(T,"VER",u.ka),Ka(u,T),T}function No(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ft(new ri({ab:p})):new Ft(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}s=xo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ta(){}ta.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new $i(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new bi(this)}R($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Js(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Qi(u),u=p);m.i.push(new ve(m.Ya++,u)),m.I==3&&oi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,$e.Z.N.call(this)};function Mo(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(Mo,je);function Oo(){_n.call(this),this.status=1}R(Oo,_n);function bi(u){this.g=u}R(bi,xo),bi.prototype.ra=function(){Ie(this.g,"a")},bi.prototype.qa=function(u){Ie(this.g,new Mo(u))},bi.prototype.pa=function(u){Ie(this.g,new Oo)},bi.prototype.oa=function(){Ie(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,iv=function(){return new ta},nv=function(){return Dr()},ev=he,Qf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,Hu=qa,Ls.COMPLETE="complete",tv=Ls,ho.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,jl=ho,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,W_=Ft}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore",ky="4.9.3";class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Ds="12.7.0";const _r=new F_("@firebase/firestore");function gs(){return _r.logLevel}function at(s,...e){if(_r.logLevel<=zt.DEBUG){const i=e.map(gd);_r.debug(`Firestore (${Ds}): ${s}`,...i)}}function Pi(s,...e){if(_r.logLevel<=zt.ERROR){const i=e.map(gd);_r.error(`Firestore (${Ds}): ${s}`,...i)}}function Ts(s,...e){if(_r.logLevel<=zt.WARN){const i=e.map(gd);_r.warn(`Firestore (${Ds}): ${s}`,...i)}}function gd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function mt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,av(s,r,i)}function av(s,e,i){let r=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Pi(r),new Error(r)}function Pt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||av(e,o,r)}function _t(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class rv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class YA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class XA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new wa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new wa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string",31837,{l:r}),new rv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class KA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new KA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,VA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $A(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$A(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Vt(s,e){return s<e?-1:s>e?1:0}function Ff(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return zf(o)===zf(h)?Vt(o,h):zf(o)?1:-1}return Vt(s.length,e.length)}const WA=55296,tS=57343;function zf(s){const e=s.charCodeAt(0);return e>=WA&&e<=tS}function As(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Py="__name__";class gi{constructor(e,i,r){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&mt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const r=gi.isNumericId(e),o=gi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Ff(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class Wt extends gi{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const eS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends gi{construct(e,i,r){return new Qe(e,i,r)}static isValidIdentifier(e){return eS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new Qe([Py])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Wt.fromString(e))}static fromName(e){return new ct(Wt.fromString(e).popFirst(5))}static empty(){return new ct(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Wt(e.slice()))}}function sv(s,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function nS(s,e,i,r){if(e===!0&&r===!0)throw new rt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Hy(s){if(!ct.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gy(s){if(ct.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function lv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function Da(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function we(s,e){const i={typeString:s};return e&&(i.value=e),i}function no(s,e){if(!lv(s))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}const Qy=-62135596800,Fy=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Fy);return new ae(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Qy)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(no(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:we("string",ae._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new ae(0,0))}static max(){return new pt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kl=-1;function iS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new Ia(o,ct.empty(),e)}function aS(s){return new Ia(s.readTime,s.key,Kl)}class Ia{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ia(pt.min(),ct.empty(),Kl)}static max(){return new Ia(pt.max(),ct.empty(),Kl)}}function rS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}const sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==sS)throw s;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===h&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function oS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(s){return s.name==="IndexedDbTransactionError"}class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;const yd=-1;function mc(s){return s==null}function Wu(s){return s===0&&1/s==-1/0}function uS(s){return typeof s=="number"&&Number.isInteger(s)&&!Wu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ov="";function cS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Yy(e)),e=hS(s.get(i),e);return Yy(e)}function hS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case ov:i+="";break;default:i+=h}}return i}function Yy(s){return s+ov+""}function Xy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Er(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function uv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ge(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new xe(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const fS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(s){if(Pt(!!s,39018),typeof s=="string"){let e=0;const i=fS.exec(s);if(Pt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xa(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const hv="server_timestamp",fv="__type__",dv="__previous_value__",mv="__local_write_time__";function _d(s){return(s?.mapValue?.fields||{})[fv]?.stringValue===hv}function gc(s){const e=s.mapValue.fields[dv];return _d(e)?gc(e):e}function Zl(s){const e=Na(s.mapValue.fields[mv].timestampValue);return new ae(e.seconds,e.nanos)}class dS{constructor(e,i,r,o,h,d,y,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const tc="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}const gv="__type__",mS="__max__",ku={mapValue:{}},pv="__vector__",ec="value";function Ma(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_d(s)?4:pS(s)?9007199254740991:gS(s)?10:11:mt(28295,{value:s})}function Ei(s,e){if(s===e)return!0;const i=Ma(s);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Na(o.timestampValue),y=Na(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return xa(o.bytesValue).isEqual(xa(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),y=ge(h.doubleValue);return d===y?Wu(d)===Wu(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return As(s.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Xy(d)!==Xy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ei(d[v],y[v])))return!1;return!0})(s,e);default:return mt(52216,{left:s})}}function $l(s,e){return(s.values||[]).find((i=>Ei(i,e)))!==void 0}function Ss(s,e){if(s===e)return 0;const i=Ma(s),r=Ma(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Zy(s.timestampValue,e.timestampValue);case 4:return Zy(Zl(s),Zl(e));case 5:return Ff(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=xa(h),v=xa(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Vt(y[_],v[_]);if(S!==0)return S}return Vt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Vt(ge(h.latitude),ge(d.latitude));return y!==0?y:Vt(ge(h.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Jy(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[ec]?.arrayValue,S=v[ec]?.arrayValue,R=Vt(_?.values?.length||0,S?.values?.length||0);return R!==0?R:Jy(_,S)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ku.mapValue&&d===ku.mapValue)return 0;if(h===ku.mapValue)return 1;if(d===ku.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let R=0;R<v.length&&R<S.length;++R){const M=Ff(v[R],S[R]);if(M!==0)return M;const Q=Ss(y[v[R]],_[S[R]]);if(Q!==0)return Q}return Vt(v.length,S.length)})(s.mapValue,e.mapValue);default:throw mt(23264,{he:i})}}function Zy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=Na(s),r=Na(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function Jy(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ss(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function bs(s){return Yf(s)}function Yf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Na(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return xa(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Yf(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Yf(i.fields[d])}`;return o+"}"})(s.mapValue):mt(61005,{value:s})}function Gu(s){switch(Ma(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(s);return e?16+Gu(e):16;case 5:return 2*s.stringValue.length;case 6:return xa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Gu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Er(r.fields,((h,d)=>{o+=h.length+Gu(d)})),o})(s.mapValue);default:throw mt(13486,{value:s})}}function $y(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Xf(s){return!!s&&"integerValue"in s}function vd(s){return!!s&&"arrayValue"in s}function Wy(s){return!!s&&"nullValue"in s}function t_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qu(s){return!!s&&"mapValue"in s}function gS(s){return(s?.mapValue?.fields||{})[gv]?.stringValue===pv}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Hl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function pS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===mS}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Qe.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Hl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Er(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Nn(Hl(this.value))}}function yv(s){const e=[];return Er(s.fields,((i,r)=>{const o=new Qe([i]);if(Qu(r)){const h=yv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Qn(e)}class Ze{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ze(e,0,pt.min(),pt.min(),pt.min(),Nn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ze(e,1,i,pt.min(),r,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,pt.min(),pt.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,pt.min(),pt.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nc{constructor(e,i){this.position=e,this.inclusive=i}}function e_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=Ss(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],e.position[i]))return!1;return!0}class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function yS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class _v{}class Ce extends _v{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new vS(e,i,r):i==="array-contains"?new AS(e,r):i==="in"?new SS(e,r):i==="not-in"?new bS(e,r):i==="array-contains-any"?new RS(e,r):new Ce(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new ES(e,r):new TS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ss(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends _v{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return vv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vv(s){return s.op==="and"}function Ev(s){return _S(s)&&vv(s)}function _S(s){for(const e of s.filters)if(e instanceof Fn)return!1;return!0}function Kf(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+bs(s.value);if(Ev(s))return s.filters.map((e=>Kf(e))).join(",");{const e=s.filters.map((i=>Kf(i))).join(",");return`${s.op}(${e})`}}function Tv(s,e){return s instanceof Ce?(function(r,o){return o instanceof Ce&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(s,e):s instanceof Fn?(function(r,o){return o instanceof Fn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&Tv(d,o.filters[y])),!0):!1})(s,e):void mt(19439)}function Av(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Av).join(" ,")+"}"})(s):"Filter"}class vS extends Ce{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class ES extends Ce{constructor(e,i){super(e,"in",i),this.keys=Sv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class TS extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=Sv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Sv(s,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class AS extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return vd(i)&&$l(i.arrayValue,this.value)}}class SS extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class bS extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class RS extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>$l(this.value.arrayValue,r)))}}class CS{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function i_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new CS(s,e,i,r,o,h,d)}function Ed(s){const e=_t(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Kf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>bs(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>bs(r))).join(",")),e.Te=i}return e.Te}function Td(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!yS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Tv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!n_(s.startAt,e.startAt)&&n_(s.endAt,e.endAt)}function Zf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class io{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wS(s,e,i,r,o,h,d,y){return new io(s,e,i,r,o,h,d,y)}function Ad(s){return new io(s)}function a_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bv(s){return s.collectionGroup!==null}function Gl(s){const e=_t(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new xe(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ic(h,r))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new ic(Qe.keyField(),r))}return e.Ie}function pi(s){const e=_t(s);return e.Ee||(e.Ee=DS(e,Gl(s))),e.Ee}function DS(s,e){if(s.limitType==="F")return i_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ic(o.field,h)}));const i=s.endAt?new nc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new nc(s.startAt.position,s.startAt.inclusive):null;return i_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Jf(s,e){const i=s.filters.concat([e]);return new io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function $f(s,e,i){return new io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function pc(s,e){return Td(pi(s),pi(e))&&s.limitType===e.limitType}function Rv(s){return`${Ed(pi(s))}|lt:${s.limitType}`}function ps(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Av(o))).join(", ")}]`),mc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>bs(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>bs(o))).join(",")),`Target(${r})`})(pi(s))}; limitType=${s.limitType})`}function yc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Gl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=e_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Gl(r),o)||r.endAt&&!(function(d,y,v){const _=e_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Gl(r),o))})(s,e)}function VS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Cv(s){return(e,i)=>{let r=!1;for(const o of Gl(s)){const h=IS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function IS(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ss(v,_):mt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:s.dir})}}class Tr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return uv(this.inner)}size(){return this.innerSize}}const NS=new oe(ct.comparator);function Hi(){return NS}const wv=new oe(ct.comparator);function Bl(...s){let e=wv;for(const i of s)e=e.insert(i.key,i);return e}function Dv(s){let e=wv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function mr(){return Ql()}function Vv(){return Ql()}function Ql(){return new Tr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xS=new oe(ct.comparator),MS=new xe(ct.comparator);function It(...s){let e=MS;for(const i of s)e=e.add(i);return e}const OS=new xe(Vt);function zS(){return OS}function Sd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function Iv(s){return{integerValue:""+s}}function US(s,e){return uS(e)?Iv(e):Sd(s,e)}class _c{constructor(){this._=void 0}}function LS(s,e,i){return s instanceof ac?(function(o,h){const d={fields:{[fv]:{stringValue:hv},[mv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&_d(h)&&(h=gc(h)),h&&(d.fields[dv]=h),{mapValue:d}})(i,e):s instanceof Wl?xv(s,e):s instanceof to?Mv(s,e):(function(o,h){const d=Nv(o,h),y=r_(d)+r_(o.Ae);return Xf(d)&&Xf(o.Ae)?Iv(y):Sd(o.serializer,y)})(s,e)}function jS(s,e,i){return s instanceof Wl?xv(s,e):s instanceof to?Mv(s,e):i}function Nv(s,e){return s instanceof rc?(function(r){return Xf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class ac extends _c{}class Wl extends _c{constructor(e){super(),this.elements=e}}function xv(s,e){const i=Ov(e);for(const r of s.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class to extends _c{constructor(e){super(),this.elements=e}}function Mv(s,e){let i=Ov(e);for(const r of s.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class rc extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function r_(s){return ge(s.integerValue||s.doubleValue)}function Ov(s){return vd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function BS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Wl&&o instanceof Wl||r instanceof to&&o instanceof to?As(r.elements,o.elements,Ei):r instanceof rc&&o instanceof rc?Ei(r.Ae,o.Ae):r instanceof ac&&o instanceof ac})(s.transform,e.transform)}class kS{constructor(e,i){this.version=e,this.transformResults=i}}class ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class vc{}function zv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Lv(s.key,ki.none()):new ao(s.key,s.data,ki.none());{const i=s.data,r=Nn.empty();let o=new xe(Qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ar(s.key,r,new Qn(o.toArray()),ki.none())}}function qS(s,e,i){s instanceof ao?(function(o,h,d){const y=o.value.clone(),v=l_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ar?(function(o,h,d){if(!Fu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=l_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Uv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof ao?(function(h,d,y,v){if(!Fu(h.precondition,d))return y;const _=h.value.clone(),S=o_(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ar?(function(h,d,y,v){if(!Fu(h.precondition,d))return y;const _=o_(h.fieldTransforms,v,d),S=d.data;return S.setAll(Uv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(s,e,i,r):(function(h,d,y){return Fu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function PS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=Nv(r.transform,o||null);h!=null&&(i===null&&(i=Nn.empty()),i.set(r.field,h))}return i||null}function s_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&As(r,o,((h,d)=>BS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ao extends vc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ar extends vc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Uv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function l_(s,e,i){const r=new Map;Pt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,jS(d,y,i[o]))}return r}function o_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,LS(h,d,e))}return r}class Lv extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&qS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Vv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=zv(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),It())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,((i,r)=>s_(i,r)))&&As(this.baseMutations,e.baseMutations,((i,r)=>s_(i,r)))}}class bd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Pt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return xS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new bd(e,i,r,o)}}class QS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,Ot;function YS(s){switch(s){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function jv(s){if(s===void 0)return Pi("GRPC error has no .code"),K.UNKNOWN;switch(s){case Re.OK:return K.OK;case Re.CANCELLED:return K.CANCELLED;case Re.UNKNOWN:return K.UNKNOWN;case Re.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Re.INTERNAL:return K.INTERNAL;case Re.UNAVAILABLE:return K.UNAVAILABLE;case Re.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Re.NOT_FOUND:return K.NOT_FOUND;case Re.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Re.ABORTED:return K.ABORTED;case Re.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Re.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:s})}}(Ot=Re||(Re={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";function XS(){return new TextEncoder}const KS=new Ca([4294967295,4294967295],0);function u_(s){const e=XS().encode(s),i=new $_;return i.update(e),new Uint8Array(i.digest())}function c_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ca([i,r],0),new Ca([o,h],0)]}class Rd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ca.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ca.fromNumber(r)));return o.compare(KS)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=u_(e),[r,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Rd(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=u_(e),[r,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ec{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ec(pt.min(),o,new oe(Vt),Hi(),It())}}class ro{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ro(r,i,It(),It(),It())}}class Yu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Bv{constructor(e,i){this.targetId=e,this.Ce=i}}class kv{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),i=It(),r=It();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:mt(38017,{changeType:h})}})),new ro(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=qu(),this.He=qu(),this.Ye=new oe(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Zf(h))if(r===0){const d=new ct(h.path);this.et(i,d,Ze.newNoDocument(d,pt.min()))}else Pt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=xa(r).toUint8Array()}catch(v){if(v instanceof cv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Rd(d,o,h)}catch(v){return Ts(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Zf(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=It();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ec(e,i,this.Ye,this.je,r);return this.je=Hi(),this.Je=qu(),this.He=qu(),this.Ye=new oe(Vt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new h_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new xe(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new xe(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function qu(){return new oe(ct.comparator)}function f_(){return new oe(ct.comparator)}const JS={asc:"ASCENDING",desc:"DESCENDING"},$S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WS={and:"AND",or:"OR"};class tb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Wf(s,e){return s.useProto3Json||mc(e)?e:{value:e}}function sc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function eb(s,e){return sc(s,e.toTimestamp())}function yi(s){return Pt(!!s,49232),pt.fromTimestamp((function(i){const r=Na(i);return new ae(r.seconds,r.nanos)})(s))}function Cd(s,e){return td(s,e).canonicalString()}function td(s,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Pv(s){const e=Wt.fromString(s);return Pt(Yv(e),10190,{key:e.toString()}),e}function ed(s,e){return Cd(s.databaseId,e.path)}function Uf(s,e){const i=Pv(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(Gv(i))}function Hv(s,e){return Cd(s.databaseId,e)}function nb(s){const e=Pv(s);return e.length===4?Wt.emptyPath():Gv(e)}function nd(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Gv(s){return Pt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function d_(s,e,i){return{name:ed(s,e),fields:i.value.mapValue.fields}}function ib(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Pt(S===void 0||typeof S=="string",58123),Fe.fromBase64String(S||"")):(Pt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Fe.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?K.UNKNOWN:jv(_.code);return new rt(S,_.message||"")})(d);i=new kv(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Uf(s,r.document.name),h=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):pt.min(),y=new Nn({mapValue:{fields:r.document.fields}}),v=Ze.newFoundDocument(o,h,d,y),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Yu(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Uf(s,r.document),h=r.readTime?yi(r.readTime):pt.min(),d=Ze.newNoDocument(o,h),y=r.removedTargetIds||[];i=new Yu([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Uf(s,r.document),h=r.removedTargetIds||[];i=new Yu([],h,o,null)}else{if(!("filter"in e))return mt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new FS(o,h),y=r.targetId;i=new Bv(y,d)}}return i}function ab(s,e){let i;if(e instanceof ao)i={update:d_(s,e.key,e.value)};else if(e instanceof Lv)i={delete:ed(s,e.key)};else if(e instanceof Ar)i={update:d_(s,e.key,e.data),updateMask:db(e.fieldMask)};else{if(!(e instanceof HS))return mt(16599,{Vt:e.type});i={verify:ed(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof to)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw mt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:eb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(s,e.precondition)),i}function rb(s,e){return s&&s.length>0?(Pt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?yi(o.updateTime):yi(h);return d.isEqual(pt.min())&&(d=yi(h)),new kS(d,o.transformResults||[])})(i,e)))):[]}function sb(s,e){return{documents:[Hv(s,e.path)]}}function lb(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Hv(s,o);const h=(function(_){if(_.length!==0)return Fv(Fn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:ys(M.field),direction:cb(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Wf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function ob(s){let e=nb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Pt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(R){const M=Qv(R);return M instanceof Fn&&Ev(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((M=>(function(J){return new ic(_s(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(R){let M;return M=typeof R=="object"?R.value:R,mc(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(R){const M=!!R.before,Q=R.values||[];return new nc(Q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const M=!R.before,Q=R.values||[];return new nc(Q,M)})(i.endAt)),wS(e,o,d,h,y,"F",v,_)}function ub(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Qv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=_s(i.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(_s(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((r=>Qv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function cb(s){return JS[s]}function hb(s){return $S[s]}function fb(s){return WS[s]}function ys(s){return{fieldPath:s.canonicalString()}}function _s(s){return Qe.fromServerFormat(s.fieldPath)}function Fv(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(Wy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(Wy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:hb(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const r=i.getFilters().map((o=>Fv(o)));return r.length===1?r[0]:{compositeFilter:{op:fb(i.op),filters:r}}})(s):mt(54877,{filter:s})}function db(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Yv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Sa{constructor(e,i,r,o,h=pt.min(),d=pt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mb{constructor(e){this.yt=e}}function gb(s){const e=ob({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$f(e,e.limit,"L"):e}class pb{constructor(){this.Cn=new yb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ia.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class yb{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new xe(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new xe(Wt.comparator)).toArray()}}const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Xv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Rs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rs(0)}static cr(){return new Rs(-1)}}const g_="LruGarbageCollector",_b=1048576;function p_([s,e],[i,r]){const o=Vt(s,i);return o===0?Vt(e,r):o}class vb{constructor(e){this.Ir=e,this.buffer=new xe(p_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();p_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Eb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?at(g_,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.Vr(3e5)}))}}class Tb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(dc.ce);const r=new vb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(m_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(r=R,y=Date.now(),this.removeTargets(e,r,i)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((R=>(_=Date.now(),gs()<=zt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R}))))}}function Ab(s,e){return new Tb(s,e)}class Sb{constructor(){this.changes=new Tr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Rb{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Fl(r.mutation,o,Qn.empty(),ae.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=It()){const o=mr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Bl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=mr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,It())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Hi();const d=Ql(),y=(function(){return Ql()})();return i.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Ar)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Fl(S.mutation,_,S.mutation.getFieldMask(),ae.now())):d.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new bb(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Ql();let o=new oe(((d,y)=>d-y)),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||Qn.empty();S=y.applyToLocalView(_,S),r.set(v,S);const R=(o.get(y.batchId)||It()).add(v);o=o.insert(y.batchId,R)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,R=Vv();S.forEach((M=>{if(!h.has(M)){const Q=zv(i.get(M),r.get(M));Q!==null&&R.set(M,Q),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(mr());let y=Kl,v=h;return d.next((_=>Z.forEach(_,((S,R)=>(y<R.largestBatchId&&(y=R.largestBatchId),h.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{v=v.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,It()))).next((S=>({batchId:y,changes:Dv(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(R,M){return new io(M,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((R,M)=>{d=d.insert(R,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ze.newInvalidDocument(S)))}));let y=Bl();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&Fl(S.mutation,_,Qn.empty(),ae.now()),yc(i,_)&&(y=y.insert(v,_))})),y}))}}class Cb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:gb(o.bundledQuery),readTime:yi(o.readTime)}})(i)),Z.resolve()}}class wb{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=mr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=mr(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new oe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=h.get(_.largestBatchId);S===null&&(S=mr(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=mr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new QS(i,r));let h=this.qr.get(i);h===void 0&&(h=It(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class Db{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class wd{constructor(){this.Qr=new xe(Ue.$r),this.Ur=new xe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ct(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=It();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}class Vb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Ue.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GS(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?yd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new xe(Vt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ct(h),0);let y=new xe(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ib{constructor(e){this.ri=e,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let r=Hi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Hi();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||rS(aS(S),r)<=0||(o.has(S.key)||yc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){mt(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Nb(this)}getSize(e){return Z.resolve(this.size)}}class Nb extends Sb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class xb{constructor(e){this.persistence=e,this.si=new Tr((i=>Ed(i)),Td),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new wd,this.targetCount=0,this.ai=Rs.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class Kv{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new Db,this.referenceDelegate=e(this),this.Pi=new xb(this),this.indexManager=new pb,this.remoteDocumentCache=(function(o){return new Ib(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mb(i),this.Ii=new Cb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Vb(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){at("MemoryPersistence","Starting transaction:",e);const o=new Mb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Mb extends lS{constructor(e){super(),this.currentSequenceNumber=e}}class Dd{constructor(e){this.persistence=e,this.Ri=new wd,this.Vi=null}static mi(e){return new Dd(e)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=ct.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,pt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.pi=new Tr((r=>cS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Ab(this,i)}static mi(e,i){return new lc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,pt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gu(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Vd(e,i.fromCache,r,o)}}class Ob{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CT()?8:oS(bT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Ob;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(gs()<=zt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(gs()<=zt.DEBUG&&at("QueryEngine","Query:",ps(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(gs()<=zt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):Z.resolve())}ys(e,i){if(a_(i))return Z.resolve(null);let r=pi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=$f(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=It(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,$f(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return a_(i)||o.isEqual(pt.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(gs()<=zt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.vs(e,d,i,iS(o,Kl)).next((y=>y)))}))}Ds(e,i){let r=new xe(Cv(e));return i.forEach(((o,h)=>{yc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return gs()<=zt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ps.getDocumentsMatchingQuery(e,i,Ia.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Id="LocalStore",Ub=3e8;class Lb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Vt),this.xs=new Tr((h=>Ed(h)),Td),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function jb(s,e,i,r){return new Lb(s,e,i,r)}async function Zv(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=It();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Bb(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const R=_.batch,M=R.keys();let Q=Z.resolve();return M.forEach((J=>{Q=Q.next((()=>S.getEntry(v,J))).next((tt=>{const $=_.docVersions.get(J);Pt($!==null,48541),tt.version.compareTo($)<0&&(R.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),S.addEntry(tt)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,R)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=It();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Jv(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function kb(s,e){const i=_t(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((S,R)=>{const M=o.get(R);if(!M)return;y.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,R))));let Q=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?Q=Q.withResumeToken(Fe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(R,Q),(function(tt,$,ht){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Ub?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,Q,S)&&y.push(i.Pi.updateTargetData(h,Q))}));let v=Hi(),_=It();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),y.push(qb(h,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(pt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((R=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(S)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function qb(s,e,i){let r=It(),o=It();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Hi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(pt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):at(Id,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Pb(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hb(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Sa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function id(s,e,i){const r=_t(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Is(d))throw d;at(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function y_(s,e,i){const r=_t(s);let o=pt.min(),h=It();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const R=_t(v),M=R.xs.get(S);return M!==void 0?Z.resolve(R.Ms.get(M)):R.Pi.getTargetData(_,S)})(r,d,pi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?h:It()))).next((y=>(Gb(r,VS(e),y),{documents:y,Qs:h})))))}function Gb(s,e,i){let r=s.Os.get(e)||pt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class __{constructor(){this.activeTargetIds=zS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qb{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fb{Oo(e){}shutdown(){}}const v_="ConnectivityMonitor";class E_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pu=null;function ad(){return Pu===null?Pu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pu++,"0x"+Pu.toString(16)}const Lf="RestConnection",Yb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===tc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=ad(),y=this.zo(e,i.toUriEncodedString());at(Lf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),S=dd(_);return this.Jo(e,y,v,r,S).then((R=>(at(Lf,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw Ts(Lf,`RPC '${e}' ${d} failed with error: `,R,"url: ",y,"request:",r),R}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ds})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=Yb[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Kb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class Zb extends Xb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=ad();return new Promise(((y,v)=>{const _=new W_;_.setWithCredentials(!0),_.listenOnce(tv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hu.NO_ERROR:const R=_.getResponseJson();at(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),y(R);break;case Hu.TIMEOUT:at(Xe,`RPC '${e}' ${d} timed out`),v(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const M=_.getStatus();if(at(Xe,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const tt=(function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(vt)>=0?vt:K.UNKNOWN})(J.status);v(new rt(tt,J.message))}else v(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new rt(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Xe,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);at(Xe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=ad(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=iv(),y=nv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=h.join("");at(Xe,`Creating RPC '${e}' stream ${o}: ${S}`,v);const R=d.createWebChannel(S,v);this.I_(R);let M=!1,Q=!1;const J=new Kb({Yo:$=>{Q?at(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(M||(at(Xe,`Opening RPC '${e}' stream ${o} transport.`),R.open(),M=!0),at(Xe,`RPC '${e}' stream ${o} sending:`,$),R.send($))},Zo:()=>R.close()}),tt=($,ht,vt)=>{$.listen(ht,(dt=>{try{vt(dt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return tt(R,jl.EventType.OPEN,(()=>{Q||(at(Xe,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),tt(R,jl.EventType.CLOSE,(()=>{Q||(Q=!0,at(Xe,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(R))})),tt(R,jl.EventType.ERROR,($=>{Q||(Q=!0,Ts(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),tt(R,jl.EventType.MESSAGE,($=>{if(!Q){const ht=$.data[0];Pt(!!ht,16349);const vt=ht,dt=vt?.error||vt[0]?.error;if(dt){at(Xe,`RPC '${e}' stream ${o} received error:`,dt);const qt=dt.status;let Zt=(function(A){const b=Re[A];if(b!==void 0)return jv(b)})(qt),Nt=dt.message;Zt===void 0&&(Zt=K.INTERNAL,Nt="Unknown error status: "+qt+" with message "+dt.message),Q=!0,J.a_(new rt(Zt,Nt)),R.close()}else at(Xe,`RPC '${e}' stream ${o} received:`,ht),J.u_(ht)}})),tt(y,ev.STAT_EVENT,($=>{$.stat===Qf.PROXY?at(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Qf.NOPROXY&&at(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function jf(){return typeof document<"u"?document:null}function Tc(s){return new tb(s,!0)}class $v{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const T_="PersistentStream";class Wv{constructor(e,i,r,o,h,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $v(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new rt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(T_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jb extends Wv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ib(this.serializer,e),r=(function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?yi(d.readTime):pt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=nd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Zf(v)?{documents:sb(h,v)}:{query:lb(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=qv(h,d.resumeToken);const _=Wf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(pt.min())>0){y.readTime=sc(h,d.snapshotVersion.toTimestamp());const _=Wf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=ub(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=nd(this.serializer),i.removeTarget=e,this.q_(i)}}class $b extends Wv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=rb(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=nd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>ab(this.serializer,r)))};this.q_(i)}}class Wb{}class t2 extends Wb{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,td(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,td(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class e2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vr="RemoteStore";class n2{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Sr(this)&&(at(vr,"Restarting streams for network reachability change."),await(async function(v){const _=_t(v);_.Ea.add(4),await so(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ac(_)})(this))}))})),this.Ra=new e2(r,o)}}async function Ac(s){if(Sr(s))for(const e of s.da)await e(!0)}async function so(s){for(const e of s.da)await e(!1)}function t0(s,e){const i=_t(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Od(i)?Md(i):Ns(i).O_()&&xd(i,e))}function Nd(s,e){const i=_t(s),r=Ns(i);i.Ia.delete(e),r.O_()&&e0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Sr(i)&&i.Ra.set("Unknown"))}function xd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(s).Y_(e)}function e0(s,e){s.Va.Ue(e),Ns(s).Z_(e)}function Md(s){s.Va=new ZS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ns(s).start(),s.Ra.ua()}function Od(s){return Sr(s)&&!Ns(s).x_()&&s.Ia.size>0}function Sr(s){return _t(s).Ea.size===0}function n0(s){s.Va=void 0}async function i2(s){s.Ra.set("Online")}async function a2(s){s.Ia.forEach(((e,i)=>{xd(s,e)}))}async function r2(s,e){n0(s),Od(s)?(s.Ra.ha(e),Md(s)):s.Ra.set("Unknown")}async function s2(s,e,i){if(s.Ra.set("Online"),e instanceof kv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){at(vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oc(s,r)}else if(e instanceof Yu?s.Va.Ze(e):e instanceof Bv?s.Va.st(e):s.Va.tt(e),!i.isEqual(pt.min()))try{const r=await Jv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Fe.EMPTY_BYTE_STRING,S.snapshotVersion)),e0(h,v);const R=new Sa(S.target,v,_,S.sequenceNumber);xd(h,R)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){at(vr,"Failed to raise snapshot:",r),await oc(s,r)}}async function oc(s,e,i){if(!Is(e))throw e;s.Ea.add(1),await so(s),s.Ra.set("Offline"),i||(i=()=>Jv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(vr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ac(s)}))}function i0(s,e){return e().catch((i=>oc(s,i,e)))}async function Sc(s){const e=_t(s),i=Oa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yd;for(;l2(e);)try{const o=await Pb(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,o2(e,o)}catch(o){await oc(e,o)}a0(e)&&r0(e)}function l2(s){return Sr(s)&&s.Ta.length<10}function o2(s,e){s.Ta.push(e);const i=Oa(s);i.O_()&&i.X_&&i.ea(e.mutations)}function a0(s){return Sr(s)&&!Oa(s).x_()&&s.Ta.length>0}function r0(s){Oa(s).start()}async function u2(s){Oa(s).ra()}async function c2(s){const e=Oa(s);for(const i of s.Ta)e.ea(i.mutations)}async function h2(s,e,i){const r=s.Ta.shift(),o=bd.from(r,e,i);await i0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Sc(s)}async function f2(s,e){e&&Oa(s).X_&&await(async function(r,o){if((function(d){return YS(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();Oa(r).B_(),await i0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Sc(r)}})(s,e),a0(s)&&r0(s)}async function A_(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),at(vr,"RemoteStore received new credentials");const r=Sr(i);i.Ea.add(3),await so(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function d2(s,e){const i=_t(s);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await so(i),i.Ra.set("Unknown"))}function Ns(s){return s.ma||(s.ma=(function(i,r,o){const h=_t(i);return h.sa(),new Jb(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:i2.bind(null,s),t_:a2.bind(null,s),r_:r2.bind(null,s),H_:s2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Od(s)?Md(s):s.Ra.set("Unknown")):(await s.ma.stop(),n0(s))}))),s.ma}function Oa(s){return s.fa||(s.fa=(function(i,r,o){const h=_t(i);return h.sa(),new $b(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:u2.bind(null,s),r_:f2.bind(null,s),ta:c2.bind(null,s),na:h2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Sc(s)):(await s.fa.stop(),s.Ta.length>0&&(at(vr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class zd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new zd(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(s,e){if(Pi("AsyncQueue",`${e}: ${s}`),Is(s))return new rt(K.UNAVAILABLE,`${e}: ${s}`);throw s}class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=Bl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class S_{constructor(){this.ga=new oe(ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):mt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Cs{constructor(e,i,r,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Cs(e,i,Es.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class m2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g2{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=_t(i),h=o.queries;o.queries=b_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function b_(){return new Tr((s=>Rv(s)),pc)}async function s0(s,e){const i=_t(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new m2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Ud(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ld(i)}async function l0(s,e){const i=_t(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function p2(s,e){const i=_t(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Ld(i)}function y2(s,e,i){const r=_t(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Ld(s){s.Ca.forEach((e=>{e.next()}))}var rd,R_;(R_=rd||(rd={})).Ma="default",R_.Cache="cache";class o0{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Cs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rd.Cache}}class u0{constructor(e){this.key=e}}class c0{constructor(e){this.key=e}}class _2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=Cv(e),this.tu=new Es(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new S_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,R)=>{const M=o.get(S),Q=yc(this.query,R)?R:null,J=!!M&&this.mutatedKeys.has(M.key),tt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let $=!1;M&&Q?M.data.isEqual(Q.data)?J!==tt&&(r.track({type:3,doc:Q}),$=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),$=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!M&&Q?(r.track({type:0,doc:Q}),$=!0):M&&!Q&&(r.track({type:1,doc:M}),$=!0,(v||_)&&(y=!0)),$&&(Q?(d=d.add(Q),h=tt?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,R)=>(function(Q,J){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:$})}};return tt(Q)-tt(J)})(S.type,R.type)||this.eu(S.doc,R.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Cs(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new c0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new u0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=It();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jd="SyncEngine";class v2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class E2{constructor(e){this.key=e,this.hu=!1}}class T2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Tr((y=>Rv(y)),pc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new wd,this.Vu={},this.mu=new Map,this.fu=Rs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A2(s,e,i=!0){const r=p0(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await h0(r,e,i,!0),o}async function S2(s,e){const i=p0(s);await h0(i,e,!0,!1)}async function h0(s,e,i,r){const o=await Hb(s.localStore,pi(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await b2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&t0(s.remoteStore,o),y}async function b2(s,e,i,r,o){s.pu=(R,M,Q)=>(async function(tt,$,ht,vt){let dt=$.view.ru(ht);dt.Cs&&(dt=await y_(tt.localStore,$.query,!1).then((({documents:D})=>$.view.ru(D,dt))));const qt=vt&&vt.targetChanges.get($.targetId),Zt=vt&&vt.targetMismatches.get($.targetId)!=null,Nt=$.view.applyChanges(dt,tt.isPrimaryClient,qt,Zt);return w_(tt,$.targetId,Nt.au),Nt.snapshot})(s,R,M,Q);const h=await y_(s.localStore,e,!0),d=new _2(e,h.Qs),y=d.ru(h.documents),v=ro.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);w_(s,i,_.au);const S=new v2(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function R2(s,e,i){const r=_t(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!pc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await id(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Nd(r.remoteStore,o.targetId),sd(r,o.targetId)})).catch(Vs)):(sd(r,o.targetId),await id(r.localStore,o.targetId,!0))}async function C2(s,e){const i=_t(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Nd(i.remoteStore,r.targetId))}async function w2(s,e,i){const r=O2(s);try{const o=await(function(d,y){const v=_t(d),_=ae.now(),S=y.reduce(((Q,J)=>Q.add(J.key)),It());let R,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=Hi(),tt=It();return v.Ns.getEntries(Q,S).next(($=>{J=$,J.forEach(((ht,vt)=>{vt.isValidDocument()||(tt=tt.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,J))).next(($=>{R=$;const ht=[];for(const vt of y){const dt=PS(vt,R.get(vt.key).overlayedDocument);dt!=null&&ht.push(new Ar(vt.key,dt,yv(dt.value.mapValue),ki.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,ht,y)})).next(($=>{M=$;const ht=$.applyToLocalDocumentSet(R,tt);return v.documentOverlayCache.saveOverlays(Q,$.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:Dv(R)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Vt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await lo(r,o.changes),await Sc(r.remoteStore)}catch(o){const h=Ud(o,"Failed to persist write");i.reject(h)}}async function f0(s,e){const i=_t(s);try{const r=await kb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pt(d.hu,14607):o.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await lo(i,r,e)}catch(r){await Vs(r)}}function C_(s,e,i){const r=_t(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=_t(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,R)=>{for(const M of R.Sa)M.va(y)&&(_=!0)})),_&&Ld(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D2(s,e,i){const r=_t(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new oe(ct.comparator);d=d.insert(h,Ze.newNoDocument(h,pt.min()));const y=It().add(h),v=new Ec(pt.min(),new Map,new oe(Vt),d,y);await f0(r,v),r.du=r.du.remove(h),r.Au.delete(e),Bd(r)}else await id(r.localStore,e,!1).then((()=>sd(r,e,i))).catch(Vs)}async function V2(s,e){const i=_t(s),r=e.batch.batchId;try{const o=await Bb(i.localStore,e);m0(i,r,null),d0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await lo(i,o)}catch(o){await Vs(o)}}async function I2(s,e,i){const r=_t(s);try{const o=await(function(d,y){const v=_t(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((R=>(Pt(R!==null,37113),S=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);m0(r,e,i),d0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await lo(r,o)}catch(o){await Vs(o)}}function d0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function m0(s,e,i){const r=_t(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function sd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||g0(s,r)}))}function g0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Nd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Bd(s))}function w_(s,e,i){for(const r of i)r instanceof u0?(s.Ru.addReference(r.key,e),N2(s,r)):r instanceof c0?(at(jd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||g0(s,r.key)):mt(19791,{wu:r})}function N2(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(jd,"New document in limbo: "+i),s.Eu.add(r),Bd(s))}function Bd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(Wt.fromString(e)),r=s.fu.next();s.Au.set(r,new E2(i)),s.du=s.du.insert(i,r),t0(s.remoteStore,new Sa(pi(Ad(i.path)),r,"TargetPurposeLimboResolution",dc.ce))}}async function lo(s,e,i){const r=_t(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Vd.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=_t(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>Z.forEach(_,(M=>Z.forEach(M.Es,(Q=>S.persistence.referenceDelegate.addReference(R,M.targetId,Q))).next((()=>Z.forEach(M.ds,(Q=>S.persistence.referenceDelegate.removeReference(R,M.targetId,Q)))))))))}catch(R){if(!Is(R))throw R;at(Id,"Failed to update sequence numbers: "+R)}for(const R of _){const M=R.targetId;if(!R.fromCache){const Q=S.Ms.get(M),J=Q.snapshotVersion,tt=Q.withLastLimboFreeSnapshotVersion(J);S.Ms=S.Ms.insert(M,tt)}}})(r.localStore,h))}async function x2(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){at(jd,"User change. New user:",e.toKey());const r=await Zv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new rt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lo(i,r.Ls)}}function M2(s,e){const i=_t(s),r=i.Au.get(e);if(r&&r.hu)return It().add(r.key);{let o=It();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function p0(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=f0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D2.bind(null,e),e.Pu.H_=p2.bind(null,e.eventManager),e.Pu.yu=y2.bind(null,e.eventManager),e}function O2(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I2.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return jb(this.persistence,new zb,e.initialUser,this.serializer)}Cu(e){return new Kv(Dd.mi,this.serializer)}Du(e){return new Qb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class z2 extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Eb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Kv((r=>lc.mi(r,i)),this.serializer)}}class ld{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),r=(function(h){return new Zb(h)})(e.databaseInfo);return(function(h,d,y,v){return new t2(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new n2(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>C_(this.syncEngine,i,0)),(function(){return E_.v()?new E_:new Fb})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,S){const R=new T2(o,h,d,y,v,_);return S&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=_t(i);at(vr,"RemoteStore shutting down."),r.Ea.add(5),await so(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ld.provider={build:()=>new ld};class y0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const za="FirestoreClient";class U2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(za,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(za,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ud(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bf(s,e){s.asyncQueue.verifyOperationInProgress(),at(za,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Zv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function D_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await L2(s);at(za,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>A_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>A_(e.remoteStore,o))),s._onlineComponents=e}async function L2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(za,"Using user provided OfflineComponentProvider");try{await Bf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Bf(s,new uc)}}else at(za,"Using default OfflineComponentProvider"),await Bf(s,new z2(void 0));return s._offlineComponents}async function _0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(za,"Using user provided OnlineComponentProvider"),await D_(s,s._uninitializedComponentsProvider._online)):(at(za,"Using default OnlineComponentProvider"),await D_(s,new ld))),s._onlineComponents}function j2(s){return _0(s).then((e=>e.syncEngine))}async function od(s){const e=await _0(s),i=e.eventManager;return i.onListen=A2.bind(null,e.syncEngine),i.onUnlisten=R2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=S2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=C2.bind(null,e.syncEngine),i}function B2(s,e,i={}){const r=new wa;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const S=new y0({next:M=>{S.Nu(),d.enqueueAndForget((()=>l0(h,R))),M.fromCache&&v.source==="server"?_.reject(new rt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),R=new o0(y,S,{includeMetadataChanges:!0,qa:!0});return s0(h,R)})(await od(s),s.asyncQueue,e,i,r))),r.promise}function v0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const V_=new Map;const E0="firestore.googleapis.com",I_=!0;class N_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E0,this.ssl=I_}else this.host=e.host,this.ssl=e.ssl??I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_b)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new FA;switch(r.type){case"firstParty":return new ZA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=V_.get(i);r&&(at("ComponentProvider","Removing Datastore"),V_.delete(i),r.terminate())})(this),Promise.resolve()}}function k2(s,e,i,r={}){s=Da(s,bc);const o=dd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(vT(`https://${y}`),ST("Firestore",!0)),h.host!==E0&&h.host!==y&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:r};if(!Zu(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=Ke.MOCK_USER;else{_=ET(r.mockUserToken,s._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(R)}s._authCredentials=new YA(new rv(_,S))}}class br{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new br(this.firestore,e,this._query)}}class De{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(no(i,De._jsonSchema))return new De(e,r||null,new ct(Wt.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:we("string",De._jsonSchemaVersion),referencePath:we("string")};class Va extends br{constructor(e,i,r){super(e,i,Ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new ct(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function q2(s,e,...i){if(s=yr(s),sv("collection","path",e),s instanceof bc){const r=Wt.fromString(e,...i);return Gy(r),new Va(s,null,r)}{if(!(s instanceof De||s instanceof Va))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Gy(r),new Va(s.firestore,null,r)}}function ud(s,e,...i){if(s=yr(s),arguments.length===1&&(e=pd.newId()),sv("doc","path",e),s instanceof bc){const r=Wt.fromString(e,...i);return Hy(r),new De(s,null,new ct(r))}{if(!(s instanceof De||s instanceof Va))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Hy(r),new De(s.firestore,s instanceof Va?s.converter:null,new ct(r))}}const x_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $v(this,"async_queue_retry"),this._c=()=>{const r=jf();r&&at(x_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Is(e))throw e;at(x_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",O_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=zd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&mt(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function O_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function z_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class eo extends bc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new M_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function P2(s,e){const i=typeof s=="object"?s:MA(),r=typeof s=="string"?s:tc,o=DA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=yT("firestore");h&&k2(o,...h)}return o}function kd(s){if(s._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||H2(s),s._firestoreClient}function H2(s){const e=s._freezeSettings(),i=(function(o,h,d,y){return new dS(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,v0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new U2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Fe.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(no(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:we("string",xn._jsonSchemaVersion),bytes:we("string")};class qd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T0{constructor(e){this._methodName=e}}class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(no(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:we("string",_i._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(no(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:we("string",vi._jsonSchemaVersion),vectorValues:we("object")};const G2=/^__.*__$/;class Q2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new ao(e,this.data,i,this.fieldTransforms)}}function A0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class Pd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(A0(this.Ac)&&G2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class F2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Tc(e)}Cc(e,i,r,o=!1){return new Pd({Ac:e,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S0(s){const e=s._freezeSettings(),i=Tc(s._databaseId);return new F2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Y2(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);C0("Data must be an object, but it was:",d,r);const y=b0(r,d);let v,_;if(h.merge)v=new Qn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const R of h.mergeFields){const M=K2(e,R,i);if(!d.contains(M))throw new rt(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);J2(S,M)||S.push(M)}v=new Qn(S),_=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=d.fieldTransforms;return new Q2(new Nn(y),v,_)}function X2(s,e,i,r=!1){return Hd(i,s.Cc(r?4:3,e))}function Hd(s,e){if(R0(s=yr(s)))return C0("Unsupported field value:",e,s),b0(s,e);if(s instanceof T0)return(function(r,o){if(!A0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let v=Hd(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=yr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return US(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ae.fromDate(r);return{timestampValue:sc(o.serializer,h)}}if(r instanceof ae){const h=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sc(o.serializer,h)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:qv(o.serializer,r._byteString)};if(r instanceof De){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Cd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return(function(d,y){return{mapValue:{fields:{[gv]:{stringValue:pv},[ec]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Sd(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fc(r)}`)})(s,e)}function b0(s,e){const i={};return uv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,((r,o)=>{const h=Hd(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function R0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof _i||s instanceof xn||s instanceof De||s instanceof T0||s instanceof vi)}function C0(s,e,i){if(!R0(i)||!lv(i)){const r=fc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function K2(s,e,i){if((e=yr(e))instanceof qd)return e._internalPath;if(typeof e=="string")return w0(s,e);throw cc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Z2=new RegExp("[~\\*/\\[\\]]");function w0(s,e,i){if(e.search(Z2)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new qd(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function cc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new rt(K.INVALID_ARGUMENT,y+s+v)}function J2(s,e){return s.some((i=>i.isEqual(e)))}class D0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Gd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $2 extends D0{data(){return super.data()}}function Gd(s,e){return typeof e=="string"?w0(s,e):e instanceof qd?e._internalPath:e._delegate._internalPath}function V0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}class W2 extends Qd{}function tR(s,e,...i){let r=[];e instanceof Qd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof Fd)).length,y=h.filter((v=>v instanceof Rc)).length;if(d>1||d>0&&y>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Rc extends W2{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Rc(e,i,r)}_apply(e){const i=this._parse(e);return I0(e._query,i),new br(e.firestore,e.converter,Jf(e._query,i))}_parse(e){const i=S0(e.firestore);return(function(h,d,y,v,_,S,R){let M;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){L_(R,S);const J=[];for(const tt of R)J.push(U_(v,h,tt));M={arrayValue:{values:J}}}else M=U_(v,h,R)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||L_(R,S),M=X2(y,d,R,S==="in"||S==="not-in");return Ce.create(_,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function eR(s,e,i){const r=e,o=Gd("where",s);return Rc._create(o,r,i)}class Fd extends Qd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const v of y)I0(d,v),d=Jf(d,v)})(e._query,i),new br(e.firestore,e.converter,Jf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function U_(s,e,i){if(typeof(i=yr(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bv(e)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Wt.fromString(i));if(!ct.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $y(s,new ct(r))}if(i instanceof De)return $y(s,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function L_(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I0(s,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class nR{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Er(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[ec].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new vi(i)}convertGeoPoint(e){return new _i(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=gc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=Na(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);Pt(Yv(r),9688,{name:e});const o=new Jl(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function iR(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gr extends D0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Gd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",gr._jsonSchema={type:we("string",gr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Xu extends gr{data(e={}){return super.data(e)}}class pr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Xu(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Xu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ql(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Xu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ql(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:aR(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}pr._jsonSchemaVersion="firestore/querySnapshot/1.0",pr._jsonSchema={type:we("string",pr._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class Yd extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function rR(s){s=Da(s,br);const e=Da(s.firestore,eo),i=kd(e),r=new Yd(e);return V0(s._query),B2(i,s._query).then((o=>new pr(e,r,s,o)))}function N0(s,e,i){s=Da(s,De);const r=Da(s.firestore,eo),o=iR(s.converter,e);return lR(r,[Y2(S0(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ki.none())])}function sR(s,...e){s=yr(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||z_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(z_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,d,y;if(s instanceof De)d=Da(s.firestore,eo),y=Ad(s._key.path),h={next:v=>{e[r]&&e[r](oR(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Da(s,br);d=Da(v.firestore,eo),y=v._query;const _=new Yd(d);h={next:S=>{e[r]&&e[r](new pr(d,_,v,S))},error:e[r+1],complete:e[r+2]},V0(s._query)}return(function(_,S,R,M){const Q=new y0(M),J=new o0(S,Q,R);return _.asyncQueue.enqueueAndForget((async()=>s0(await od(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>l0(await od(_),J)))}})(kd(d),y,o,h)}function lR(s,e){return(function(r,o){const h=new wa;return r.asyncQueue.enqueueAndForget((async()=>w2(await j2(r),o,h))),h.promise})(kd(s),e)}function oR(s,e,i){const r=i.docs.get(e._key),o=new Yd(s);return new gr(s,o,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ds=o})(xA),$u(new Yl("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new eo(new XA(r.getProvider("auth-internal")),new JA(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(_.options.projectId,S)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),vs(By,ky,e),vs(By,ky,"esm2020")})();const uR={apiKey:"AIzaSyClukiCJsusdmwkaQHepGsILMfczgPrDhU",authDomain:"mathbook-engine.firebaseapp.com",projectId:"mathbook-engine",storageBucket:"mathbook-engine.firebasestorage.app",messagingSenderId:"469440264696",appId:"1:469440264696:web:6f91558beb97f8a2797e0d"},cR=K_(uR),hc=P2(cR),hR=({isOpen:s,onClose:e})=>{const[i,r]=ie.useState(""),[o,h]=ie.useState(null),[d,y]=ie.useState("idle"),[v,_]=ie.useState("");if(!s)return null;const S=async Q=>{const J=Q.target.files?.[0];if(J){i||r(J.name.replace(".js","").replace(/_/g," ")),y("validating");try{const tt=await J.text();await k_(tt),h(tt),y("valid"),_("")}catch(tt){y("error"),_(tt.message||"El archivo no es un simulador vlido."),h(null)}}},R=async()=>{if(o&&i){y("validating");try{const Q=tR(q2(hc,"simuladores"),eR("name","==",i)),J=await rR(Q);let tt="sim_"+crypto.randomUUID().slice(0,8);if(!J.empty&&(tt=J.docs[0].id,!confirm(`El simulador "${i}" ya existe en la nube. Quieres actualizarlo para TODOS los usuarios?`))){y("idle");return}await N0(ud(hc,"simuladores",tt),{id:tt,name:i,code:o,version:"1.0",timestamp:Date.now()}),alert("Simulador guardado en la nube! Todos los usuarios lo vern al instante."),M()}catch(Q){console.error(Q),_("Error al conectar con la base de datos."),y("error")}}},M=()=>{r(""),h(null),y("idle"),_(""),e()};return q.jsx("div",{className:"modal-bg",style:{display:"flex"},children:q.jsxs("div",{className:"modal fade-in",style:{width:"800px",maxHeight:"90vh",overflowY:"auto"},children:[q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[q.jsxs("h2",{children:[q.jsx(nT,{size:24})," Subir Simulador"]}),q.jsx("button",{onClick:M,style:{border:"none",background:"transparent",padding:0},children:q.jsx(aT,{size:24})})]}),q.jsxs("div",{className:"row",children:[q.jsx("label",{style:{fontWeight:"bold"},children:"Nombre para el Men:"}),q.jsx("input",{type:"text",value:i,onChange:Q=>r(Q.target.value),placeholder:"Ej: Permutaciones Agrupadas"})]}),q.jsxs("div",{className:"row",children:[q.jsx("label",{style:{fontWeight:"bold"},children:"Archivo JavaScript (.js):"}),q.jsx("input",{type:"file",accept:".js,text/javascript",onChange:S,style:{padding:"10px",background:"var(--bg-tertiary)",borderRadius:"var(--radius)"}})]}),q.jsxs("div",{style:{marginTop:"1rem",minHeight:"60px"},children:[d==="validating"&&q.jsx("p",{className:"loading",children:"Analizando cdigo..."}),d==="error"&&q.jsxs("div",{className:"feedback-incorrect",style:{display:"flex",gap:"10px",alignItems:"center"},children:[q.jsx($E,{size:20}),q.jsxs("div",{children:[q.jsx("strong",{children:"Error:"})," ",v]})]}),d==="valid"&&o&&q.jsxs("div",{className:"fade-in",children:[q.jsxs("div",{className:"feedback-correct",style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"1rem"},children:[q.jsx(IE,{size:20}),q.jsxs("div",{children:[q.jsx("strong",{children:"Cdigo Vlido!"})," Listo para subir."]})]}),q.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"8px",padding:"15px",background:"var(--bg-secondary)"},children:[q.jsxs("h4",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)"},children:[q.jsx(jE,{size:16})," Vista Previa del Simulador"]}),q.jsx(hd,{code:o,params:{}})]})]})]}),q.jsxs("div",{className:"buttons",children:[q.jsx("button",{onClick:M,children:"Cancelar"}),q.jsx("button",{id:"btnGuardar",disabled:d!=="valid"||!i,onClick:R,children:"Subir y Guardar"})]})]})})};function fR(s){const e=`
    :root { 
        --bg-primary: #ffffff; --text-primary: #1a202c; --brand-primary: #2563eb; 
        --bg-secondary: #f8fafc; --border-color: #e2e8f0;
    }
    body { font-family: system-ui, sans-serif; line-height: 1.6; color: var(--text-primary); margin: 0; background: #f1f5f9; }
    .book-container { max-width: 800px; margin: 40px auto; background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
    h1, h2 { color: var(--brand-primary); border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
    .page-content { display: none; animation: fadeIn 0.3s ease; }
    .page-content.active { display: block; }
    .nav-buttons { display: flex; justify-content: space-between; margin-top: 40px; border-top: 1px solid #e2e8f0; padding-top: 20px; }
    button { background: var(--brand-primary); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; }
    button:disabled { background: #cbd5e1; cursor: not-allowed; }
    
    /* Estilos del Simulador (Copiados de tu CSS) */
    .simulador-wrapper { margin: 20px 0; border: 1px solid #e2e8f0; border-radius: 8px; padding: 10px; background: #f8fafc; }
    .btn-sim { background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; width: 100%; text-align: left; }
    .btn-sim-rojo { background: #dc2626; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  `,i=`window.BOOK_DATA = ${JSON.stringify(s)};`;return`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${s.meta.title}</title>
    <style>${e}</style>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
</head>
<body>
    <div class="book-container">
        <h1 style="text-align:center">${s.meta.title}</h1>
        <hr/>
        
        <div id="book-content">
            </div>

        <div class="nav-buttons">
            <button id="btn-prev">Anterior</button>
            <span id="page-num" style="align-self:center; color:#64748b;">Pgina 1</span>
            <button id="btn-next">Siguiente</button>
        </div>
    </div>

    <script>${i}<\/script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const data = window.BOOK_DATA;
        const container = document.getElementById('book-content');
        const prevBtn = document.getElementById('btn-prev');
        const nextBtn = document.getElementById('btn-next');
        const pageNum = document.getElementById('page-num');
        
        let currentPageIdx = 0;

        // --- MOTOR DE SIMULADORES (Versin Ligera) ---
        const simulators = {};
        data.assets.simulators.forEach(sim => {
            simulators[sim.id] = sim;
        });

        function renderBlock(block) {
            if (block.type === 'text') {
                const div = document.createElement('div');
                div.className = 'text-block';
                // Convertir saltos de lnea y LaTeX bsico
                div.innerHTML = block.content
                    .replace(/\\n/g, '<br>')
                    // Un hack simple para renderizar simuladores Legacy en texto si quedaron huerfanos
                    .replace(/\\[simulador:(.*?)\\]/g, ''); 
                return div;
            }
            if (block.type === 'simulator') {
                const wrapper = document.createElement('div');
                wrapper.className = 'simulador-wrapper';
                const simAsset = simulators[block.simulatorId || block.simulatorId?.replace('legacy_', '')];
                
                if (!simAsset) {
                    wrapper.innerHTML = '<p style="color:red">Simulador no encontrado: ' + block.simulatorId + '</p>';
                    return wrapper;
                }

                // Inyeccin del cdigo JS
                // NOTA: Para exportacin real, usamos Blob URL igual que en el editor
                const blob = new Blob([simAsset.code], { type: 'text/javascript' });
                const url = URL.createObjectURL(blob);

                import(url).then(module => {
                    const sim = module.default;
                    // Detectar formato (Igual que en tu editor)
                    if (sim.init) {
                        const container = document.createElement('div');
                        wrapper.appendChild(container);
                        sim.init(container, block.simConfig || {});
                    } else if (sim.render) {
                        // Legacy Support
                        const html = sim.render(block.simConfig || {}, simAsset.name);
                        const scriptRegex = /<script>([\\s\\S]*?)<\\/script>/;
                        const match = html.match(scriptRegex);
                        const htmlOnly = html.replace(scriptRegex, '');
                        
                        const div = document.createElement('div');
                        div.innerHTML = htmlOnly;
                        wrapper.appendChild(div);

                        if (match && match[1]) {
                            const script = document.createElement('script');
                            script.textContent = match[1];
                            document.body.appendChild(script);
                        }
                    }
                }).catch(err => {
                    wrapper.innerHTML = 'Error cargando simulador: ' + err.message;
                });

                return wrapper;
            }
            return document.createElement('div');
        }

        function showPage(index) {
            container.innerHTML = '';
            const page = data.pages[index];
            
            const title = document.createElement('h2');
            title.textContent = page.title;
            container.appendChild(title);

            page.blocks.forEach(block => {
                container.appendChild(renderBlock(block));
            });

            // Actualizar controles
            pageNum.textContent = \`Pgina \${index + 1} de \${data.pages.length}\`;
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === data.pages.length - 1;
            
            // Renderizar Matemticas (MathJax) si existe
            if (window.MathJax) {
                window.MathJax.typesetPromise([container]);
            }
        }

        // Event Listeners
        prevBtn.onclick = () => { if(currentPageIdx > 0) showPage(--currentPageIdx); };
        nextBtn.onclick = () => { if(currentPageIdx < data.pages.length - 1) showPage(++currentPageIdx); };

        // Iniciar
        showPage(0);
    });
  <\/script>
</body>
</html>
  `}const dR={meta:{title:"Cargando...",author:"Anon",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:[]},j_="libro_curso_principal";function mR(){const[s,e]=ie.useState(dR),[i,r]=ie.useState([]),[o,h]=ie.useState(null),[d,y]=ie.useState(!1),[v,_]=ie.useState(!1),[S,R]=ie.useState(!0),[M,Q]=ie.useState(!1);ie.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("admin")==="profe123";R(!b);const I=sR(ud(hc,"projects",j_),V=>{if(V.exists()){const O=V.data();console.log(" Sincronizado desde la nube"),e(O),!o&&O.pages.length>0}else b&&console.log("Listo para crear el primer libro en la nube.")});return()=>I()},[]),ie.useEffect(()=>{document.body.setAttribute("data-theme",v?"dark":"light")},[v]);const J=async()=>{if(!S){Q(!0);try{await N0(ud(hc,"projects",j_),s),alert(" Publicado! Todos los alumnos tienen la ltima versin.")}catch(A){console.error(A),alert(" Error al subir a la nube.")}finally{Q(!1)}}},tt=()=>{const A="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s)),b=document.createElement("a");b.setAttribute("href",A),b.setAttribute("download",s.meta.title+"_backup.json"),document.body.appendChild(b),b.click(),b.remove()},$=A=>{const b=A.target.files?.[0];if(!b)return;const I=new FileReader;I.onload=V=>{try{const O=JSON.parse(V.target?.result);if(O.meta&&O.pages&&!Array.isArray(O)){e(O),h(O.pages[0]?.id||null),alert("Proyecto V2 cargado. Dale a 'PUBLICAR' para subirlo a la nube.");return}if(Array.isArray(O)){console.log("Detectado formato Legacy. Convirtiendo...");const C=O.map(te=>{const H=[],et=te.contenido||"",ot=/\[simulador:([a-zA-Z0-9_]+)\]/g;let bt=0,Ut;for(;(Ut=ot.exec(et))!==null;){const nt=et.slice(bt,Ut.index).trim();nt&&H.push({id:crypto.randomUUID(),type:"text",content:nt});const it=Ut[1];H.push({id:crypto.randomUUID(),type:"simulator",content:"",simulatorId:"legacy_"+it,simConfig:{}}),bt=ot.lastIndex}const x=et.slice(bt).trim();x&&H.push({id:crypto.randomUUID(),type:"text",content:x});let Y="seccion";return te.tipo==="capitulo"&&(Y="capitulo"),te.tipo==="portada"&&(Y="portada"),{id:te.id||crypto.randomUUID(),type:Y,title:te.titulo||"Sin Ttulo",blocks:H.length>0?H:[{id:crypto.randomUUID(),type:"text",content:""}]}}),$t={meta:{title:"Libro Importado",author:"Usuario",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:C};e($t),h(C[0]?.id||null),alert(` Archivo antiguo convertido. 

PASO SIGUIENTE:
1. Revisa que el texto est bien.
2. Sube los simuladores (.js) que falten.
3. Dale a 'PUBLICAR' para guardarlo en la nube.`)}else alert("Formato no reconocido.")}catch(O){console.error(O),alert("Error al leer el archivo JSON.")}},I.readAsText(b),A.target.value=""},ht=()=>{if(i.length===0)return;const A=i[i.length-1];r(b=>b.slice(0,-1)),e(A)},vt=(A="seccion")=>{r(I=>[...I,s]);const b={id:crypto.randomUUID(),type:A,title:A==="capitulo"?"Nuevo Captulo":"Nueva Seccin",blocks:[]};e(I=>({...I,pages:[...I.pages,b]})),h(b.id)},dt=A=>{e(b=>({...b,pages:b.pages.map(I=>I.id===A.id?A:I)}))},qt=(A,b)=>{const I={id:"sim_"+crypto.randomUUID().slice(0,8),name:A,code:b,version:"1.0",timestamp:Date.now()};e(V=>({...V,assets:{...V.assets,simulators:[...V.assets.simulators,I]}}))},Zt=A=>{if(!A)return"";const b=A.replace("legacy_",""),I=s.assets.simulators.find(V=>V.id===A||V.id.includes(b));return I?I.code:""},Nt=()=>{const A=fR(s),b=new Blob([A],{type:"text/html"}),I=URL.createObjectURL(b),V=document.createElement("a");V.href=I,V.download=`${s.meta.title.replace(/\s+/g,"_")}_offline.html`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(I)},D=A=>{switch(A){case"capitulo":return{fontWeight:"bold",borderLeft:"4px solid var(--brand-primary)",paddingLeft:"8px",marginTop:"10px"};case"subseccion":return{paddingLeft:"30px",fontSize:"0.9em",borderLeft:"1px solid var(--border-color)"};case"portada":return{fontStyle:"italic",color:"var(--brand-accent)"};default:return{paddingLeft:"15px"}}};return S?q.jsxs("div",{className:"reader-container",style:{maxWidth:"900px",margin:"0 auto",padding:"20px",fontFamily:"system-ui, sans-serif"},children:[q.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px",paddingBottom:"20px",borderBottom:"1px solid var(--border-color)"},children:[q.jsx("div",{children:q.jsx("h1",{style:{margin:0,color:"var(--brand-primary)"},children:s.meta.title})}),q.jsx("button",{onClick:()=>_(!v),style:{background:"none",border:"1px solid gray",padding:"5px",borderRadius:"4px",cursor:"pointer"},children:v?q.jsx(Cy,{size:18}):q.jsx(Ry,{size:18})})]}),q.jsxs("div",{className:"content-area",children:[s.pages.length===0&&q.jsx("div",{style:{textAlign:"center",padding:"50px",color:"gray"},children:q.jsx("p",{children:"Cargando contenido o esperando publicacin..."})}),s.pages.map(A=>q.jsxs("div",{style:{marginBottom:"60px",animation:"fadeIn 0.5s"},children:[A.type==="capitulo"&&q.jsx("h2",{style:{color:"var(--brand-primary)",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:A.title}),A.type==="seccion"&&q.jsx("h3",{style:{marginTop:"30px"},children:A.title}),A.type==="subseccion"&&q.jsx("h4",{style:{fontStyle:"italic",color:"#555"},children:A.title}),A.type==="portada"&&q.jsx("h1",{style:{textAlign:"center",fontSize:"3em",margin:"50px 0"},children:A.title}),q.jsx("div",{style:{lineHeight:"1.6"},children:A.blocks.map(b=>q.jsxs("div",{style:{margin:"15px 0"},children:[b.type==="text"&&q.jsx("div",{dangerouslySetInnerHTML:{__html:b.content.replace(/\n/g,"<br/>")}}),b.type==="simulator"&&q.jsx("div",{style:{border:"1px solid #ddd",padding:"20px",borderRadius:"8px",background:v?"#1a1a1a":"#f9fafb"},children:q.jsx(hd,{code:Zt(b.simulatorId),params:b.simConfig||{}})})]},b.id))})]},A.id))]}),q.jsx("footer",{style:{marginTop:"50px",textAlign:"center",fontSize:"0.8em",color:"gray",padding:"20px"},children:"Libro Interactivo - ESCOM"})]}):q.jsxs("div",{className:"app-container",children:[q.jsxs("header",{children:[q.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[q.jsx("h1",{children:s.meta.title}),q.jsx("span",{style:{fontSize:"0.7em",background:"var(--brand-error)",color:"white",padding:"2px 6px",borderRadius:"4px"},children:"EDITOR"})]}),q.jsx("div",{className:"header-sep"}),q.jsxs("a",{href:"/ayuda.html",target:"_blank",className:"button-link",title:"Ver Ayuda",children:[q.jsx(xE,{size:18,style:{marginRight:5}})," Ayuda"]}),q.jsx("button",{className:"icon-button",onClick:()=>_(!v),children:v?q.jsx(Cy,{size:18}):q.jsx(Ry,{size:18})}),q.jsx("button",{className:"icon-button",onClick:ht,disabled:i.length===0,title:"Deshacer",children:q.jsx(tT,{size:18})}),q.jsx("div",{className:"header-sep"}),q.jsxs("div",{className:"local-actions-group",children:[q.jsxs("label",{className:"icon-button",title:"Importar JSON viejo",children:[q.jsx(PE,{size:18}),q.jsx("input",{type:"file",accept:".json",onChange:$,style:{display:"none"}})]}),q.jsx("button",{className:"icon-button",onClick:tt,title:"Guardar Respaldo Local (JSON)",children:q.jsx(YE,{size:18})})]}),q.jsx("button",{onClick:J,disabled:M,style:{background:"var(--brand-success)",color:"white",border:"none",padding:"8px 15px",borderRadius:"6px",fontWeight:"bold",marginLeft:"auto",display:"flex",alignItems:"center",cursor:"pointer"},children:M?"Subiendo...":q.jsxs(q.Fragment,{children:[q.jsx(OE,{size:18,style:{marginRight:5}})," PUBLICAR"]})}),q.jsx("button",{className:"icon-button",onClick:Nt,title:"Descargar HTML Offline",style:{marginLeft:"10px"},children:q.jsx(UE,{size:18})})]}),q.jsxs("div",{className:"layout",children:[q.jsxs("aside",{className:"toc",children:[q.jsx("h2",{children:"Contenido"}),q.jsxs("div",{className:"toolbar",style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:[q.jsx("button",{onClick:()=>vt("capitulo"),children:"+ Cap"}),q.jsx("button",{onClick:()=>vt("seccion"),children:"+ Sec"}),q.jsx("button",{onClick:()=>y(!0),style:{flexBasis:"100%"},children:"+ Simulador"})]}),q.jsx("ul",{style:{marginTop:"1rem"},children:s.pages.map(A=>q.jsx("li",{className:A.id===o?"selected":"",style:D(A.type),onClick:()=>h(A.id),children:A.title||"Sin ttulo"},A.id))})]}),q.jsx("main",{className:"main",children:o?(()=>{const A=s.pages.find(b=>b.id===o);return A?q.jsx(sT,{page:A,availableSimulators:s.assets.simulators,onUpdatePage:dt}):q.jsx("p",{children:"Error cargando pgina"})})():q.jsx("div",{className:"empty-state",children:q.jsx("p",{children:"Selecciona una pgina o carga un proyecto."})})})]}),q.jsx(hR,{isOpen:d,onClose:()=>y(!1),onSave:qt})]})}vE.createRoot(document.getElementById("root")).render(q.jsx(hE.StrictMode,{children:q.jsx(mR,{})}));
