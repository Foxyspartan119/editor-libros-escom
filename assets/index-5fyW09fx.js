(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function j_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cf={exports:{}},Ul={};var gy;function dE(){if(gy)return Ul;gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var py;function mE(){return py||(py=1,Cf.exports=dE()),Cf.exports}var U=mE(),wf={exports:{}},vt={};var yy;function gE(){if(yy)return vt;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,$={};function ht(M,Y,nt){this.props=M,this.context=Y,this.refs=$,this.updater=nt||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ht.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Tt(){}Tt.prototype=ht.prototype;function mt(M,Y,nt){this.props=M,this.context=Y,this.refs=$,this.updater=nt||J}var qt=mt.prototype=new Tt;qt.constructor=mt,et(qt,ht.prototype),qt.isPureReactComponent=!0;var Wt=Array.isArray;function Vt(){}var V={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(M,Y,nt){var it=nt.ref;return{$$typeof:r,type:M,key:Y,ref:it!==void 0?it:null,props:nt}}function O(M,Y){return D(M.type,Y,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function N(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return Y[nt]})}var S=/\/+/g;function bt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):Y.toString(36)}function Ct(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Vt,Vt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,Y,nt,it,dt){var _t=typeof M;(_t==="undefined"||_t==="boolean")&&(M=null);var Nt=!1;if(M===null)Nt=!0;else switch(_t){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(M.$$typeof){case r:case e:Nt=!0;break;case A:return Nt=M._init,q(Nt(M._payload),Y,nt,it,dt)}}if(Nt)return dt=dt(M),Nt=it===""?"."+bt(M,0):it,Wt(dt)?(nt="",Nt!=null&&(nt=Nt.replace(S,"$&/")+"/"),q(dt,Y,nt,"",function(Ua){return Ua})):dt!=null&&(C(dt)&&(dt=O(dt,nt+(dt.key==null||M&&M.key===dt.key?"":(""+dt.key).replace(S,"$&/")+"/")+Nt)),Y.push(dt)),1;Nt=0;var Ne=it===""?".":it+":";if(Wt(M))for(var se=0;se<M.length;se++)it=M[se],_t=Ne+bt(it,se),Nt+=q(it,Y,nt,_t,dt);else if(se=G(M),typeof se=="function")for(M=se.call(M),se=0;!(it=M.next()).done;)it=it.value,_t=Ne+bt(it,se++),Nt+=q(it,Y,nt,_t,dt);else if(_t==="object"){if(typeof M.then=="function")return q(Ct(M),Y,nt,it,dt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function W(M,Y,nt){if(M==null)return M;var it=[],dt=0;return q(M,it,"","",function(_t){return Y.call(nt,_t,dt++)}),it}function lt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},jt={map:W,forEach:function(M,Y,nt){W(M,function(){Y.apply(this,arguments)},nt)},count:function(M){var Y=0;return W(M,function(){Y++}),Y},toArray:function(M){return W(M,function(Y){return Y})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return vt.Activity=b,vt.Children=jt,vt.Component=ht,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=mt,vt.StrictMode=s,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,vt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return V.H.useMemoCache(M)}},vt.cache=function(M){return function(){return M.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(M,Y,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=et({},M.props),dt=M.key;if(Y!=null)for(_t in Y.key!==void 0&&(dt=""+Y.key),Y)!R.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(it[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)it.children=nt;else if(1<_t){for(var Nt=Array(_t),Ne=0;Ne<_t;Ne++)Nt[Ne]=arguments[Ne+2];it.children=Nt}return D(M.type,dt,it)},vt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},vt.createElement=function(M,Y,nt){var it,dt={},_t=null;if(Y!=null)for(it in Y.key!==void 0&&(_t=""+Y.key),Y)R.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=Y[it]);var Nt=arguments.length-2;if(Nt===1)dt.children=nt;else if(1<Nt){for(var Ne=Array(Nt),se=0;se<Nt;se++)Ne[se]=arguments[se+2];dt.children=Ne}if(M&&M.defaultProps)for(it in Nt=M.defaultProps,Nt)dt[it]===void 0&&(dt[it]=Nt[it]);return D(M,_t,dt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(M){return{$$typeof:y,render:M}},vt.isValidElement=C,vt.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:lt}},vt.memo=function(M,Y){return{$$typeof:_,type:M,compare:Y===void 0?null:Y}},vt.startTransition=function(M){var Y=V.T,nt={};V.T=nt;try{var it=M(),dt=V.S;dt!==null&&dt(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Vt,pt)}catch(_t){pt(_t)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),V.T=Y}},vt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},vt.use=function(M){return V.H.use(M)},vt.useActionState=function(M,Y,nt){return V.H.useActionState(M,Y,nt)},vt.useCallback=function(M,Y){return V.H.useCallback(M,Y)},vt.useContext=function(M){return V.H.useContext(M)},vt.useDebugValue=function(){},vt.useDeferredValue=function(M,Y){return V.H.useDeferredValue(M,Y)},vt.useEffect=function(M,Y){return V.H.useEffect(M,Y)},vt.useEffectEvent=function(M){return V.H.useEffectEvent(M)},vt.useId=function(){return V.H.useId()},vt.useImperativeHandle=function(M,Y,nt){return V.H.useImperativeHandle(M,Y,nt)},vt.useInsertionEffect=function(M,Y){return V.H.useInsertionEffect(M,Y)},vt.useLayoutEffect=function(M,Y){return V.H.useLayoutEffect(M,Y)},vt.useMemo=function(M,Y){return V.H.useMemo(M,Y)},vt.useOptimistic=function(M,Y){return V.H.useOptimistic(M,Y)},vt.useReducer=function(M,Y,nt){return V.H.useReducer(M,Y,nt)},vt.useRef=function(M){return V.H.useRef(M)},vt.useState=function(M){return V.H.useState(M)},vt.useSyncExternalStore=function(M,Y,nt){return V.H.useSyncExternalStore(M,Y,nt)},vt.useTransition=function(){return V.H.useTransition()},vt.version="19.2.3",vt}var _y;function fd(){return _y||(_y=1,wf.exports=gE()),wf.exports}var Xt=fd();const pE=j_(Xt);var Df={exports:{}},Ll={},Vf={exports:{}},Nf={};var vy;function yE(){return vy||(vy=1,(function(r){function e(q,W){var lt=q.length;q.push(W);t:for(;0<lt;){var pt=lt-1>>>1,jt=q[pt];if(0<o(jt,W))q[pt]=W,q[lt]=jt,lt=pt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var W=q[0],lt=q.pop();if(lt!==W){q[0]=lt;t:for(var pt=0,jt=q.length,M=jt>>>1;pt<M;){var Y=2*(pt+1)-1,nt=q[Y],it=Y+1,dt=q[it];if(0>o(nt,lt))it<jt&&0>o(dt,nt)?(q[pt]=dt,q[it]=lt,pt=it):(q[pt]=nt,q[Y]=lt,pt=Y);else if(it<jt&&0>o(dt,lt))q[pt]=dt,q[it]=lt,pt=it;else break t}}return W}function o(q,W){var lt=q.sortIndex-W.sortIndex;return lt!==0?lt:q.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,x=3,G=!1,J=!1,et=!1,$=!1,ht=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function qt(q){for(var W=i(_);W!==null;){if(W.callback===null)s(_);else if(W.startTime<=q)s(_),W.sortIndex=W.expirationTime,e(v,W);else break;W=i(_)}}function Wt(q){if(et=!1,qt(q),!J)if(i(v)!==null)J=!0,Vt||(Vt=!0,N());else{var W=i(_);W!==null&&Ct(Wt,W.startTime-q)}}var Vt=!1,V=-1,R=5,D=-1;function O(){return $?!0:!(r.unstable_now()-D<R)}function C(){if($=!1,Vt){var q=r.unstable_now();D=q;var W=!0;try{t:{J=!1,et&&(et=!1,Tt(V),V=-1),G=!0;var lt=x;try{e:{for(qt(q),b=i(v);b!==null&&!(b.expirationTime>q&&O());){var pt=b.callback;if(typeof pt=="function"){b.callback=null,x=b.priorityLevel;var jt=pt(b.expirationTime<=q);if(q=r.unstable_now(),typeof jt=="function"){b.callback=jt,qt(q),W=!0;break e}b===i(v)&&s(v),qt(q)}else s(v);b=i(v)}if(b!==null)W=!0;else{var M=i(_);M!==null&&Ct(Wt,M.startTime-q),W=!1}}break t}finally{b=null,x=lt,G=!1}W=void 0}}finally{W?N():Vt=!1}}}var N;if(typeof mt=="function")N=function(){mt(C)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,bt=S.port2;S.port1.onmessage=C,N=function(){bt.postMessage(null)}}else N=function(){ht(C,0)};function Ct(q,W){V=ht(function(){q(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(q){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var lt=x;x=W;try{return q()}finally{x=lt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=x;x=q;try{return W()}finally{x=lt}},r.unstable_scheduleCallback=function(q,W,lt){var pt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?pt+lt:pt):lt=pt,q){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=lt+jt,q={id:A++,callback:W,priorityLevel:q,startTime:lt,expirationTime:jt,sortIndex:-1},lt>pt?(q.sortIndex=lt,e(_,q),i(v)===null&&q===i(_)&&(et?(Tt(V),V=-1):et=!0,Ct(Wt,lt-pt))):(q.sortIndex=jt,e(v,q),J||G||(J=!0,Vt||(Vt=!0,N()))),q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(q){var W=x;return function(){var lt=x;x=W;try{return q.apply(this,arguments)}finally{x=lt}}}})(Nf)),Nf}var Ey;function _E(){return Ey||(Ey=1,Vf.exports=yE()),Vf.exports}var If={exports:{}},Ye={};var Ty;function vE(){if(Ty)return Ye;Ty=1;var r=fd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ye.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:G}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ye.requestFormReset=function(v){s.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var Ay;function EE(){if(Ay)return If.exports;Ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),If.exports=vE(),If.exports}var Sy;function TE(){if(Sy)return Ll;Sy=1;var r=_E(),e=fd(),i=EE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case ht:return"Profiler";case $:return"StrictMode";case Wt:return"Suspense";case Vt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case mt:return t.displayName||"Context";case Tt:return(t._context.displayName||"Context")+".Consumer";case qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:bt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return bt(t(n))}catch{}}return null}var Ct=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},pt=[],jt=-1;function M(t){return{current:t}}function Y(t){0>jt||(t.current=pt[jt],pt[jt]=null,jt--)}function nt(t,n){jt++,pt[jt]=t.current,t.current=n}var it=M(null),dt=M(null),_t=M(null),Nt=M(null);function Ne(t,n){switch(nt(_t,n),nt(dt,t),nt(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jp(n),t=kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(it),nt(it,t)}function se(){Y(it),Y(dt),Y(_t)}function Ua(t){t.memoizedState!==null&&nt(Nt,t);var n=it.current,a=kp(n,t.type);n!==a&&(nt(dt,t),nt(it,a))}function Rs(t){dt.current===t&&(Y(it),Y(dt)),Nt.current===t&&(Y(Nt),xl._currentValue=lt)}var Cs,ws;function Yn(t){if(Cs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cs=n&&n[1]||"",ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+t+ws}var xr=!1;function La(t,n){if(!t||xr)return"";xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),k=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===k.length)for(l=w.length-1,c=k.length-1;1<=l&&0<=c&&w[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==k[c]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{xr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function Mr(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return La(t.type,!1);case 11:return La(t.type.render,!1);case 1:return La(t.type,!0);case 31:return Yn("Activity");default:return""}}function Or(t){try{var n="",a=null;do n+=Mr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,Gi=r.unstable_cancelCallback,wc=r.unstable_shouldYield,uo=r.unstable_requestPaint,Je=r.unstable_now,ja=r.unstable_getCurrentPriorityLevel,zr=r.unstable_ImmediatePriority,Ur=r.unstable_UserBlockingPriority,Qi=r.unstable_NormalPriority,Dc=r.unstable_LowPriority,co=r.unstable_IdlePriority,ho=r.log,fo=r.unstable_setDisableYieldValue,Mn=null,je=null;function _n(t){if(typeof ho=="function"&&fo(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Mn,t)}catch{}}var fe=Math.clz32?Math.clz32:go,mo=Math.log,Ds=Math.LN2;function go(t){return t>>>=0,t===0?32:31-(mo(t)/Ds|0)|0}var Xn=256,ka=262144,_e=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function On(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ba(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-fe(a),X=1<<Q;E[Q]=0,w[Q]=-1;var B=k[Q];if(B!==null)for(k[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&qa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function qa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function jr(t,n){var a=n&-n;return a=(a&42)!==0?1:Pa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Pa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yo(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:oy(t.type))}function zn(t,n){var a=W.p;try{return W.p=t,n()}finally{W.p=a}}var Un=Math.random().toString(36).slice(2),ve="__reactFiber$"+Un,Oe="__reactProps$"+Un,$n="__reactContainer$"+Un,Vs="__reactEvents$"+Un,Ic="__reactListeners$"+Un,_o="__reactHandles$"+Un,vo="__reactResources$"+Un,Wn="__reactMarker$"+Un;function Ns(t){delete t[ve],delete t[Oe],delete t[Vs],delete t[Ic],delete t[_o]}function ti(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Fp(t);t!==null;){if(a=t[ve])return a;t=Fp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[ve]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ei(t){var n=t[vo];return n||(n=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[Wn]=!0}var kr=new Set,Br={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Br[t]=n,t=0;t<n.length;t++)kr.add(n[t])}var qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pr={},Hr={};function Eo(t){return ye.call(Hr,t)?!0:ye.call(Pr,t)?!1:qr.test(t)?Hr[t]=!0:(Pr[t]=!0,!1)}function Is(t,n,a){if(Eo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=Fi(t)?"checked":"value";t._valueTracker=Gr(t,n,""+t[n])}}function Ha(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ga=/[\n"\\]/g;function tn(t){return t.replace(Ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xs(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Qr(t,g,ze(n)):a!=null?Qr(t,g,ze(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ze(E):t.removeAttribute("name")}function To(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qt(t)}function Qr(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ao(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qt(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var So=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||So.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Yr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Fr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fr(t,f,n[f])}function Ms(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Xr=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,si=null;function Qa(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(xs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));xs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ha(l)}break t;case"textarea":Ao(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Yi(t,!!a.multiple,n,!1)}}}var zs=!1;function Ji(t,n,a){if(zs)return t(n,a);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,(Zi!==null||si!==null)&&(yu(),Zi&&(n=Zi,t=si,si=Zi=null,Qa(n),t)))for(n=0;n<t.length;n++)Qa(t[n])}}function jn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Tn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Fa=!1}var ri=null,Kr=null,Ya=null;function Zr(){if(Ya)return Ya;var t,n=Kr,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ya=c.slice(t,1<l?1-l:void 0)}function Xa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ai(){return!0}function kn(){return!1}function ke(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ai:kn,this.isPropagationStopped=kn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=ke(Si),$i=b({},Si,{view:0,detail:0}),Jr=ke($i),Wi,Us,oi,Ls=b({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(Wi=t.screenX-oi.screenX,Us=t.screenY-oi.screenY):Us=Wi=0,oi=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),$r=ke(Ls),Ka=b({},Ls,{dataTransfer:0}),Ro=ke(Ka),Co=b({},$i,{relatedTarget:0}),Za=ke(Co),Wr=b({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=ke(Wr),js=b({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Do=ke(js),Vo=b({},Si,{data:0}),ui=ke(Vo),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xo[t])?!!n[t]:!1}function ta(){return Mo}var $e=b({},$i,{key:function(t){if(t.key){var n=No[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oo=ke($e),zo=b({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=ke(zo),u=b({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),m=ke(u),p=b({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(p),L=b({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=ke(L),tt=b({},Si,{newState:0,oldState:0}),At=ke(tt),de=[9,13,27,32],Pt=Tn&&"CompositionEvent"in window,re=null;Tn&&"documentMode"in document&&(re=document.documentMode);var An=Tn&&"TextEvent"in window&&!re,ci=Tn&&(!Pt||re&&8<re&&11>=re),Bn=" ",qn=!1;function Ja(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ks(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function L0(t,n){switch(t){case"compositionend":return ks(n);case"keypress":return n.which!==32?null:(qn=!0,Bn);case"textInput":return t=n.data,t===Bn&&qn?null:t;default:return null}}function j0(t,n){if(Bs)return t==="compositionend"||!Pt&&Ja(t,n)?(t=Zr(),Ya=Kr=ri=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!k0[t.type]:n==="textarea"}function Zd(t,n,a,l){Zi?si?si.push(l):si=[l]:Zi=l,n=bu(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var tl=null,el=null;function B0(t){xp(t,0)}function Uo(t){var n=un(t);if(Ha(n))return t}function Jd(t,n){if(t==="change")return n}var $d=!1;if(Tn){var xc;if(Tn){var Mc="oninput"in document;if(!Mc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Mc=typeof Wd.oninput=="function"}xc=Mc}else xc=!1;$d=xc&&(!document.documentMode||9<document.documentMode)}function tm(){tl&&(tl.detachEvent("onpropertychange",em),el=tl=null)}function em(t){if(t.propertyName==="value"&&Uo(el)){var n=[];Zd(n,el,t,En(t)),Ji(B0,n)}}function q0(t,n,a){t==="focusin"?(tm(),tl=n,el=a,tl.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function P0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(el)}function H0(t,n){if(t==="click")return Uo(n)}function G0(t,n){if(t==="input"||t==="change")return Uo(n)}function Q0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:Q0;function nl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var a=nm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=nm(a)}}function am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var F0=Tn&&"documentMode"in document&&11>=document.documentMode,qs=null,zc=null,il=null,Uc=!1;function rm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uc||qs==null||qs!==ai(l)||(l=qs,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=bu(zc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qs)))}function $a(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ps={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Lc={},lm={};Tn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Wa(t){if(Lc[t])return Lc[t];if(!Ps[t])return t;var n=Ps[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in lm)return Lc[t]=n[a];return t}var om=Wa("animationend"),um=Wa("animationiteration"),cm=Wa("animationstart"),Y0=Wa("transitionrun"),X0=Wa("transitionstart"),K0=Wa("transitioncancel"),hm=Wa("transitionend"),fm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function Pn(t,n){fm.set(t,n),ni(n,[t])}var Lo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Hs=0,kc=0;function jo(){for(var t=Hs,n=kc=Hs=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&dm(a,c,f)}}function ko(t,n,a,l){Sn[Hs++]=t,Sn[Hs++]=n,Sn[Hs++]=a,Sn[Hs++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bc(t,n,a,l){return ko(t,n,a,l),Bo(t)}function ts(t,n){return ko(t,null,null,n),Bo(t)}function dm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bo(t){if(50<Rl)throw Rl=0,Kh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gs={};function Z0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new Z0(t,n,a,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")qc(t)&&(g=1);else if(typeof t=="string")g=eE(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=fn(31,a,n,c),t.elementType=D,t.lanes=f,t;case et:return es(a.children,c,f,n);case $:g=8,c|=24;break;case ht:return t=fn(12,a,n,c|2),t.elementType=ht,t.lanes=f,t;case Wt:return t=fn(13,a,n,c),t.elementType=Wt,t.lanes=f,t;case Vt:return t=fn(19,a,n,c),t.elementType=Vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case Tt:g=9;break t;case qt:g=11;break t;case V:g=14;break t;case R:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function es(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Pc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function gm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Hc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var pm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=pm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Or(n)},pm.set(t,n),n)}return{value:t,source:n,stack:Or(n)}}var Qs=[],Fs=0,Po=null,al=0,Rn=[],Cn=0,ea=null,hi=1,fi="";function Ci(t,n){Qs[Fs++]=al,Qs[Fs++]=Po,Po=t,al=n}function ym(t,n,a){Rn[Cn++]=hi,Rn[Cn++]=fi,Rn[Cn++]=ea,ea=t;var l=hi;t=fi;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var f=32-fe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-fe(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Gc(t){t.return!==null&&(Ci(t,1),ym(t,1,0))}function Qc(t){for(;t===Po;)Po=Qs[--Fs],Qs[Fs]=null,al=Qs[--Fs],Qs[Fs]=null;for(;t===ea;)ea=Rn[--Cn],Rn[Cn]=null,fi=Rn[--Cn],Rn[Cn]=null,hi=Rn[--Cn],Rn[Cn]=null}function _m(t,n){Rn[Cn++]=hi,Rn[Cn++]=fi,Rn[Cn++]=ea,hi=n.id,fi=n.overflow,ea=t}var Be=null,ne=null,zt=!1,na=null,wn=!1,Fc=Error(s(519));function ia(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(bn(n,t)),Fc}function vm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Oe]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Dt(wl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),To(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Xi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Up(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ia(t,!0)}function Em(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Be=Be.return}}function Ys(t){if(t!==Be)return!1;if(!zt)return Em(t),zt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hf(t.type,t.memoizedProps)),a=!a),a&&ne&&ia(t),Em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=Qp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ne=Qp(t)}else n===27?(n=ne,ya(t.type)?(t=pf,pf=null,ne=t):ne=n):ne=Be?Vn(t.stateNode.nextSibling):null;return!0}function ns(){ne=Be=null,zt=!1}function Yc(){var t=na;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),na=null),t}function sl(t){na===null?na=[t]:na.push(t)}var Xc=M(null),is=null,wi=null;function aa(t,n,a){nt(Xc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Xc.current,Y(Xc)}function Kc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Zc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Kc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Kc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Xs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Nt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Zc(n,t,a,l),n.flags|=262144}function Ho(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){is=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Tm(is,t)}function Go(t,n){return is===null&&as(t),Tm(t,n)}function Tm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(s(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var J0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$0=r.unstable_scheduleCallback,W0=r.unstable_NormalPriority,Ae={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new J0,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&$0(W0,function(){t.controller.abort()})}var ll=null,$c=0,Ks=0,Zs=null;function t1(t,n){if(ll===null){var a=ll=[];$c=0,Ks=ef(),Zs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $c++,n.then(Am,Am),n}function Am(){if(--$c===0&&ll!==null){Zs!==null&&(Zs.status="fulfilled");var t=ll;ll=null,Ks=0,Zs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function e1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Sm=q.S;q.S=function(t,n){rp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&t1(t,n),Sm!==null&&Sm(t,n)};var ss=M(null);function Wc(){var t=ss.current;return t!==null?t:te.pooledCache}function Qo(t,n){n===null?nt(ss,ss.current):nt(ss,n.pool)}function bm(){var t=Wc();return t===null?null:{parent:Ae._currentValue,pool:t}}var Js=Error(s(460)),th=Error(s(474)),Fo=Error(s(542)),Yo={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t}throw ls=n,Js}}function rs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ls=a,Js):a}}var ls=null;function wm(){if(ls===null)throw Error(s(459));var t=ls;return ls=null,t}function Dm(t){if(t===Js||t===Fo)throw Error(s(483))}var $s=null,ol=0;function Xo(t){var n=ol;return ol+=1,$s===null&&($s=[]),Cm($s,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ko(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vm(t){function n(z,I){if(t){var j=z.deletions;j===null?(z.deletions=[I],z.flags|=16):j.push(I)}}function a(z,I){if(!t)return null;for(;I!==null;)n(z,I),I=I.sibling;return null}function l(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function c(z,I){return z=Ri(z,I),z.index=0,z.sibling=null,z}function f(z,I,j){return z.index=j,t?(j=z.alternate,j!==null?(j=j.index,j<I?(z.flags|=67108866,I):j):(z.flags|=67108866,I)):(z.flags|=1048576,I)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,I,j,F){return I===null||I.tag!==6?(I=Pc(j,z.mode,F),I.return=z,I):(I=c(I,j),I.return=z,I)}function w(z,I,j,F){var ut=j.type;return ut===et?Q(z,I,j.props.children,F,j.key):I!==null&&(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===R&&rs(ut)===I.type)?(I=c(I,j.props),ul(I,j),I.return=z,I):(I=qo(j.type,j.key,j.props,null,z.mode,F),ul(I,j),I.return=z,I)}function k(z,I,j,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=Hc(j,z.mode,F),I.return=z,I):(I=c(I,j.children||[]),I.return=z,I)}function Q(z,I,j,F,ut){return I===null||I.tag!==7?(I=es(j,z.mode,F,ut),I.return=z,I):(I=c(I,j),I.return=z,I)}function X(z,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Pc(""+I,z.mode,j),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case G:return j=qo(I.type,I.key,I.props,null,z.mode,j),ul(j,I),j.return=z,j;case J:return I=Hc(I,z.mode,j),I.return=z,I;case R:return I=rs(I),X(z,I,j)}if(Ct(I)||N(I))return I=es(I,z.mode,j,null),I.return=z,I;if(typeof I.then=="function")return X(z,Xo(I),j);if(I.$$typeof===mt)return X(z,Go(z,I),j);Ko(z,I)}return null}function B(z,I,j,F){var ut=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:E(z,I,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===ut?w(z,I,j,F):null;case J:return j.key===ut?k(z,I,j,F):null;case R:return j=rs(j),B(z,I,j,F)}if(Ct(j)||N(j))return ut!==null?null:Q(z,I,j,F,null);if(typeof j.then=="function")return B(z,I,Xo(j),F);if(j.$$typeof===mt)return B(z,I,Go(z,j),F);Ko(z,j)}return null}function H(z,I,j,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return z=z.get(j)||null,E(I,z,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return z=z.get(F.key===null?j:F.key)||null,w(I,z,F,ut);case J:return z=z.get(F.key===null?j:F.key)||null,k(I,z,F,ut);case R:return F=rs(F),H(z,I,j,F,ut)}if(Ct(F)||N(F))return z=z.get(j)||null,Q(I,z,F,ut,null);if(typeof F.then=="function")return H(z,I,j,Xo(F),ut);if(F.$$typeof===mt)return H(z,I,j,Go(I,F),ut);Ko(I,F)}return null}function rt(z,I,j,F){for(var ut=null,kt=null,ot=I,Rt=I=0,xt=null;ot!==null&&Rt<j.length;Rt++){ot.index>Rt?(xt=ot,ot=null):xt=ot.sibling;var Bt=B(z,ot,j[Rt],F);if(Bt===null){ot===null&&(ot=xt);break}t&&ot&&Bt.alternate===null&&n(z,ot),I=f(Bt,I,Rt),kt===null?ut=Bt:kt.sibling=Bt,kt=Bt,ot=xt}if(Rt===j.length)return a(z,ot),zt&&Ci(z,Rt),ut;if(ot===null){for(;Rt<j.length;Rt++)ot=X(z,j[Rt],F),ot!==null&&(I=f(ot,I,Rt),kt===null?ut=ot:kt.sibling=ot,kt=ot);return zt&&Ci(z,Rt),ut}for(ot=l(ot);Rt<j.length;Rt++)xt=H(ot,z,Rt,j[Rt],F),xt!==null&&(t&&xt.alternate!==null&&ot.delete(xt.key===null?Rt:xt.key),I=f(xt,I,Rt),kt===null?ut=xt:kt.sibling=xt,kt=xt);return t&&ot.forEach(function(Aa){return n(z,Aa)}),zt&&Ci(z,Rt),ut}function ft(z,I,j,F){if(j==null)throw Error(s(151));for(var ut=null,kt=null,ot=I,Rt=I=0,xt=null,Bt=j.next();ot!==null&&!Bt.done;Rt++,Bt=j.next()){ot.index>Rt?(xt=ot,ot=null):xt=ot.sibling;var Aa=B(z,ot,Bt.value,F);if(Aa===null){ot===null&&(ot=xt);break}t&&ot&&Aa.alternate===null&&n(z,ot),I=f(Aa,I,Rt),kt===null?ut=Aa:kt.sibling=Aa,kt=Aa,ot=xt}if(Bt.done)return a(z,ot),zt&&Ci(z,Rt),ut;if(ot===null){for(;!Bt.done;Rt++,Bt=j.next())Bt=X(z,Bt.value,F),Bt!==null&&(I=f(Bt,I,Rt),kt===null?ut=Bt:kt.sibling=Bt,kt=Bt);return zt&&Ci(z,Rt),ut}for(ot=l(ot);!Bt.done;Rt++,Bt=j.next())Bt=H(ot,z,Rt,Bt.value,F),Bt!==null&&(t&&Bt.alternate!==null&&ot.delete(Bt.key===null?Rt:Bt.key),I=f(Bt,I,Rt),kt===null?ut=Bt:kt.sibling=Bt,kt=Bt);return t&&ot.forEach(function(fE){return n(z,fE)}),zt&&Ci(z,Rt),ut}function $t(z,I,j,F){if(typeof j=="object"&&j!==null&&j.type===et&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:t:{for(var ut=j.key;I!==null;){if(I.key===ut){if(ut=j.type,ut===et){if(I.tag===7){a(z,I.sibling),F=c(I,j.props.children),F.return=z,z=F;break t}}else if(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===R&&rs(ut)===I.type){a(z,I.sibling),F=c(I,j.props),ul(F,j),F.return=z,z=F;break t}a(z,I);break}else n(z,I);I=I.sibling}j.type===et?(F=es(j.props.children,z.mode,F,j.key),F.return=z,z=F):(F=qo(j.type,j.key,j.props,null,z.mode,F),ul(F,j),F.return=z,z=F)}return g(z);case J:t:{for(ut=j.key;I!==null;){if(I.key===ut)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){a(z,I.sibling),F=c(I,j.children||[]),F.return=z,z=F;break t}else{a(z,I);break}else n(z,I);I=I.sibling}F=Hc(j,z.mode,F),F.return=z,z=F}return g(z);case R:return j=rs(j),$t(z,I,j,F)}if(Ct(j))return rt(z,I,j,F);if(N(j)){if(ut=N(j),typeof ut!="function")throw Error(s(150));return j=ut.call(j),ft(z,I,j,F)}if(typeof j.then=="function")return $t(z,I,Xo(j),F);if(j.$$typeof===mt)return $t(z,I,Go(z,j),F);Ko(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,I!==null&&I.tag===6?(a(z,I.sibling),F=c(I,j),F.return=z,z=F):(a(z,I),F=Pc(j,z.mode,F),F.return=z,z=F),g(z)):a(z,I)}return function(z,I,j,F){try{ol=0;var ut=$t(z,I,j,F);return $s=null,ut}catch(ot){if(ot===Js||ot===Fo)throw ot;var kt=fn(29,ot,null,z.mode);return kt.lanes=F,kt.return=z,kt}}}var os=Vm(!0),Nm=Vm(!1),sa=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function la(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(t),dm(t,null,a),n}return ko(t,l,n,a),Bo(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}function ih(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ah=!1;function hl(){if(ah){var t=Zs;if(t!==null)throw t}}function fl(t,n,a,l){ah=!1;var c=t.updateQueue;sa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=k:E.next=k,Q.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;g=0,Q=k=w=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(It&B)===B:(l&B)===B){B!==0&&B===Ks&&(ah=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,ft=E;B=n;var $t=a;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){X=rt.call($t,X,B);break t}X=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,B=typeof rt=="function"?rt.call($t,X,B):rt,B==null)break t;X=b({},X,B);break t;case 2:sa=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(k=Q=H,w=X):Q=Q.next=H,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);Q===null&&(w=X),c.baseState=w,c.firstBaseUpdate=k,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),fa|=g,t.lanes=g,t.memoizedState=X}}function Im(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Im(a[t],n)}var Ws=M(null),Zo=M(0);function Mm(t,n){t=Li,nt(Zo,t),nt(Ws,n),Li=t|n.baseLanes}function sh(){nt(Zo,Li),nt(Ws,Ws.current)}function rh(){Li=Zo.current,Y(Ws),Y(Zo)}var dn=M(null),Dn=null;function oa(t){var n=t.alternate;nt(me,me.current&1),nt(dn,t),Dn===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Dn=t)}function lh(t){nt(me,me.current),nt(dn,t),Dn===null&&(Dn=t)}function Om(t){t.tag===22?(nt(me,me.current),nt(dn,t),Dn===null&&(Dn=t)):ua()}function ua(){nt(me,me.current),nt(dn,dn.current)}function mn(t){Y(dn),Dn===t&&(Dn=null),Y(me)}var me=M(0);function Jo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mf(a)||gf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,St=null,Zt=null,Se=null,$o=!1,tr=!1,us=!1,Wo=0,dl=0,er=null,n1=0;function ue(){throw Error(s(321))}function oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function uh(t,n,a,l,c,f){return Vi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?yg:bh,us=!1,f=a(l,c),us=!1,tr&&(f=Um(n,a,l,c)),zm(t),f}function zm(t){q.H=pl;var n=Zt!==null&&Zt.next!==null;if(Vi=0,Se=Zt=St=null,$o=!1,dl=0,er=null,n)throw Error(s(300));t===null||be||(t=t.dependencies,t!==null&&Ho(t)&&(be=!0))}function Um(t,n,a,l){St=t;var c=0;do{if(tr&&(er=null),dl=0,tr=!1,25<=c)throw Error(s(301));if(c+=1,Se=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=_g,f=n(a,l)}while(tr);return f}function i1(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?ml(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(St.flags|=1024),n}function ch(){var t=Wo!==0;return Wo=0,t}function hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function fh(t){if($o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$o=!1}Vi=0,Se=Zt=St=null,tr=!1,dl=Wo=0,er=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=t:Se=Se.next=t,Se}function ge(){if(Zt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Zt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?St.memoizedState=Se=t:Se=Se.next=t}return Se}function tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var n=dl;return dl+=1,er===null&&(er=[]),t=Cm(er,t,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?yg:bh),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===mt)return qe(t)}throw Error(s(438,String(t)))}function dh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Ni(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=ge();return mh(n,Zt,t)}function mh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,k=n,Q=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(It&X)===X:(Vi&X)===X){var B=k.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===Ks&&(Q=!0);else if((Vi&B)===B){k=k.next,B===Ks&&(Q=!0);continue}else X={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=X,g=f):w=w.next=X,St.lanes|=B,fa|=B;X=k.action,us&&a(f,X),f=k.hasEagerState?k.eagerState:a(f,X)}else B={lane:X,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=B,g=f):w=w.next=B,St.lanes|=X,fa|=X;k=k.next}while(k!==null&&k!==n);if(w===null?g=f:w.next=E,!hn(f,t.memoizedState)&&(be=!0,Q&&(a=Zs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Lm(t,n,a){var l=St,c=ge(),f=zt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!hn((Zt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,_h(Bm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,nr(9,{destroy:void 0},km.bind(null,l,c,a,n),null),te===null)throw Error(s(349));f||(Vi&127)!==0||jm(l,n,a)}return a}function jm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=tu(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function km(t,n,a,l){n.value=a,n.getSnapshot=l,qm(n)&&Pm(t)}function Bm(t,n,a){return a(function(){qm(n)&&Pm(t)})}function qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Pm(t){var n=ts(t,2);n!==null&&ln(n,t,2)}function ph(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),us){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},n}function Hm(t,n,a,l){return t.baseState=a,mh(t,Zt,typeof l=="function"?l:Ni)}function a1(t,n,a,l,c){if(su(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Gm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Gm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=a(c,l),w=q.S;w!==null&&w(g,E),Qm(t,n,E)}catch(k){yh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=a(c,l),Qm(t,n,f)}catch(k){yh(t,n,k)}}function Qm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fm(t,n,l)},function(l){return yh(t,n,l)}):Fm(t,n,a)}function Fm(t,n,a){n.status="fulfilled",n.value=a,Ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Gm(t,a)))}function yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Km(t,n){if(zt){var a=te.formState;if(a!==null){t:{var l=St;if(zt){if(ne){e:{for(var c=ne,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=Vn(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},a.queue=l,a=mg.bind(null,St,l),l.dispatch=a,l=ph(!1),f=Sh.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=a1.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Zm(t){var n=ge();return Jm(n,Zt,t)}function Jm(t,n,a){if(n=mh(t,n,Xm)[0],t=nu(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(g){throw g===Js?Fo:g}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,nr(9,{destroy:void 0},s1.bind(null,c,a),null)),[l,f,t]}function s1(t,n){t.action=n}function $m(t){var n=ge(),a=Zt;if(a!==null)return Jm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function nr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=tu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Wm(){return ge().memoizedState}function iu(t,n,a,l){var c=We();St.flags|=t,c.memoizedState=nr(1|n,{destroy:void 0},a,l===void 0?null:l)}function au(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&oh(l,Zt.memoizedState.deps)?c.memoizedState=nr(n,f,a,l):(St.flags|=t,c.memoizedState=nr(1|n,f,a,l))}function tg(t,n){iu(8390656,8,t,n)}function _h(t,n){au(2048,8,t,n)}function r1(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=tu(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function eg(t){var n=ge().memoizedState;return r1({ref:n,nextImpl:t}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ng(t,n){return au(4,2,t,n)}function ig(t,n){return au(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,au(4,4,ag.bind(null,n,t),a)}function vh(){}function rg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function lg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),us){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function Eh(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=op(),St.lanes|=t,fa|=t,a)}function og(t,n,a,l){return hn(a,n)?a:Ws.current!==null?(t=Eh(t,a,l),hn(t,n)||(be=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(It&261930)===0?(be=!0,t.memoizedState=a):(t=op(),St.lanes|=t,fa|=t,n)}function ug(t,n,a,l,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Sh(t,!1,n,a);try{var w=c(),k=q.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=e1(w,l);gl(t,n,Q,yn(t))}else gl(t,n,l,yn(t))}catch(X){gl(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function l1(){}function Th(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=cg(t).queue;ug(t,c,n,lt,a===null?l1:function(){return hg(t),a(l)})}function cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hg(t){var n=cg(t);n.next===null&&(n=t.alternate.memoizedState),gl(t,n.next.queue,{},yn())}function Ah(){return qe(xl)}function fg(){return ge().memoizedState}function dg(){return ge().memoizedState}function o1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=ra(a);var l=la(n,t,a);l!==null&&(ln(l,n,a),cl(l,n,a)),n={cache:Jc()},t.payload=n;return}n=n.return}}function u1(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},su(t)?gg(n,a):(a=Bc(t,n,a,l),a!==null&&(ln(a,t,l),pg(a,n,l)))}function mg(t,n,a){var l=yn();gl(t,n,a,l)}function gl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(su(t))gg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return ko(t,n,c,0),te===null&&jo(),!1}catch{}if(a=Bc(t,n,c,l),a!==null)return ln(a,t,l),pg(a,n,l),!0}return!1}function Sh(t,n,a,l){if(l={lane:2,revertLane:ef(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},su(t)){if(n)throw Error(s(479))}else n=Bc(t,a,l,2),n!==null&&ln(n,t,2)}function su(t){var n=t.alternate;return t===St||n!==null&&n===St}function gg(t,n){tr=$o=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function pg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}var pl={readContext:qe,use:eu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};pl.useEffectEvent=ue;var yg={readContext:qe,use:eu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,iu(4194308,4,ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(us){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(us){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=u1.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=ph(t);var n=t.queue,a=mg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:vh,useDeferredValue:function(t,n){var a=We();return Eh(a,t,n)},useTransition:function(){var t=ph(!1);return t=ug.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=We();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(It&127)!==0||jm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,tg(Bm.bind(null,l,f,t),[t]),l.flags|=2048,nr(9,{destroy:void 0},km.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=te.identifierPrefix;if(zt){var a=fi,l=hi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=n1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:Km,useActionState:Km,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Sh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:dh,useCacheRefresh:function(){return We().memoizedState=o1.bind(null,St)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},bh={readContext:qe,use:eu,useCallback:rg,useContext:qe,useEffect:_h,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:nu,useRef:Wm,useState:function(){return nu(Ni)},useDebugValue:vh,useDeferredValue:function(t,n){var a=ge();return og(a,Zt.memoizedState,t,n)},useTransition:function(){var t=nu(Ni)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Ah,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var a=ge();return Hm(a,Zt,t,n)},useMemoCache:dh,useCacheRefresh:dg};bh.useEffectEvent=eg;var _g={readContext:qe,use:eu,useCallback:rg,useContext:qe,useEffect:_h,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:gh,useRef:Wm,useState:function(){return gh(Ni)},useDebugValue:vh,useDeferredValue:function(t,n){var a=ge();return Zt===null?Eh(a,t,n):og(a,Zt.memoizedState,t,n)},useTransition:function(){var t=gh(Ni)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Ah,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=ge();return Zt!==null?Hm(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:dh,useCacheRefresh:dg};_g.useEffectEvent=eg;function Rh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ch={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ra(l);c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(ln(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ra(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(ln(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=ra(a);l.tag=2,n!=null&&(l.callback=n),n=la(t,l,a),n!==null&&(ln(n,t,a),cl(n,t,a))}};function vg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(c,f):!0}function Eg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function cs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Tg(t){Lo(t)}function Ag(t){console.error(t)}function Sg(t){Lo(t)}function ru(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,a){return a=ra(a),a.tag=3,a.payload={element:null},a.callback=function(){ru(t,n)},a}function Rg(t){return t=ra(t),t.tag=3,t}function Cg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){bg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){bg(n,a,l),typeof c!="function"&&(da===null?da=new Set([this]):da.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function c1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Xs(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?_u():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Yo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),$h(t,l,c)),!1;case 22:return a.flags|=65536,l===Yo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),$h(t,l,c)),!1}throw Error(s(435,a.tag))}return $h(t,l,c),_u(),!1}if(zt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(s(422),{cause:l}),sl(bn(t,a)))):(l!==Fc&&(n=Error(s(423),{cause:l}),sl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=wh(t.stateNode,l,c),ih(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),bl===null?bl=[f]:bl.push(f),ce!==4&&(ce=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=wh(a.stateNode,l,t),ih(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(da===null||!da.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Rg(c),Cg(c,t,a,l),ih(a,c),!1}a=a.return}while(a!==null);return!1}var Dh=Error(s(461)),be=!1;function Pe(t,n,a,l){n.child=t===null?Nm(n,null,a,l):os(n,t.child,a,l)}function wg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return as(n),l=uh(t,n,a,g,f,c),E=ch(),t!==null&&!be?(hh(t,n,c),Ii(t,n,c)):(zt&&E&&Gc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Dg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Vg(t,n,f,l,c)):(t=qo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(g,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=Ri(f,l),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,Uh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return Vh(t,n,a,l,c)}function Ng(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ig(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?Mm(n,f):sh(),Om(n);else return l=n.lanes=536870912,Ig(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Qo(n,f.cachePool),Mm(n,f),ua(),n.memoizedState=null):(t!==null&&Qo(n,null),sh(),ua());return Pe(t,n,c,a),n.child}function yl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ig(t,n,a,l,c){var f=Wc();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qo(n,null),sh(),Om(n),t!==null&&Xs(t,n,l,!0),n.childLanes=c,null}function lu(t,n){return n=uu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function xg(t,n,a){return os(n,t.child,null,a),t=lu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function h1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(zt){if(l.mode==="hidden")return t=lu(n,l),n.lanes=536870912,yl(null,t);if(lh(n),(t=ne)?(t=Gp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,ne=null)):t=null,t===null)throw ia(n);return n.lanes=536870912,null}return lu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(lh(n),c)if(n.flags&256)n.flags&=-257,n=xg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Xs(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=te,l!==null&&(g=jr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ts(t,g),ln(l,t,g),Dh;_u(),n=xg(t,n,a)}else t=f.treeContext,ne=Vn(g.nextSibling),Be=n,zt=!0,na=null,wn=!1,t!==null&&_m(n,t),n=lu(n,l),n.flags|=4096;return n}return t=Ri(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vh(t,n,a,l,c){return as(n),a=uh(t,n,a,l,void 0,c),l=ch(),t!==null&&!be?(hh(t,n,c),Ii(t,n,c)):(zt&&l&&Gc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Mg(t,n,a,l,c,f){return as(n),n.updateQueue=null,a=Um(n,l,a,c),zm(t),l=ch(),t!==null&&!be?(hh(t,n,f),Ii(t,n,f)):(zt&&l&&Gc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Og(t,n,a,l,c){if(as(n),n.stateNode===null){var f=Gs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},eh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Gs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Rh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ch.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=cs(a,E);f.props=w;var k=f.context,Q=a.contextType;g=Gs,typeof Q=="object"&&Q!==null&&(g=qe(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Eg(n,f,l,g),sa=!1;var B=n.memoizedState;f.state=B,fl(n,l,f,c),hl(),k=n.memoizedState,E||B!==k||sa?(typeof X=="function"&&(Rh(n,a,X,l),k=n.memoizedState),(w=sa||vg(n,a,w,l,B,k,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nh(t,n),g=n.memoizedProps,Q=cs(a,g),f.props=Q,X=n.pendingProps,B=f.context,k=a.contextType,w=Gs,typeof k=="object"&&k!==null&&(w=qe(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==w)&&Eg(n,f,l,w),sa=!1,B=n.memoizedState,f.state=B,fl(n,l,f,c),hl();var H=n.memoizedState;g!==X||B!==H||sa||t!==null&&t.dependencies!==null&&Ho(t.dependencies)?(typeof E=="function"&&(Rh(n,a,E,l),H=n.memoizedState),(Q=sa||vg(n,a,Q,l,B,H,w)||t!==null&&t.dependencies!==null&&Ho(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=w,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=os(n,t.child,null,c),n.child=os(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ii(t,n,c),t}function zg(t,n,a,l){return ns(),n.flags|=256,Pe(t,n,a,l),n.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(t){return{baseLanes:t,cachePool:bm()}}function xh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Ug(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?oa(n):ua(),(t=ne)?(t=Gp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,ne=null)):t=null,t===null)throw ia(n);return gf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ua(),c=n.mode,E=uu({mode:"hidden",children:E},c),l=es(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ih(a),l.childLanes=xh(t,g,a),n.memoizedState=Nh,yl(null,l)):(oa(n),Mh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=Oh(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),E=l.fallback,c=n.mode,l=uu({mode:"visible",children:l.children},c),E=es(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,os(n,t.child,null,a),l=n.child,l.memoizedState=Ih(a),l.childLanes=xh(t,g,a),n.memoizedState=Nh,n=yl(null,l));else if(oa(n),gf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(s(419)),l.stack="",l.digest=g,sl({value:l,source:null,stack:null}),n=Oh(t,n,a)}else if(be||Xs(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=te,g!==null&&(l=jr(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,ts(t,l),ln(g,t,l),Dh;mf(E)||_u(),n=Oh(t,n,a)}else mf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,ne=Vn(E.nextSibling),Be=n,zt=!0,na=null,wn=!1,t!==null&&_m(n,t),n=Mh(n,l.children),n.flags|=4096);return n}return c?(ua(),E=l.fallback,c=n.mode,w=t.child,k=w.sibling,l=Ri(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,k!==null?E=Ri(k,E):(E=es(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,yl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ih(a):(c=E.cachePool,c!==null?(w=Ae._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=bm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=xh(t,g,a),n.memoizedState=Nh,yl(t.child,l)):(oa(n),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Mh(t,n){return n=uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Oh(t,n,a){return os(n,t.child,null,a),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,a)}function zh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function jg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),Pe(t,n,l,a),l=zt?al:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,a,n);else if(t.tag===19)Lg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Jo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),zh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Jo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}zh(n,!0,a,null,f,l);break;case"together":zh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),fa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Xs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ho(t)))}function f1(t,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),aa(n,Ae,t.memoizedState.cache),ns();break;case 27:case 5:Ua(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:aa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ug(t,n,a):(oa(n),t=Ii(t,n,a),t!==null?t.sibling:null);oa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Xs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return jg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(me,me.current),l)break;return null;case 22:return n.lanes=0,Ng(t,n,a,n.pendingProps);case 24:aa(n,Ae,t.memoizedState.cache)}return Ii(t,n,a)}function kg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Uh(t,a)&&(n.flags&128)===0)return be=!1,f1(t,n,a);be=(t.flags&131072)!==0}else be=!1,zt&&(n.flags&1048576)!==0&&ym(n,al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=rs(n.elementType),n.type=t,typeof t=="function")qc(t)?(l=cs(t,l),n.tag=1,n=Og(null,n,t,l,a)):(n.tag=0,n=Vh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===qt){n.tag=11,n=wg(null,n,t,l,a);break t}else if(c===V){n.tag=14,n=Dg(null,n,t,l,a);break t}}throw n=bt(t)||t,Error(s(306,n,""))}}return n;case 0:return Vh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=cs(l,n.pendingProps),Og(t,n,l,c,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,nh(t,n),fl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,aa(n,Ae,l),l!==f.cache&&Zc(n,[Ae],a,!0),hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zg(t,n,l,a);break t}else if(l!==c){c=bn(Error(s(424)),n),sl(c),n=zg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ne=Vn(t.firstChild),Be=n,zt=!0,na=null,wn=!0,a=Nm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ns(),l===c){n=Ii(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return ou(t,n),t===null?(a=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,t=n.pendingProps,l=Ru(_t.current).createElement(a),l[ve]=n,l[Oe]=t,He(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=Zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ua(n),t===null&&zt&&(l=n.stateNode=Yp(n.type,n.pendingProps,_t.current),Be=n,wn=!0,c=ne,ya(n.type)?(pf=c,ne=Vn(l.firstChild)):ne=c),Pe(t,n,n.pendingProps.children,a),ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=ne)&&(l=P1(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Be=n,ne=Vn(l.firstChild),wn=!1,c=!0):c=!1),c||ia(n)),Ua(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,hf(c,f)?l=null:g!==null&&hf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=uh(t,n,i1,null,null,a),xl._currentValue=c),ou(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&zt&&((t=a=ne)&&(a=H1(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Be=n,ne=null,t=!0):t=!1),t||ia(n)),null;case 13:return Ug(t,n,a);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=os(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,aa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,as(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Dg(t,n,n.type,n.pendingProps,a);case 15:return Vg(t,n,n.type,n.pendingProps,a);case 19:return jg(t,n,a);case 31:return h1(t,n,a);case 22:return Ng(t,n,a,n.pendingProps);case 24:return as(n),l=qe(Ae),t===null?(c=Wc(),c===null&&(c=te,f=Jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},eh(n),aa(n,Ae,c)):((t.lanes&a)!==0&&(nh(t,n),fl(n,null,null,a),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),aa(n,Ae,l)):(l=f.cache,aa(n,Ae,l),l!==c.cache&&Zc(n,[Ae],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xi(t){t.flags|=4}function Lh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(fp())t.flags|=8192;else throw ls=Yo,th}else t.flags&=-16777217}function Bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n))if(fp())t.flags|=8192;else throw ls=Yo,th}function cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?po():536870912,t.lanes|=n,rr|=n)}function _l(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function d1(t,n,a){var l=n.pendingProps;switch(Qc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yc())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(ie(n),Bg(n,f)):(ie(n),Lh(n,c,null,l,a))):f?f!==t.memoizedState?(xi(n),ie(n),Bg(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),ie(n),Lh(n,c,t,l,a)),null;case 27:if(Rs(n),a=_t.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=it.current,Ys(n)?vm(n):(t=Yp(c,l,a),n.stateNode=t,xi(n))}return ie(n),null;case 5:if(Rs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=it.current,Ys(n))vm(n);else{var g=Ru(_t.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ve]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return ie(n),Lh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=_t.current,Ys(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Up(t.nodeValue,a)),t||ia(n,!0)}else t=Ru(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ys(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=Yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),cu(n,n.updateQueue),ie(n),null);case 4:return se(),t===null&&rf(n.stateNode.containerInfo),ie(n),null;case 10:return Di(n.type),ie(n),null;case 19:if(Y(me),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)_l(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Jo(t),f!==null){for(n.flags|=128,_l(l,!1),t=f.updateQueue,n.updateQueue=t,cu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)mm(a,t),a=a.sibling;return nt(me,me.current&1|2),zt&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>gu&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304)}else{if(!c)if(t=Jo(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,cu(n,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!zt)return ie(n),null}else 2*Je()-l.renderingStartTime>gu&&a!==536870912&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=me.current,nt(me,c?a&1|2:a&1),zt&&Ci(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return mn(n),rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&cu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(ss),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function m1(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Ae),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rs(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(s(340));ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ns()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(me),null;case 4:return se(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),rh(),t!==null&&Y(ss),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Ae),null;case 25:return null;default:return null}}function qg(t,n){switch(Qc(n),n.tag){case 3:Di(Ae),se();break;case 26:case 27:case 5:Rs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(me);break;case 10:Di(n.type);break;case 22:case 23:mn(n),rh(),t!==null&&Y(ss);break;case 24:Di(Ae)}}function vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,k=E;try{k()}catch(Q){Yt(c,w,Q)}}}l=l.next}while(l!==f)}}catch(Q){Yt(n,n.return,Q)}}function Pg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xm(n,a)}catch(l){Yt(t,t.return,l)}}}function Hg(t,n,a){a.props=cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function El(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function Gg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function jh(t,n,a){try{var l=t.stateNode;U1(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function kh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,a),t=t.sibling;t!==null;)Bh(t,n,a),t=t.sibling}function hu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hu(t,n,a),t=t.sibling;t!==null;)hu(t,n,a),t=t.sibling}function Fg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,a),n[ve]=t,n[Oe]=a}catch(f){Yt(t,t.return,f)}}var Mi=!1,Re=!1,qh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function g1(t,n){if(t=t.containerInfo,uf=xu,t=sm(t),Oc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,k=0,Q=0,X=t,B=null;e:for(;;){for(var H;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(w=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break e;if(B===a&&++k===c&&(E=g),B===f&&++Q===l&&(w=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(cf={focusedElem:t,selectionRange:a},xu=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=cs(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Yt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)df(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&vl(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=cs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&Pg(a),l&512&&El(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xm(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&Fg(a);case 26:case 5:zi(t,a),n===null&&l&4&&Gg(a),l&512&&El(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&Jg(t,a);break;case 13:zi(t,a),l&4&&$g(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=b1.bind(null,a),G1(t,a))));break;case 22:if(l=a.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||Re,c=Mi;var f=Re;Mi=l,(Re=n)&&!f?Ui(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),Mi=c,Re=f}break;case 30:break;default:zi(t,a)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ns(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:Re||di(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||di(a,n);var l=le,c=nn;ya(a.type)&&(le=a.stateNode,nn=!1),Oi(t,n,a),Vl(a.stateNode),le=l,nn=c;break;case 5:Re||di(a,n);case 6:if(l=le,c=nn,le=null,Oi(t,n,a),le=l,nn=c,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:le!==null&&(nn?(t=le,Pp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):Pp(le,a.stateNode));break;case 4:l=le,c=nn,le=a.stateNode.containerInfo,nn=!0,Oi(t,n,a),le=l,nn=c;break;case 0:case 11:case 14:case 15:ca(2,a,n),Re||ca(4,a,n),Oi(t,n,a);break;case 1:Re||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hg(a,n,l)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Oi(t,n,a),Re=l;break;default:Oi(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(a){Yt(n,n.return,a)}}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){Yt(n,n.return,a)}}function p1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(s(435,t.tag))}}function fu(t,n){var a=p1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=R1.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ya(E.type)){le=E.stateNode,nn=!1;break t}break;case 5:le=E.stateNode,nn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(le===null)throw Error(s(160));Zg(f,g,c),le=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Hn=null;function Wg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(ca(3,t,t.return),vl(3,t),ca(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(Re||a===null||di(a,a.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(an(n,t),sn(t),l&512&&(Re||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var g=Wp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Wp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ty(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(Re||a===null||di(a,a.return)),a!==null&&l&4&&jh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(Re||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,jh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(Du=null,c=Hn,Hn=Cu(n.containerInfo),an(n,t),Hn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}qh&&(qh=!1,tp(t));break;case 4:l=Hn,Hn=Cu(t.stateNode.containerInfo),an(n,t),sn(t),Hn=l;break;case 12:an(n,t),sn(t);break;case 31:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,k=Mi,Q=Re;if(Mi=k||c,Re=Q||w,an(n,t),Re=Q,Mi=k,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Mi||Re||hs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(rt){Yt(w,w.return,rt)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(rt){Yt(w,w.return,rt)}}}else if(n.tag===18){if(a===null){w=n;try{var H=w.stateNode;c?Hp(H,!0):Hp(w.stateNode,!1)}catch(rt){Yt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fu(t,a))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Qg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=kh(t);hu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=kh(t);hu(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,k=kh(t);Bh(t,k,w);break;default:throw Error(s(161))}}catch(Q){Yt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function hs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),hs(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Hg(n,n.return,a),hs(n);break;case 27:Vl(n.stateNode);case 26:case 5:di(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(c,f,a),vl(4,f);break;case 1:if(Ui(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Yt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Im(w[c],E)}catch(k){Yt(l,l.return,k)}}a&&g&64&&Pg(f),El(f,f.return);break;case 27:Fg(f);case 26:case 5:Ui(c,f,a),a&&l===null&&g&4&&Gg(f),El(f,f.return);break;case 12:Ui(c,f,a);break;case 31:Ui(c,f,a),a&&g&4&&Jg(c,f);break;case 13:Ui(c,f,a),a&&g&4&&$g(c,f);break;case 22:f.memoizedState===null&&Ui(c,f,a),El(f,f.return);break;case 30:break;default:Ui(c,f,a)}n=n.sibling}}function Ph(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,a,l),n=n.sibling}function ep(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&vl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Tl(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,ir(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ph(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Hh(n.alternate,n);break;default:Gn(t,n,a,l)}}function ir(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:ir(f,g,E,w,c),vl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?ir(f,g,E,w,c):Tl(f,g):(Q._visibility|=2,ir(f,g,E,w,c)),c&&k&2048&&Ph(g.alternate,g);break;case 24:ir(f,g,E,w,c),c&&k&2048&&Hh(g.alternate,g);break;default:ir(f,g,E,w,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&Ph(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Hh(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var Al=8192;function ar(t,n,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)np(t,n,a),t=t.sibling}function np(t,n,a){switch(t.tag){case 26:ar(t,n,a),t.flags&Al&&t.memoizedState!==null&&nE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,n,a);break;case 3:case 4:var l=Hn;Hn=Cu(t.stateNode.containerInfo),ar(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,ar(t,n,a),Al=l):ar(t,n,a));break;default:ar(t,n,a)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,sp(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&ca(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Sl(t);break;default:Sl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,sp(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function sp(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(Kg(l),l===a){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var y1={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},_1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,wt=null,It=0,Ft=0,gn=null,ha=!1,sr=!1,Gh=!1,Li=0,ce=0,fa=0,fs=0,Qh=0,pn=0,rr=0,bl=null,rn=null,Fh=!1,mu=0,rp=0,gu=1/0,pu=null,da=null,xe=0,ma=null,lr=null,ji=0,Yh=0,Xh=null,lp=null,Rl=0,Kh=null;function yn(){return(Ht&2)!==0&&It!==0?It&-It:q.T!==null?ef():yo()}function op(){if(pn===0)if((It&536870912)===0||zt){var t=ka;ka<<=1,(ka&3932160)===0&&(ka=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===te&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(or(t,0),ga(t,It,pn,!1)),Ba(t,a),((Ht&2)===0||t!==te)&&(t===te&&((Ht&2)===0&&(fs|=a),ce===4&&ga(t,It,pn,!1)),mi(t))}function up(t,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||On(t,n),c=l?T1(t,n):Jh(t,n,!0),f=l;do{if(c===0){sr&&!l&&ga(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!v1(a)){c=Jh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=bl;var w=E.current.memoizedState.isDehydrated;if(w&&(or(E,g).flags|=256),g=Jh(E,g,!1),g!==2){if(Gh&&!w){E.errorRecoveryDisabledLanes|=f,fs|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){or(t,0),ga(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ga(l,n,pn,!ha);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=mu+300-Je(),10<c)){if(ga(l,n,pn,!ha),Zn(l,0,!0)!==0)break t;ji=n,l.timeoutHandle=Bp(cp.bind(null,l,a,rn,pu,Fh,n,pn,fs,rr,ha,f,"Throttled",-0,0),c);break t}cp(l,a,rn,pu,Fh,n,pn,fs,rr,ha,f,null,-0,0)}}break}while(!0);mi(t)}function cp(t,n,a,l,c,f,g,E,w,k,Q,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},np(n,f,X);var rt=(f&62914560)===f?mu-Je():(f&4194048)===f?rp-Je():0;if(rt=iE(X,rt),rt!==null){ji=f,t.cancelPendingCommit=rt(_p.bind(null,t,n,f,a,l,c,g,E,w,Q,X,null,B,H)),ga(t,f,g,!k);return}}_p(t,n,f,a,l,c,g,E,w)}function v1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ga(t,n,a,l){n&=~Qh,n&=~fs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&qa(t,a,n)}function yu(){return(Ht&6)===0?(Cl(0),!1):!0}function Zh(){if(wt!==null){if(Ft===0)var t=wt.return;else t=wt,wi=is=null,fh(t),$s=null,ol=0,t=wt;for(;t!==null;)qg(t.alternate,t),t=t.return;wt=null}}function or(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,k1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ji=0,Zh(),te=t,wt=a=Ri(t.current,null),It=n,Ft=0,gn=null,ha=!1,sr=On(t,n),Gh=!1,rr=pn=Qh=fs=fa=ce=0,rn=bl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),f=1<<c;n|=t[c],l&=~f}return Li=n,jo(),a}function hp(t,n){St=null,q.H=pl,n===Js||n===Fo?(n=wm(),Ft=3):n===th?(n=wm(),Ft=4):Ft=n===Dh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,wt===null&&(ce=1,ru(t,bn(n,t.current)))}function fp(){var t=dn.current;return t===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?t===Dn:!1}function dp(){var t=q.H;return q.H=pl,t===null?pl:t}function mp(){var t=q.A;return q.A=y1,t}function _u(){ce=4,ha||(It&4194048)!==It&&dn.current!==null||(sr=!0),(fa&134217727)===0&&(fs&134217727)===0||te===null||ga(te,It,pn,!1)}function Jh(t,n,a){var l=Ht;Ht|=2;var c=dp(),f=mp();(te!==t||It!==n)&&(pu=null,or(t,n)),n=!1;var g=ce;t:do try{if(Ft!==0&&wt!==null){var E=wt,w=gn;switch(Ft){case 8:Zh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var k=Ft;if(Ft=0,gn=null,ur(t,E,w,k),a&&sr){g=0;break t}break;default:k=Ft,Ft=0,gn=null,ur(t,E,w,k)}}E1(),g=ce;break}catch(Q){hp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,wi=is=null,Ht=l,q.H=c,q.A=f,wt===null&&(te=null,It=0,jo()),g}function E1(){for(;wt!==null;)gp(wt)}function T1(t,n){var a=Ht;Ht|=2;var l=dp(),c=mp();te!==t||It!==n?(pu=null,gu=Je()+500,or(t,n)):sr=On(t,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,ur(t,n,f,1);break;case 2:case 9:if(Rm(f)){Ft=0,gn=null,pp(n);break}n=function(){Ft!==2&&Ft!==9||te!==t||(Ft=7),mi(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Rm(f)?(Ft=0,gn=null,pp(n)):(Ft=0,gn=null,ur(t,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?ey(g):E.stateNode.complete){Ft=0,gn=null;var w=E.sibling;if(w!==null)wt=w;else{var k=E.return;k!==null?(wt=k,vu(k)):wt=null}break e}}Ft=0,gn=null,ur(t,n,f,5);break;case 6:Ft=0,gn=null,ur(t,n,f,6);break;case 8:Zh(),ce=6;break t;default:throw Error(s(462))}}A1();break}catch(Q){hp(t,Q)}while(!0);return wi=is=null,q.H=l,q.A=c,Ht=a,wt!==null?0:(te=null,It=0,jo(),ce)}function A1(){for(;wt!==null&&!wc();)gp(wt)}function gp(t){var n=kg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?vu(t):wt=n}function pp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Mg(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Mg(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:fh(n);default:qg(a,n),n=wt=mm(n,Li),n=kg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?vu(t):wt=n}function ur(t,n,a,l){wi=is=null,fh(n),$s=null,ol=0;var c=n.return;try{if(c1(t,c,n,a,It)){ce=1,ru(t,bn(a,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ce=1,ru(t,bn(a,t.current)),wt=null;return}n.flags&32768?(zt||l===1?t=!0:sr||(It&536870912)!==0?t=!1:(ha=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){yp(n,ha);return}t=n.return;var a=d1(n.alternate,n,Li);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ce===0&&(ce=5)}function yp(t,n){do{var a=m1(t.alternate,t);if(a!==null){a.flags&=32767,wt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=a}while(t!==null);ce=6,wt=null}function _p(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do Eu();while(xe!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=kc,Nc(t,a,f,g,E,w),t===te&&(wt=te=null,It=0),lr=n,ma=t,ji=a,Yh=f,Xh=c,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,C1(Qi,function(){return Sp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=W.p,W.p=2,g=Ht,Ht|=4;try{g1(t,n,a)}finally{Ht=g,W.p=c,q.T=l}}xe=1,vp(),Ep(),Tp()}}function vp(){if(xe===1){xe=0;var t=ma,n=lr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=W.p;W.p=2;var c=Ht;Ht|=4;try{Wg(n,t);var f=cf,g=sm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&am(E.ownerDocument.documentElement,E)){if(w!==null&&Oc(E)){var k=w.start,Q=w.end;if(Q===void 0&&(Q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),rt=E.textContent.length,ft=Math.min(w.start,rt),$t=w.end===void 0?ft:Math.min(w.end,rt);!H.extend&&ft>$t&&(g=$t,$t=ft,ft=g);var z=im(E,ft),I=im(E,$t);if(z&&I&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var j=X.createRange();j.setStart(z.node,z.offset),H.removeAllRanges(),ft>$t?(H.addRange(j),H.extend(I.node,I.offset)):(j.setEnd(I.node,I.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}xu=!!uf,cf=uf=null}finally{Ht=c,W.p=l,q.T=a}}t.current=n,xe=2}}function Ep(){if(xe===2){xe=0;var t=ma,n=lr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=W.p;W.p=2;var c=Ht;Ht|=4;try{Xg(t,n.alternate,n)}finally{Ht=c,W.p=l,q.T=a}}xe=3}}function Tp(){if(xe===4||xe===3){xe=0,uo();var t=ma,n=lr,a=ji,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,lr=ma=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(da=null),Ti(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=W.p,W.p=2,q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,W.p=c}}(ji&3)!==0&&Eu(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Kh?Rl++:(Rl=0,Kh=t):Rl=0,Cl(0)}}function Ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function Eu(){return vp(),Ep(),Tp(),Sp()}function Sp(){if(xe!==5)return!1;var t=ma,n=Yh;Yh=0;var a=Ti(ji),l=q.T,c=W.p;try{W.p=32>a?32:a,q.T=null,a=Xh,Xh=null;var f=ma,g=ji;if(xe=0,lr=ma=null,ji=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,ap(f.current),ep(f,f.current,g,a),Ht=E,Cl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{W.p=c,q.T=l,Ap(t,n)}}function bp(t,n,a){n=bn(a,n),n=wh(t.stateNode,n,2),t=la(t,n,2),t!==null&&(Ba(t,2),mi(t))}function Yt(t,n,a){if(t.tag===3)bp(t,t,a);else for(;n!==null;){if(n.tag===3){bp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){t=bn(a,t),a=Rg(2),l=la(n,a,2),l!==null&&(Cg(a,l,n,t),Ba(l,2),mi(l));break}}n=n.return}}function $h(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Gh=!0,c.add(a),t=S1.bind(null,t,n,a),n.then(t,t))}function S1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>Je()-mu?(Ht&2)===0&&or(t,0):Qh|=a,rr===It&&(rr=0)),mi(t)}function Rp(t,n){n===0&&(n=po()),t=ts(t,n),t!==null&&(Ba(t,n),mi(t))}function b1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Rp(t,a)}function R1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Rp(t,a)}function C1(t,n){return Ie(t,n)}var Tu=null,cr=null,Wh=!1,Au=!1,tf=!1,pa=0;function mi(t){t!==cr&&t.next===null&&(cr===null?Tu=cr=t:cr=cr.next=t),Au=!0,Wh||(Wh=!0,D1())}function Cl(t,n){if(!tf&&Au){tf=!0;do for(var a=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Vp(l,f))}else f=It,f=Zn(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||On(l,f)||(a=!0,Vp(l,f));l=l.next}while(a);tf=!1}}function w1(){Cp()}function Cp(){Au=Wh=!1;var t=0;pa!==0&&j1()&&(t=pa);for(var n=Je(),a=null,l=Tu;l!==null;){var c=l.next,f=wp(l,n);f===0?(l.next=null,a===null?Tu=c:a.next=c,c===null&&(cr=a)):(a=l,(t!==0||(f&3)!==0)&&(Au=!0)),l=c}xe!==0&&xe!==5||Cl(t),pa!==0&&(pa=0)}function wp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Vc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,a=It,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||On(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Gi(l),Ti(a)){case 2:case 8:a=Ur;break;case 32:a=Qi;break;case 268435456:a=co;break;default:a=Qi}return l=Dp.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Gi(l),t.callbackPriority=2,t.callbackNode=null,2}function Dp(t,n){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eu()&&t.callbackNode!==a)return null;var l=It;return l=Zn(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(up(t,l,n),wp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Dp.bind(null,t):null)}function Vp(t,n){if(Eu())return null;up(t,n,!0)}function D1(){B1(function(){(Ht&6)!==0?Ie(zr,w1):Cp()})}function ef(){if(pa===0){var t=Ks;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),pa=t}return pa}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Os(""+t)}function Ip(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function V1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Np((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Np(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var w=g?Ip(c,g):new FormData(c);Th(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Ip(c,g):new FormData(c),Th(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var nf=0;nf<jc.length;nf++){var af=jc[nf],N1=af.toLowerCase(),I1=af[0].toUpperCase()+af.slice(1);Pn(N1,"on"+I1)}Pn(om,"onAnimationEnd"),Pn(um,"onAnimationIteration"),Pn(cm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Y0,"onTransitionRun"),Pn(X0,"onTransitionStart"),Pn(K0,"onTransitionCancel"),Pn(hm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function xp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Q){Lo(Q)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,k=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Q){Lo(Q)}c.currentTarget=null,f=w}}}}function Dt(t,n){var a=n[Vs];a===void 0&&(a=n[Vs]=new Set);var l=t+"__bubble";a.has(l)||(Mp(n,t,2,!1),a.add(l))}function sf(t,n,a){var l=0;n&&(l|=4),Mp(a,t,l,n)}var Su="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[Su]){t[Su]=!0,kr.forEach(function(a){a!=="selectionchange"&&(x1.has(a)||sf(a,!1,t),sf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Su]||(n[Su]=!0,sf("selectionchange",!1,n))}}function Mp(t,n,a,l){switch(oy(n)){case 2:var c=rE;break;case 8:c=lE;break;default:c=Tf}a=c.bind(null,n,a,t),c=void 0,!Fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function lf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Ji(function(){var k=f,Q=En(a),X=[];t:{var B=fm.get(t);if(B!==void 0){var H=li,rt=t;switch(t){case"keypress":if(Xa(a)===0)break t;case"keydown":case"keyup":H=Oo;break;case"focusin":rt="focus",H=Za;break;case"focusout":rt="blur",H=Za;break;case"beforeblur":case"afterblur":H=Za;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case om:case um:case cm:H=wo;break;case hm:H=T;break;case"scroll":case"scrollend":H=Jr;break;case"wheel":H=P;break;case"copy":case"cut":case"paste":H=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=bi;break;case"toggle":case"beforetoggle":H=At}var ft=(n&4)!==0,$t=!ft&&(t==="scroll"||t==="scrollend"),z=ft?B!==null?B+"Capture":null:B;ft=[];for(var I=k,j;I!==null;){var F=I;if(j=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||j===null||z===null||(F=jn(I,z),F!=null&&ft.push(Dl(I,F,j))),$t)break;I=I.return}0<ft.length&&(B=new H(B,rt,null,a,Q),X.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Xr&&(rt=a.relatedTarget||a.fromElement)&&(ti(rt)||rt[$n]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(rt=a.relatedTarget||a.toElement,H=k,rt=rt?ti(rt):null,rt!==null&&($t=h(rt),ft=rt.tag,rt!==$t||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(H=null,rt=k),H!==rt)){if(ft=$r,F="onMouseLeave",z="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ft=bi,F="onPointerLeave",z="onPointerEnter",I="pointer"),$t=H==null?B:un(H),j=rt==null?B:un(rt),B=new ft(F,I+"leave",H,a,Q),B.target=$t,B.relatedTarget=j,F=null,ti(Q)===k&&(ft=new ft(z,I+"enter",rt,a,Q),ft.target=j,ft.relatedTarget=$t,F=ft),$t=F,H&&rt)e:{for(ft=M1,z=H,I=rt,j=0,F=z;F;F=ft(F))j++;F=0;for(var ut=I;ut;ut=ft(ut))F++;for(;0<j-F;)z=ft(z),j--;for(;0<F-j;)I=ft(I),F--;for(;j--;){if(z===I||I!==null&&z===I.alternate){ft=z;break e}z=ft(z),I=ft(I)}ft=null}else ft=null;H!==null&&Op(X,B,H,ft,!1),rt!==null&&$t!==null&&Op(X,$t,rt,ft,!0)}}t:{if(B=k?un(k):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var kt=Jd;else if(Kd(B))if($d)kt=G0;else{kt=P0;var ot=q0}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Ms(k.elementType)&&(kt=Jd):kt=H0;if(kt&&(kt=kt(t,k))){Zd(X,kt,a,Q);break t}ot&&ot(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&Qr(B,"number",B.value)}switch(ot=k?un(k):window,t){case"focusin":(Kd(ot)||ot.contentEditable==="true")&&(qs=ot,zc=k,il=null);break;case"focusout":il=zc=qs=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,rm(X,a,Q);break;case"selectionchange":if(F0)break;case"keydown":case"keyup":rm(X,a,Q)}var Rt;if(Pt)t:{switch(t){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Bs?Ja(t,a)&&(xt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(ci&&a.locale!=="ko"&&(Bs||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Bs&&(Rt=Zr()):(ri=Q,Kr="value"in ri?ri.value:ri.textContent,Bs=!0)),ot=bu(k,xt),0<ot.length&&(xt=new ui(xt,t,null,a,Q),X.push({event:xt,listeners:ot}),Rt?xt.data=Rt:(Rt=ks(a),Rt!==null&&(xt.data=Rt)))),(Rt=An?L0(t,a):j0(t,a))&&(xt=bu(k,"onBeforeInput"),0<xt.length&&(ot=new ui("onBeforeInput","beforeinput",null,a,Q),X.push({event:ot,listeners:xt}),ot.data=Rt)),V1(X,t,k,a,Q)}xp(X,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jn(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=jn(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function M1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Op(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||k===null||(w=k,c?(k=jn(a,f),k!=null&&g.unshift(Dl(a,k,w))):c||(k=jn(a,f),k!=null&&g.push(Dl(a,k,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var O1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(O1,`
`).replace(z1,"")}function Up(t,n){return n=zp(n),zp(t)===n}function Jt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Yr(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Os(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Os(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Is(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Is(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bo.get(a)||a,Is(t,a,l))}}function of(t,n,a,l,c,f){switch(a){case"style":Yr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Is(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,f,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=g=c=null,w=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":w=Q;break;case"defaultChecked":k=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Jt(t,n,l,Q,a,null)}}To(t,f,E,w,k,g,c,!1);return;case"select":Dt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Yi(t,!!l,n,!1):a!=null&&Yi(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(t,n,g,E,a,null)}Xi(t,l,c,f);return;case"option":for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null)&&(w==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(t,n,w,l,a,null));return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Dt(wl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,k,l,a,null)}return;default:if(Ms(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&of(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function U1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,k=null,Q=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(H)||Jt(t,n,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":k=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==X&&Jt(t,n,B,H,l,X)}}xs(t,g,E,w,k,Q,f,c);return;case"select":H=g=E=B=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Jt(t,n,c,f,l,w)}n=E,a=g,l=H,B!=null?Yi(t,!!a,B,!1):!!l!=!!a&&(n!=null?Yi(t,!!a,n,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Ao(t,B,H);return;case"option":for(var rt in a)B=a[rt],a.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt)&&(rt==="selected"?t.selected=!1:Jt(t,n,rt,null,l,B));for(w in l)B=l[w],H=a[w],l.hasOwnProperty(w)&&B!==H&&(B!=null||H!=null)&&(w==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(t,n,w,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Jt(t,n,ft,null,l,B);for(k in l)if(B=l[k],H=a[k],l.hasOwnProperty(k)&&B!==H&&(B!=null||H!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Jt(t,n,k,B,l,H)}return;default:if(Ms(n)){for(var $t in a)B=a[$t],a.hasOwnProperty($t)&&B!==void 0&&!l.hasOwnProperty($t)&&of(t,n,$t,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||of(t,n,Q,B,l,H);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Jt(t,n,z,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||Jt(t,n,X,B,l,H)}function Lp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Lp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],k=w.startTime;if(k>E)break;var Q=w.transferSize,X=w.initiatorType;Q&&Lp(X)&&(w=w.responseEnd,g+=Q*(w<E?1:(E-k)/(w-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uf=null,cf=null;function Ru(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ff=null;function j1(){var t=window.event;return t&&t.type==="popstate"?t===ff?!1:(ff=t,!0):(ff=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(q1)}:Bp;function q1(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function Pp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),mr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);mr(n)}function Hp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function df(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":df(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function P1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function H1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Gp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function mf(t){return t.data==="$?"||t.data==="$~"}function gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function G1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var pf=null;function Qp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Yp(t,n,a){switch(n=Ru(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ns(t)}var Nn=new Map,Xp=new Set;function Cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=W.d;W.d={f:Q1,r:F1,D:Y1,C:X1,L:K1,m:Z1,X:$1,S:J1,M:W1};function Q1(){var t=ki.f(),n=yu();return t||n}function F1(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?hg(n):ki.r(t)}var hr=typeof document>"u"?null:document;function Kp(t,n,a){var l=hr;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Xp.has(c)||(Xp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),Ee(n),l.head.appendChild(n)))}}function Y1(t){ki.D(t),Kp("dns-prefetch",t,null)}function X1(t,n){ki.C(t,n),Kp("preconnect",t,n)}function K1(t,n,a){ki.L(t,n,a);var l=hr;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=fr(t);break;case"script":f=dr(t)}Nn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),He(n,"link",t),Ee(n),l.head.appendChild(n)))}}function Z1(t,n){ki.m(t,n);var a=hr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(t)}if(!Nn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Nn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),He(l,"link",t),Ee(l),a.head.appendChild(l)}}}function J1(t,n,a){ki.S(t,n,a);var l=hr;if(l&&t){var c=ei(l).hoistableStyles,f=fr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Nl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Nn.get(f))&&yf(t,a);var w=g=l.createElement("link");Ee(w),He(w,"link",t),w._p=new Promise(function(k,Q){w.onload=k,w.onerror=Q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function $1(t,n){ki.X(t,n);var a=hr;if(a&&t){var l=ei(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=b({src:t,async:!0},n),(n=Nn.get(c))&&_f(t,n),f=a.createElement("script"),Ee(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function W1(t,n){ki.M(t,n);var a=hr;if(a&&t){var l=ei(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&_f(t,n),f=a.createElement("script"),Ee(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zp(t,n,a,l){var c=(c=_t.current)?Cu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fr(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fr(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Nl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),f||tE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dr(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fr(t){return'href="'+tn(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function tE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),Ee(n),t.head.appendChild(n))}function dr(t){return'[src="'+tn(t)+'"]'}function Il(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),He(l,"style",c),wu(l,a.precedence,t),n.instance=l;case"stylesheet":c=fr(a.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Jp(a),(c=Nn.get(c))&&yf(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",l),n.state.loading|=4,wu(f,a.precedence,t),n.instance=f;case"script":return f=dr(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,Ee(c),c):(l=a,(c=Nn.get(f))&&(l=b({},a),_f(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,t));return n.instance}function wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function Wp(t,n,a){if(Du===null){var l=new Map,c=Du=new Map;c.set(a,l)}else c=Du,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function eE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fr(l.href),f=n.querySelector(Nl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Jp(l),(c=Nn.get(c))&&yf(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var vf=0;function iE(t,n){return t.stylesheets&&t.count===0&&Iu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&vf===0&&(vf=62500*L1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Iu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>vf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function Iu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(aE,t),Nu=null,Vu.call(t))}function aE(t,n){if(!(n.state.loading&4)){var a=Nu.get(t);if(a)var l=a.get(null);else{a=new Map,Nu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function sE(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ny(t,n,a,l,c,f,g,E,w,k,Q,X){return t=new sE(t,n,a,g,w,k,Q,X,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=Jc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},eh(f),t}function iy(t){return t?(t=Gs,t):Gs}function ay(t,n,a,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=ra(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=la(t,l,n),a!==null&&(ln(a,t,n),cl(a,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ef(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ry(t){if(t.tag===13||t.tag===31){var n=ts(t,67108864);n!==null&&ln(n,t,67108864),Ef(t,67108864)}}function ly(t){if(t.tag===13||t.tag===31){var n=yn();n=Pa(n);var a=ts(t,n);a!==null&&ln(a,t,n),Ef(t,n)}}var xu=!0;function rE(t,n,a,l){var c=q.T;q.T=null;var f=W.p;try{W.p=2,Tf(t,n,a,l)}finally{W.p=f,q.T=c}}function lE(t,n,a,l){var c=q.T;q.T=null;var f=W.p;try{W.p=8,Tf(t,n,a,l)}finally{W.p=f,q.T=c}}function Tf(t,n,a,l){if(xu){var c=Af(l);if(c===null)lf(t,n,l,Mu,a),uy(t,l);else if(uE(c,t,n,a,l))l.stopPropagation();else if(uy(t,l),n&4&&-1<oE.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-fe(g);E.entanglements[1]|=w,g&=~w}mi(f),(Ht&6)===0&&(gu=Je()+500,Cl(0))}}break;case 31:case 13:E=ts(f,2),E!==null&&ln(E,f,2),yu(),Ef(f,2)}if(f=Af(l),f===null&&lf(t,n,l,Mu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else lf(t,n,l,null,a)}}function Af(t){return t=En(t),Sf(t)}var Mu=null;function Sf(t){if(Mu=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mu=t,null}function oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case zr:return 2;case Ur:return 8;case Qi:case Dc:return 32;case co:return 268435456;default:return 32}default:return 32}}var bf=!1,_a=null,va=null,Ea=null,Ml=new Map,Ol=new Map,Ta=[],oE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(t,n){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function zl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function uE(t,n,a,l,c){switch(n){case"focusin":return _a=zl(_a,t,n,a,l,c),!0;case"dragenter":return va=zl(va,t,n,a,l,c),!0;case"mouseover":return Ea=zl(Ea,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,zl(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,zl(Ol.get(f)||null,t,n,a,l,c)),!0}return!1}function cy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Af(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xr=l,a.target.dispatchEvent(l),Xr=null}else return n=vn(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function hy(t,n,a){Ou(t)&&a.delete(n)}function cE(){bf=!1,_a!==null&&Ou(_a)&&(_a=null),va!==null&&Ou(va)&&(va=null),Ea!==null&&Ou(Ea)&&(Ea=null),Ml.forEach(hy),Ol.forEach(hy)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,bf||(bf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cE)))}var Uu=null;function fy(t){Uu!==t&&(Uu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Sf(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,Th(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function mr(t){function n(w){return zu(w,t)}_a!==null&&zu(_a,t),va!==null&&zu(va,t),Ea!==null&&zu(Ea,t),Ml.forEach(n),Ol.forEach(n);for(var a=0;a<Ta.length;a++){var l=Ta[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)cy(a),a.blockedOn===null&&Ta.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||fy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Sf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),fy(a)}}}function dy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Rf(t){this._internalRoot=t}Lu.prototype.render=Rf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=yn();ay(a,l,t,n,null,null)},Lu.prototype.unmount=Rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ay(t.current,2,null,t,null,null),yu(),n[$n]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var n=yo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ta.length&&n!==0&&n<Ta[a].priority;a++);Ta.splice(a,0,t),a===0&&cy(t)}};var my=e.version;if(my!=="19.2.3")throw Error(s(527,my,"19.2.3"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var hE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Mn=ju.inject(hE),je=ju}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Tg,f=Ag,g=Sg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ny(t,1,!1,null,null,a,l,null,c,f,g,dy),t[$n]=n.current,rf(t),new Rf(n)},Ll.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Tg,g=Ag,E=Sg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=ny(t,1,!0,n,a??null,l,c,w,f,g,E,dy),n.context=iy(null),a=n.current,l=yn(),l=Pa(l),c=ra(l),c.callback=null,la(a,c,l),a=l,n.current.lanes=a,Ba(n,a),mi(n),t[$n]=n.current,rf(t),new Lu(n)},Ll.version="19.2.3",Ll}var by;function AE(){if(by)return Df.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Df.exports=TE(),Df.exports}var SE=AE();const bE=j_(SE);async function k_(r){const e=new Blob([r],{type:"text/javascript"}),i=URL.createObjectURL(e);try{const o=(await import(i)).default,h=typeof o?.init=="function",d=typeof o?.render=="function";if(!h&&!d)throw new Error("El archivo no es vlido. Debe exportar 'init' (nuevo) o 'render' (formato compaeros).");return d&&!o.meta&&(o.meta={id:"legacy_"+Date.now(),name:"Simulador Importado",version:"0.0.0",inputs:[]}),o}catch(s){throw console.error("Error cargando simulador:",s),s}finally{URL.revokeObjectURL(i)}}const B_=({code:r,params:e})=>{const i=Xt.useRef(null),[s,o]=Xt.useState(null),[h,d]=Xt.useState(null),[y,v]=Xt.useState(!1);if(Xt.useEffect(()=>{let A=!0;return(async()=>{try{o(null);const x=await k_(r);A&&d(x)}catch(x){A&&o(x.message)}})(),()=>{A=!1}},[r]),Xt.useEffect(()=>{if(!h||!i.current||!y)return;const A=i.current;A.innerHTML="";try{if(h.init)h.init(A,e),h.update&&h.update(A,e);else if(h.render){const b=h.meta?.name||"Simulador",x=h.render(e,b),G=/<script>([\s\S]*?)<\/script>/,J=x.match(G),et=x.replace(G,""),$=J?J[1]:null;if(A.innerHTML=et,$){const ht=document.createElement("script");ht.textContent=$,document.body.appendChild(ht),setTimeout(()=>ht.remove(),10)}}}catch(b){console.error("Error ejecucin:",b),A.innerHTML=`<div class="feedback-incorrect">Error: ${b.message}</div>`}return()=>{h.destroy&&h.destroy(A),A.innerHTML=""}},[h,e,y]),s)return U.jsxs("div",{className:"feedback-incorrect",children:["Error: ",s]});if(!h)return U.jsx("div",{className:"loading",children:"Cargando..."});const _=h.meta?.name||"Simulador";return U.jsxs("div",{className:"my-4",children:[U.jsx("button",{className:`btn-sim ${y?"btn-sim-rojo":""}`,onClick:()=>v(!y),children:y?`Ocultar ${_}`:`Abrir ${_}`}),y&&U.jsxs("div",{className:"simulador-box fade-in",children:[U.jsx("div",{ref:i,style:{minHeight:"50px"}}),U.jsxs("div",{className:"text-muted text-sm mt-2",style:{fontSize:"0.8em",fontStyle:"italic"},children:["Formato: ",h.init?"Nativo V2":"Legacy V1"]})]})]})};const RE=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CE=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Ry=r=>{const e=CE(r);return e.charAt(0).toUpperCase()+e.slice(1)},q_=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),wE=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var DE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VE=Xt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...y},v)=>Xt.createElement("svg",{ref:v,...DE,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:q_("lucide",o),...!h&&!wE(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Xt.createElement(_,A)),...Array.isArray(h)?h:[h]]));const he=(r,e)=>{const i=Xt.forwardRef(({className:s,...o},h)=>Xt.createElement(VE,{ref:h,iconNode:e,className:q_(`lucide-${RE(Ry(r))}`,`lucide-${r}`,s),...o}));return i.displayName=Ry(r),i};const NE=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],P_=he("arrow-down",NE);const IE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],H_=he("arrow-up",IE);const xE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ME=he("circle-check-big",xE);const OE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zE=he("circle-question-mark",OE);const UE=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],LE=he("cloud-upload",UE);const jE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kE=he("download",jE);const BE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qE=he("eye",BE);const PE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xf=he("file-text",PE);const HE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],GE=he("folder-open",HE);const QE=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Gu=he("gamepad-2",QE);const FE=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],YE=he("grip-vertical",FE);const XE=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]],KE=he("layout-panel-top",XE);const ZE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],JE=he("moon",ZE);const $E=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WE=he("save",$E);const tT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eT=he("sun",tT);const nT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iT=he("tag",nT);const aT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],G_=he("trash-2",aT);const sT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rT=he("triangle-alert",sT);const lT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],oT=he("type",lT);const uT=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],cT=he("undo",uT);const hT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fT=he("upload",hT);const dT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mT=he("x",dT),gT=({block:r,availableSimulators:e,onUpdate:i,onDelete:s,onMoveUp:o,onMoveDown:h,isFirst:d,isLast:y})=>{const v=x=>{i({...r,content:x.target.value})},_=x=>{const G=x.target.value;i({...r,simulatorId:G,simConfig:{}})},A=Xt.useMemo(()=>e.find(x=>x.id===r.simulatorId),[e,r.simulatorId]),b=r.type==="simulator"?"Simulador":"Texto / LaTeX";return U.jsxs("section",{className:`block-card fade-in ${r.type==="simulator"?"is-sim":"is-text"}`,children:[U.jsxs("div",{className:"block-toolbar",children:[U.jsxs("div",{className:"block-left",children:[U.jsx("span",{className:"block-grip",title:"Bloque",children:U.jsx(YE,{size:16})}),U.jsxs("span",{className:`block-tag ${r.type==="simulator"?"sim":"text"}`,children:[r.type==="simulator"?U.jsx(Gu,{size:14}):U.jsx(oT,{size:14}),b]}),r.type==="simulator"&&U.jsx("span",{className:"block-hint",children:A?`Usando: ${A.name}`:"Selecciona un simulador"})]}),U.jsxs("div",{className:"block-actions",children:[U.jsx("button",{className:"icon-mini",onClick:o,disabled:d,title:"Subir",children:U.jsx(H_,{size:16})}),U.jsx("button",{className:"icon-mini",onClick:h,disabled:y,title:"Bajar",children:U.jsx(P_,{size:16})}),U.jsx("button",{className:"icon-mini danger",onClick:s,title:"Eliminar",children:U.jsx(G_,{size:16})})]})]}),U.jsxs("div",{className:"block-body",children:[r.type==="text"&&U.jsx("textarea",{className:"block-textarea",value:r.content,onChange:v,placeholder:"Escribe aqu tu contenido (LaTeX entre \\\\( \\\\) o $$ $$)",rows:5}),r.type==="simulator"&&U.jsxs("div",{className:"block-sim",children:[U.jsxs("div",{className:"block-field",children:[U.jsx("label",{className:"block-label",children:"Elige un simulador"}),U.jsxs("select",{className:"block-select",value:r.simulatorId||"",onChange:_,children:[U.jsx("option",{value:"",children:" Selecciona un simulador "}),e.map(x=>U.jsxs("option",{value:x.id,children:[x.name," (v",x.version,")"]},x.id))]})]}),r.simulatorId&&!A&&U.jsx("div",{className:"block-warning",children:" Simulador no encontrado (fue borrado?)"}),A&&U.jsxs("div",{className:"block-preview",children:[U.jsx("div",{className:"block-preview-title",children:"Vista previa en vivo"}),U.jsx("div",{className:"block-preview-frame",children:U.jsx(B_,{code:A.code,params:r.simConfig||{}})})]})]})]})]})},pT={portada:"Portada",capitulo:"Captulo",seccion:"Seccin",subseccion:"Subseccin"},yT=({page:r,availableSimulators:e,onUpdatePage:i})=>{const s=(A,b)=>{const x=r.blocks.map(G=>G.id===A?b:G);i({...r,blocks:x})},o=A=>{if(!confirm("Eliminar este bloque?"))return;const b=r.blocks.filter(x=>x.id!==A);i({...r,blocks:b})},h=(A,b)=>{const x=A+b;if(x<0||x>=r.blocks.length)return;const G=[...r.blocks];[G[A],G[x]]=[G[x],G[A]],i({...r,blocks:G})},d=A=>{const b={id:crypto.randomUUID(),type:A,content:"",simulatorId:"",simConfig:{}};i({...r,blocks:[...r.blocks,b]})},y=A=>{i({...r,title:A.target.value})},v=A=>{i({...r,type:A.target.value})},_=Xt.useMemo(()=>{const A=r.blocks?.length??0,b=r.blocks?.filter(G=>G.type==="text").length??0,x=r.blocks?.filter(G=>G.type==="simulator").length??0;return{total:A,text:b,sims:x}},[r.blocks]);return U.jsxs("div",{className:"page-editor",children:[U.jsxs("div",{className:"page-top",children:[U.jsxs("div",{className:"page-top-left",children:[U.jsxs("div",{className:"page-type-row",children:[U.jsxs("span",{className:"page-pill",children:[U.jsx(KE,{size:14}),"Editor"]}),U.jsxs("label",{className:"page-type-label",children:[U.jsx(iT,{size:14}),"Tipo"]}),U.jsxs("select",{className:"page-type-select",value:r.type||"seccion",onChange:v,children:[U.jsx("option",{value:"portada",children:"Portada"}),U.jsx("option",{value:"capitulo",children:"Captulo"}),U.jsx("option",{value:"seccion",children:"Seccin"}),U.jsx("option",{value:"subseccion",children:"Subseccin"})]}),U.jsx("span",{className:"page-chip",children:pT[String(r.type||"seccion")]??"Seccin"})]}),U.jsx("input",{className:"page-title-input",type:"text",value:r.title,onChange:y,placeholder:"Ttulo de la pgina"}),U.jsxs("div",{className:"page-submeta",children:[U.jsxs("span",{className:"page-submeta-item",children:[_.total," bloques"]}),U.jsx("span",{className:"page-dot",children:""}),U.jsxs("span",{className:"page-submeta-item",children:[_.text," texto"]}),U.jsx("span",{className:"page-dot",children:""}),U.jsxs("span",{className:"page-submeta-item",children:[_.sims," simuladores"]})]})]}),U.jsxs("div",{className:"page-top-actions",children:[U.jsxs("button",{className:"btn-action",onClick:()=>d("text"),children:[U.jsx(xf,{size:18})," Aadir texto"]}),U.jsxs("button",{className:"btn-action accent",onClick:()=>d("simulator"),children:[U.jsx(Gu,{size:18})," Aadir simulador"]})]})]}),U.jsx("div",{className:"page-content",children:r.blocks.length===0?U.jsxs("div",{className:"page-empty",children:[U.jsx("div",{className:"page-empty-emoji",children:""}),U.jsx("div",{className:"page-empty-title",children:"Esta pgina est vaca"}),U.jsx("div",{className:"page-empty-sub",children:"Agrega un bloque de texto o un simulador para empezar."}),U.jsxs("div",{className:"page-empty-actions",children:[U.jsxs("button",{className:"btn-action",onClick:()=>d("text"),children:[U.jsx(xf,{size:18})," Aadir texto"]}),U.jsxs("button",{className:"btn-action accent",onClick:()=>d("simulator"),children:[U.jsx(Gu,{size:18})," Aadir simulador"]})]})]}):U.jsx("div",{className:"blocks-list",children:r.blocks.map((A,b)=>U.jsx(gT,{block:A,availableSimulators:e,onUpdate:x=>s(A.id,x),onDelete:()=>o(A.id),onMoveUp:()=>h(b,-1),onMoveDown:()=>h(b,1),isFirst:b===0,isLast:b===r.blocks.length-1},A.id))})}),U.jsx("div",{className:"page-bottom",children:U.jsxs("div",{className:"page-bottom-inner",children:[U.jsx("span",{className:"page-bottom-hint",children:"Tip: usa bloques cortos y ttulos claros para que el libro se lea mejor "}),U.jsxs("div",{className:"page-bottom-actions",children:[U.jsxs("button",{className:"btn-action",onClick:()=>d("text"),children:[U.jsx(xf,{size:18})," Texto"]}),U.jsxs("button",{className:"btn-action accent",onClick:()=>d("simulator"),children:[U.jsx(Gu,{size:18})," Simulador"]})]})]})})]})},_T=()=>{};var Cy={};const Q_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,b=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,G=_&63;v||(G=64,d||(x=64)),s.push(i[A],i[b],i[x],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||_==null||b==null)throw new ET;const x=h<<2|y>>4;if(s.push(x),_!==64){const G=y<<4&240|_>>2;if(s.push(G),b!==64){const J=_<<6&192|b;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ET extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TT=function(r){const e=Q_(r);return F_.encodeByteArray(e,!0)},Ju=function(r){return TT(r).replace(/\./g,"")},AT=function(r){try{return F_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ST(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bT=()=>ST().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof Cy>"u")return;const r=Cy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AT(r[1]);return e&&JSON.parse(e)},dd=()=>{try{return _T()||bT()||RT()||CT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wT=r=>dd()?.emulatorHosts?.[r],DT=r=>{const e=wT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Y_=()=>dd()?.config;class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function md(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NT(r){return(await fetch(r,{credentials:"include"})).ok}function IT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}const Pl={};function xT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?r.emulator.push(e):r.prod.push(e);return r}function MT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let wy=!1;function OT(r,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Pl[r]===e||Pl[r]||wy)return;Pl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",h=xT().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{wy=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=MT(s),G=i("text"),J=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),Tt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const mt=x.element;y(mt),A($,et);const qt=_();v(Tt,ht),mt.append(Tt,J,$,qt),document.body.appendChild(mt)}h?(J.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function zT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){const r=dd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LT(){return!UT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const BT="FirebaseError";class wr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=BT,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X_.prototype.create)}}class X_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?qT(h,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new wr(o,y,s)}}function qT(r,e){return r.replace(PT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PT=/\{\$([^}]+)}/g;function $u(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Dy(h)&&Dy(d)){if(!$u(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Dy(r){return r!==null&&typeof r=="object"}function ys(r){return r&&r._delegate?r._delegate:r}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ds="[DEFAULT]";class HT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new VT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QT(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GT(r){return r===ds?void 0:r}function QT(r){return r.instantiationMode==="EAGER"}class FT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new HT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const YT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},XT=Lt.INFO,KT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},ZT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=KT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=XT,this._logHandler=ZT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const JT=(r,e)=>e.some(i=>r instanceof i);let Vy,Ny;function $T(){return Vy||(Vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WT(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Pf=new WeakMap,J_=new WeakMap,Mf=new WeakMap,gd=new WeakMap;function tA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ba(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,r)}).catch(()=>{}),gd.set(e,r),e}function eA(r){if(Pf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Pf.set(r,e)}let Hf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Pf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||J_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ba(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nA(r){Hf=r(Hf)}function iA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Of(this),e,...i);return J_.set(s,e.sort?e.sort():[e]),ba(s)}:WT().includes(r)?function(...e){return r.apply(Of(this),e),ba(Z_.get(this))}:function(...e){return ba(r.apply(Of(this),e))}}function aA(r){return typeof r=="function"?iA(r):(r instanceof IDBTransaction&&eA(r),JT(r,$T())?new Proxy(r,Hf):r)}function ba(r){if(r instanceof IDBRequest)return tA(r);if(Mf.has(r))return Mf.get(r);const e=aA(r);return e!==r&&(Mf.set(r,e),gd.set(e,r)),e}const Of=r=>gd.get(r);function sA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=ba(d);return s&&d.addEventListener("upgradeneeded",v=>{s(ba(d.result),v.oldVersion,v.newVersion,ba(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const rA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],zf=new Map;function Iy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=lA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||rA.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return zf.set(e,h),h}nA(r=>({...r,get:(e,i,s)=>Iy(e,i)||r.get(e,i,s),has:(e,i)=>!!Iy(e,i)||r.has(e,i)}));class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(uA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function uA(r){return r.getComponent()?.type==="VERSION"}const Gf="@firebase/app",xy="0.14.6";const qi=new K_("@firebase/app"),cA="@firebase/app-compat",hA="@firebase/analytics-compat",fA="@firebase/analytics",dA="@firebase/app-check-compat",mA="@firebase/app-check",gA="@firebase/auth",pA="@firebase/auth-compat",yA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",EA="@firebase/functions",TA="@firebase/functions-compat",AA="@firebase/installations",SA="@firebase/installations-compat",bA="@firebase/messaging",RA="@firebase/messaging-compat",CA="@firebase/performance",wA="@firebase/performance-compat",DA="@firebase/remote-config",VA="@firebase/remote-config-compat",NA="@firebase/storage",IA="@firebase/storage-compat",xA="@firebase/firestore",MA="@firebase/ai",OA="@firebase/firestore-compat",zA="firebase",UA="12.6.0";const Qf="[DEFAULT]",LA={[Gf]:"fire-core",[cA]:"fire-core-compat",[fA]:"fire-analytics",[hA]:"fire-analytics-compat",[mA]:"fire-app-check",[dA]:"fire-app-check-compat",[gA]:"fire-auth",[pA]:"fire-auth-compat",[yA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[EA]:"fire-fn",[TA]:"fire-fn-compat",[AA]:"fire-iid",[SA]:"fire-iid-compat",[bA]:"fire-fcm",[RA]:"fire-fcm-compat",[CA]:"fire-perf",[wA]:"fire-perf-compat",[DA]:"fire-rc",[VA]:"fire-rc-compat",[NA]:"fire-gcs",[IA]:"fire-gcs-compat",[xA]:"fire-fst",[OA]:"fire-fst-compat",[MA]:"fire-vertex","fire-js":"fire-js",[zA]:"fire-js-all"};const Wu=new Map,jA=new Map,Ff=new Map;function My(r,e){try{r.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function tc(r){const e=r.name;if(Ff.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,r);for(const i of Wu.values())My(i,r);for(const i of jA.values())My(i,r);return!0}function kA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function BA(r){return r==null?!1:r.settings!==void 0}const qA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new X_("app","Firebase",qA);class PA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}const HA=UA;function $_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Qf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ra.create("bad-app-name",{appName:String(o)});if(i||(i=Y_()),!i)throw Ra.create("no-options");const h=Wu.get(o);if(h){if($u(i,h.options)&&$u(s,h.config))return h;throw Ra.create("duplicate-app",{appName:o})}const d=new FT(o);for(const v of Ff.values())d.addComponent(v);const y=new PA(i,s,d);return Wu.set(o,y),y}function GA(r=Qf){const e=Wu.get(r);if(!e&&r===Qf&&Y_())return $_();if(!e)throw Ra.create("no-app",{appName:r});return e}function vr(r,e,i){let s=LA[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}tc(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const QA="firebase-heartbeat-database",FA=1,Kl="firebase-heartbeat-store";let Uf=null;function W_(){return Uf||(Uf=sA(QA,FA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ra.create("idb-open",{originalErrorMessage:r.message})})),Uf}async function YA(r){try{const i=(await W_()).transaction(Kl),s=await i.objectStore(Kl).get(tv(r));return await i.done,s}catch(e){if(e instanceof wr)qi.warn(e.message);else{const i=Ra.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function Oy(r,e){try{const s=(await W_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,tv(r)),await s.done}catch(i){if(i instanceof wr)qi.warn(i.message);else{const s=Ra.create("idb-set",{originalErrorMessage:i?.message});qi.warn(s.message)}}}function tv(r){return`${r.name}!${r.options.appId}`}const XA=1024,KA=30;class ZA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $A(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>KA){const o=WA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zy(),{heartbeatsToSend:i,unsentEntries:s}=JA(this._heartbeatsCache.heartbeats),o=Ju(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qi.warn(e),""}}}function zy(){return new Date().toISOString().substring(0,10)}function JA(r,e=XA){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class $A{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uy(r){return Ju(JSON.stringify({version:2,heartbeats:r})).length}function WA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function tS(r){tc(new Xl("platform-logger",e=>new oA(e),"PRIVATE")),tc(new Xl("heartbeat",e=>new ZA(e),"PRIVATE")),vr(Gf,xy,r),vr(Gf,xy,"esm2020"),vr("fire-js","")}tS("");var eS="firebase",nS="12.7.0";vr(eS,nS,"app");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ca,ev;(function(){var r;function e(V,R){function D(){}D.prototype=R.prototype,V.F=R.prototype,V.prototype=new D,V.prototype.constructor=V,V.D=function(O,C,N){for(var S=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)S[bt-2]=arguments[bt];return R.prototype[C].apply(O,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,D){D||(D=0);const O=Array(16);if(typeof R=="string")for(var C=0;C<16;++C)O[C]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(C=0;C<16;++C)O[C]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=V.g[0],D=V.g[1],C=V.g[2];let N=V.g[3],S;S=R+(N^D&(C^N))+O[0]+3614090360&4294967295,R=D+(S<<7&4294967295|S>>>25),S=N+(C^R&(D^C))+O[1]+3905402710&4294967295,N=R+(S<<12&4294967295|S>>>20),S=C+(D^N&(R^D))+O[2]+606105819&4294967295,C=N+(S<<17&4294967295|S>>>15),S=D+(R^C&(N^R))+O[3]+3250441966&4294967295,D=C+(S<<22&4294967295|S>>>10),S=R+(N^D&(C^N))+O[4]+4118548399&4294967295,R=D+(S<<7&4294967295|S>>>25),S=N+(C^R&(D^C))+O[5]+1200080426&4294967295,N=R+(S<<12&4294967295|S>>>20),S=C+(D^N&(R^D))+O[6]+2821735955&4294967295,C=N+(S<<17&4294967295|S>>>15),S=D+(R^C&(N^R))+O[7]+4249261313&4294967295,D=C+(S<<22&4294967295|S>>>10),S=R+(N^D&(C^N))+O[8]+1770035416&4294967295,R=D+(S<<7&4294967295|S>>>25),S=N+(C^R&(D^C))+O[9]+2336552879&4294967295,N=R+(S<<12&4294967295|S>>>20),S=C+(D^N&(R^D))+O[10]+4294925233&4294967295,C=N+(S<<17&4294967295|S>>>15),S=D+(R^C&(N^R))+O[11]+2304563134&4294967295,D=C+(S<<22&4294967295|S>>>10),S=R+(N^D&(C^N))+O[12]+1804603682&4294967295,R=D+(S<<7&4294967295|S>>>25),S=N+(C^R&(D^C))+O[13]+4254626195&4294967295,N=R+(S<<12&4294967295|S>>>20),S=C+(D^N&(R^D))+O[14]+2792965006&4294967295,C=N+(S<<17&4294967295|S>>>15),S=D+(R^C&(N^R))+O[15]+1236535329&4294967295,D=C+(S<<22&4294967295|S>>>10),S=R+(C^N&(D^C))+O[1]+4129170786&4294967295,R=D+(S<<5&4294967295|S>>>27),S=N+(D^C&(R^D))+O[6]+3225465664&4294967295,N=R+(S<<9&4294967295|S>>>23),S=C+(R^D&(N^R))+O[11]+643717713&4294967295,C=N+(S<<14&4294967295|S>>>18),S=D+(N^R&(C^N))+O[0]+3921069994&4294967295,D=C+(S<<20&4294967295|S>>>12),S=R+(C^N&(D^C))+O[5]+3593408605&4294967295,R=D+(S<<5&4294967295|S>>>27),S=N+(D^C&(R^D))+O[10]+38016083&4294967295,N=R+(S<<9&4294967295|S>>>23),S=C+(R^D&(N^R))+O[15]+3634488961&4294967295,C=N+(S<<14&4294967295|S>>>18),S=D+(N^R&(C^N))+O[4]+3889429448&4294967295,D=C+(S<<20&4294967295|S>>>12),S=R+(C^N&(D^C))+O[9]+568446438&4294967295,R=D+(S<<5&4294967295|S>>>27),S=N+(D^C&(R^D))+O[14]+3275163606&4294967295,N=R+(S<<9&4294967295|S>>>23),S=C+(R^D&(N^R))+O[3]+4107603335&4294967295,C=N+(S<<14&4294967295|S>>>18),S=D+(N^R&(C^N))+O[8]+1163531501&4294967295,D=C+(S<<20&4294967295|S>>>12),S=R+(C^N&(D^C))+O[13]+2850285829&4294967295,R=D+(S<<5&4294967295|S>>>27),S=N+(D^C&(R^D))+O[2]+4243563512&4294967295,N=R+(S<<9&4294967295|S>>>23),S=C+(R^D&(N^R))+O[7]+1735328473&4294967295,C=N+(S<<14&4294967295|S>>>18),S=D+(N^R&(C^N))+O[12]+2368359562&4294967295,D=C+(S<<20&4294967295|S>>>12),S=R+(D^C^N)+O[5]+4294588738&4294967295,R=D+(S<<4&4294967295|S>>>28),S=N+(R^D^C)+O[8]+2272392833&4294967295,N=R+(S<<11&4294967295|S>>>21),S=C+(N^R^D)+O[11]+1839030562&4294967295,C=N+(S<<16&4294967295|S>>>16),S=D+(C^N^R)+O[14]+4259657740&4294967295,D=C+(S<<23&4294967295|S>>>9),S=R+(D^C^N)+O[1]+2763975236&4294967295,R=D+(S<<4&4294967295|S>>>28),S=N+(R^D^C)+O[4]+1272893353&4294967295,N=R+(S<<11&4294967295|S>>>21),S=C+(N^R^D)+O[7]+4139469664&4294967295,C=N+(S<<16&4294967295|S>>>16),S=D+(C^N^R)+O[10]+3200236656&4294967295,D=C+(S<<23&4294967295|S>>>9),S=R+(D^C^N)+O[13]+681279174&4294967295,R=D+(S<<4&4294967295|S>>>28),S=N+(R^D^C)+O[0]+3936430074&4294967295,N=R+(S<<11&4294967295|S>>>21),S=C+(N^R^D)+O[3]+3572445317&4294967295,C=N+(S<<16&4294967295|S>>>16),S=D+(C^N^R)+O[6]+76029189&4294967295,D=C+(S<<23&4294967295|S>>>9),S=R+(D^C^N)+O[9]+3654602809&4294967295,R=D+(S<<4&4294967295|S>>>28),S=N+(R^D^C)+O[12]+3873151461&4294967295,N=R+(S<<11&4294967295|S>>>21),S=C+(N^R^D)+O[15]+530742520&4294967295,C=N+(S<<16&4294967295|S>>>16),S=D+(C^N^R)+O[2]+3299628645&4294967295,D=C+(S<<23&4294967295|S>>>9),S=R+(C^(D|~N))+O[0]+4096336452&4294967295,R=D+(S<<6&4294967295|S>>>26),S=N+(D^(R|~C))+O[7]+1126891415&4294967295,N=R+(S<<10&4294967295|S>>>22),S=C+(R^(N|~D))+O[14]+2878612391&4294967295,C=N+(S<<15&4294967295|S>>>17),S=D+(N^(C|~R))+O[5]+4237533241&4294967295,D=C+(S<<21&4294967295|S>>>11),S=R+(C^(D|~N))+O[12]+1700485571&4294967295,R=D+(S<<6&4294967295|S>>>26),S=N+(D^(R|~C))+O[3]+2399980690&4294967295,N=R+(S<<10&4294967295|S>>>22),S=C+(R^(N|~D))+O[10]+4293915773&4294967295,C=N+(S<<15&4294967295|S>>>17),S=D+(N^(C|~R))+O[1]+2240044497&4294967295,D=C+(S<<21&4294967295|S>>>11),S=R+(C^(D|~N))+O[8]+1873313359&4294967295,R=D+(S<<6&4294967295|S>>>26),S=N+(D^(R|~C))+O[15]+4264355552&4294967295,N=R+(S<<10&4294967295|S>>>22),S=C+(R^(N|~D))+O[6]+2734768916&4294967295,C=N+(S<<15&4294967295|S>>>17),S=D+(N^(C|~R))+O[13]+1309151649&4294967295,D=C+(S<<21&4294967295|S>>>11),S=R+(C^(D|~N))+O[4]+4149444226&4294967295,R=D+(S<<6&4294967295|S>>>26),S=N+(D^(R|~C))+O[11]+3174756917&4294967295,N=R+(S<<10&4294967295|S>>>22),S=C+(R^(N|~D))+O[2]+718787259&4294967295,C=N+(S<<15&4294967295|S>>>17),S=D+(N^(C|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(C+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+C&4294967295,V.g[3]=V.g[3]+N&4294967295}s.prototype.v=function(V,R){R===void 0&&(R=V.length);const D=R-this.blockSize,O=this.C;let C=this.h,N=0;for(;N<R;){if(C==0)for(;N<=D;)o(this,V,N),N+=this.blockSize;if(typeof V=="string"){for(;N<R;)if(O[C++]=V.charCodeAt(N++),C==this.blockSize){o(this,O),C=0;break}}else for(;N<R;)if(O[C++]=V[N++],C==this.blockSize){o(this,O),C=0;break}}this.h=C,this.o+=R},s.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;R=this.o*8;for(var D=V.length-8;D<V.length;++D)V[D]=R&255,R/=256;for(this.v(V),V=Array(16),R=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)V[R++]=this.g[D]>>>O&255;return V};function h(V,R){var D=y;return Object.prototype.hasOwnProperty.call(D,V)?D[V]:D[V]=R(V)}function d(V,R){this.h=R;const D=[];let O=!0;for(let C=V.length-1;C>=0;C--){const N=V[C]|0;O&&N==R||(D[C]=N,O=!1)}this.g=D}var y={};function v(V){return-128<=V&&V<128?h(V,function(R){return new d([R|0],R<0?-1:0)}):new d([V|0],V<0?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return b;if(V<0)return $(_(-V));const R=[];let D=1;for(let O=0;V>=D;O++)R[O]=V/D|0,D*=4294967296;return new d(R,0)}function A(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return $(A(V.substring(1),R));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=_(Math.pow(R,8));let O=b;for(let N=0;N<V.length;N+=8){var C=Math.min(8,V.length-N);const S=parseInt(V.substring(N,N+C),R);C<8?(C=_(Math.pow(R,C)),O=O.j(C).add(_(S))):(O=O.j(D),O=O.add(_(S)))}return O}var b=v(0),x=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-$(this).m();let V=0,R=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);V+=(O>=0?O:4294967296+O)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(J(this))return"0";if(et(this))return"-"+$(this).toString(V);const R=_(Math.pow(V,6));var D=this;let O="";for(;;){const C=qt(D,R).g;D=ht(D,C.j(R));let N=((D.g.length>0?D.g[0]:D.h)>>>0).toString(V);if(D=C,J(D))return N+O;for(;N.length<6;)N="0"+N;O=N+O}},r.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function J(V){if(V.h!=0)return!1;for(let R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function et(V){return V.h==-1}r.l=function(V){return V=ht(this,V),et(V)?-1:J(V)?0:1};function $(V){const R=V.g.length,D=[];for(let O=0;O<R;O++)D[O]=~V.g[O];return new d(D,~V.h).add(x)}r.abs=function(){return et(this)?$(this):this},r.add=function(V){const R=Math.max(this.g.length,V.g.length),D=[];let O=0;for(let C=0;C<=R;C++){let N=O+(this.i(C)&65535)+(V.i(C)&65535),S=(N>>>16)+(this.i(C)>>>16)+(V.i(C)>>>16);O=S>>>16,N&=65535,S&=65535,D[C]=S<<16|N}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ht(V,R){return V.add($(R))}r.j=function(V){if(J(this)||J(V))return b;if(et(this))return et(V)?$(this).j($(V)):$($(this).j(V));if(et(V))return $(this.j($(V)));if(this.l(G)<0&&V.l(G)<0)return _(this.m()*V.m());const R=this.g.length+V.g.length,D=[];for(var O=0;O<2*R;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let C=0;C<V.g.length;C++){const N=this.i(O)>>>16,S=this.i(O)&65535,bt=V.i(C)>>>16,Ct=V.i(C)&65535;D[2*O+2*C]+=S*Ct,Tt(D,2*O+2*C),D[2*O+2*C+1]+=N*Ct,Tt(D,2*O+2*C+1),D[2*O+2*C+1]+=S*bt,Tt(D,2*O+2*C+1),D[2*O+2*C+2]+=N*bt,Tt(D,2*O+2*C+2)}for(V=0;V<R;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=R;V<2*R;V++)D[V]=0;return new d(D,0)};function Tt(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function mt(V,R){this.g=V,this.h=R}function qt(V,R){if(J(R))throw Error("division by zero");if(J(V))return new mt(b,b);if(et(V))return R=qt($(V),R),new mt($(R.g),$(R.h));if(et(R))return R=qt(V,$(R)),new mt($(R.g),R.h);if(V.g.length>30){if(et(V)||et(R))throw Error("slowDivide_ only works with positive integers.");for(var D=x,O=R;O.l(V)<=0;)D=Wt(D),O=Wt(O);var C=Vt(D,1),N=Vt(O,1);for(O=Vt(O,2),D=Vt(D,2);!J(O);){var S=N.add(O);S.l(V)<=0&&(C=C.add(D),N=S),O=Vt(O,1),D=Vt(D,1)}return R=ht(V,C.j(R)),new mt(C,R)}for(C=b;V.l(R)>=0;){for(D=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),N=_(D),S=N.j(R);et(S)||S.l(V)>0;)D-=O,N=_(D),S=N.j(R);J(N)&&(N=x),C=C.add(N),V=ht(V,S)}return new mt(C,V)}r.B=function(V){return qt(this,V).h},r.and=function(V){const R=Math.max(this.g.length,V.g.length),D=[];for(let O=0;O<R;O++)D[O]=this.i(O)&V.i(O);return new d(D,this.h&V.h)},r.or=function(V){const R=Math.max(this.g.length,V.g.length),D=[];for(let O=0;O<R;O++)D[O]=this.i(O)|V.i(O);return new d(D,this.h|V.h)},r.xor=function(V){const R=Math.max(this.g.length,V.g.length),D=[];for(let O=0;O<R;O++)D[O]=this.i(O)^V.i(O);return new d(D,this.h^V.h)};function Wt(V){const R=V.g.length+1,D=[];for(let O=0;O<R;O++)D[O]=V.i(O)<<1|V.i(O-1)>>>31;return new d(D,V.h)}function Vt(V,R){const D=R>>5;R%=32;const O=V.g.length-D,C=[];for(let N=0;N<O;N++)C[N]=R>0?V.i(N+D)>>>R|V.i(N+D+1)<<32-R:V.i(N+D);return new d(C,V.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ev=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ca=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nv,jl,iv,Qu,Yf,av,sv,rv;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,P){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[L].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const P=L.length||0;u.length=p+P;for(let tt=0;tt<P;tt++)u[p+tt]=L[tt]}else u.push(L)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=V;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,p){const T=mt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Vt=!1,V=new Tt,R=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(D)}};function D(){for(var u;u=ht();){try{u.h.call(u.g)}catch(p){$(p)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function bt(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(bt,C),bt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&bt.Z.h.call(this)},bt.prototype.h=function(){bt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function jt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function M(u){const m={};for(const p in u)m[p]=u[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let P=0;P<Y.length;P++)p=Y[P],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,p,T,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const tt=_t(u,m,T,L);return tt>-1?(m=u[tt],p||(m.fa=!1)):(m=new W(m,this.src,P,!!T,L),m.fa=p,u.push(m)),m};function dt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(lt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function _t(u,m,p,T){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return L}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,p,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)se(u,m[P],p,T,L);return null}return p=Or(p),u&&u[Ct]?u.J(m,p,y(T)?!!T.capture:!1,L):Ua(u,m,p,!1,T,L)}function Ua(u,m,p,T,L,P){if(!m)throw Error("Invalid event type");const tt=y(L)?!!L.capture:!!L;let At=La(u);if(At||(u[Nt]=At=new it(u)),p=At.add(m,p,T,tt,P),p.proxy)return p;if(T=Rs(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)N||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rs(){function u(p){return m.call(u.src,u.listener,p)}const m=xr;return u}function Cs(u,m,p,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Cs(u,m[P],p,T,L);else T=y(T)?!!T.capture:!!T,p=Or(p),u&&u[Ct]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],p=_t(m,p,T,L),p>-1&&(lt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=La(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_t(m,p,T,L)),(p=u>-1?m[u]:null)&&ws(p))}function ws(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ct])dt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=La(m))?(dt(p,u),p.h==0&&(p.src=null,m[Nt]=null)):lt(u)}}}function Yn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function xr(u,m){if(u.da)u=!0;else{m=new bt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&ws(u),u=p.call(T,m)}return u}function La(u){return u=u[Nt],u instanceof it?u:null}var Mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(u){return typeof u=="function"?u:(u[Mr]||(u[Mr]=function(m){return u.handleEvent(m)}),u[Mr])}function ye(){O.call(this),this.i=new it(this),this.M=this,this.G=null}b(ye,O),ye.prototype[Ct]=!0,ye.prototype.removeEventListener=function(u,m,p,T){Cs(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var L=m;m=new C(T,u),nt(m,L)}L=!0;let P,tt;if(p)for(tt=p.length-1;tt>=0;tt--)P=m.g=p[tt],L=Gi(P,T,!0,m)&&L;if(P=m.g=u,L=Gi(P,T,!0,m)&&L,L=Gi(P,T,!1,m)&&L,p)for(tt=0;tt<p.length;tt++)P=m.g=p[tt],L=Gi(P,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)lt(p[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ye.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Gi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const tt=m[P];if(tt&&!tt.da&&tt.capture==p){const At=tt.listener,de=tt.ha||tt.src;tt.fa&&dt(u.i,tt),L=At.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function wc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function uo(u){u.g=wc(()=>{u.g=null,u.i&&(u.i=!1,uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(u){O.call(this),this.h=u,this.g={}}b(ja,O);var zr=[];function Ur(u){pt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ws(m)},u),u.g={}}ja.prototype.N=function(){ja.Z.N.call(this),Ur(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=d.JSON.stringify,Dc=d.JSON.parse,co=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ho(){}function fo(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){C.call(this,"d")}b(je,C);function _n(){C.call(this,"c")}b(_n,C);var fe={},mo=null;function Ds(){return mo=mo||new ye}fe.Ia="serverreachability";function go(u){C.call(this,fe.Ia,u)}b(go,C);function Xn(u){const m=Ds();Ie(m,new go(m))}fe.STAT_EVENT="statevent";function ka(u,m){C.call(this,fe.STAT_EVENT,u),this.stat=m}b(ka,C);function _e(u){const m=Ds();Ie(m,new ka(m,u))}fe.Ja="timingevent";function Kn(u,m){C.call(this,fe.Ja,u),this.size=m}b(Kn,C);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Vc(u,m,p,T,L,P){u.info(function(){if(u.g)if(P){var tt="",At=P.split("&");for(let Pt=0;Pt<At.length;Pt++){var de=At[Pt].split("=");if(de.length>1){const re=de[0];de=de[1];const An=re.split("_");tt=An.length>=2&&An[1]=="type"?tt+(re+"="+de+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function po(u,m,p,T,L,P,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+P+" "+tt})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nc(u,p)+(T?" "+T:"")})}function Ba(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Nc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var p=P[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Qi(P)}catch{return m}}var qa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jr;function Pa(){}b(Pa,ho),Pa.prototype.g=function(){return new XMLHttpRequest},jr=new Pa;function Ti(u){return encodeURIComponent(String(u))}function yo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function zn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ve={},Oe={};function $n(u,m,p){u.M=1,u.A=Ha(Te(m)),u.u=p,u.R=!0,Vs(u,null)}function Vs(u,m){u.F=Date.now(),Wn(u),u.B=Te(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ms(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=xo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(zr[0]=L.toString()),L=zr);for(let P=0;P<L.length;P++){const tt=se(p,L[P],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),Vc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&kn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const At=kn(this.g),de=this.g.ya(),Pt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||At!=4||de==7||(de==8||Pt<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var p=Ic(this);if(this.o=m==200,po(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var P=T;break e}}P=null}if(u=P)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,_e(12),un(this),vn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<p.length;)if(re=vo(this,p),re==Oe){At==4&&(this.m=4,_e(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,re,null),ei(this,re);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||p.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Wr(tt),tt.P=!0,_e(11))}}else Jn(this.i,this.l,p,null),ei(this,p);At==4&&un(this),this.o&&!this.K&&(At==4?Do(this.j,this):(this.o=!1,Wn(this)))}else Si(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),un(this),vn(this)}}}catch{}};function Ic(u){if(!_o(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let p="";const T=m.length,L=kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,p+=u.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function _o(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?ve:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),u.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Ns(u,u.H)}function Ns(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ba(this.i,this.B),this.M!=2&&(Xn(),_e(17)),un(this),this.m=2,vn(this)):Ns(this,this.T-u)};function vn(u){u.j.I==0||u.K||Do(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ur(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ii(p.h,u))){if(!u.L&&ii(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)js(p),Wi(p);else break t;Za(p),_e(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(_(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((u.L||p.g==u)&&js(p),!S(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];const re=Pt[0];if(!(re<=p.K))if(p.K=re,Pt=Pt[1],p.I==2)if(Pt[0]=="c"){p.M=Pt[1],p.ba=Pt[2];const An=Pt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ci=Pt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const Bn=Pt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=u.g;if(qn){const Ja=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var P=T.h;P.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(qr(P,P.h),P.h=null))}if(T.G){const ks=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(T.wa=ks,Qt(T.J,T.G,ks))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var tt=u;if(T.na=Io(T,T.L?T.ba:null,T.W),tt.L){Pr(T.h,tt);var At=tt,de=T.O;de&&(At.H=de),At.D&&(ti(At),Wn(At)),T.g=tt}else Co(T);p.i.length>0&&oi(p)}else Pt[0]!="stop"&&Pt[0]!="close"||ui(p,7);else p.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?ui(p,7):Jr(p):Pt[0]!="noop"&&p.l&&p.l.qa(Pt),p.A=0)}}Xn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function kr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Br(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qr(u,m){u.g?u.g.add(m):u.h=m}function Pr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kr.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return G(u.i)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Is(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,P=null;T>=0?(L=u[p].substring(0,T),P=u[p].substring(T+1)):L=u[p],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.u),this.h=u.h,Gr(this,bo(u.i)),this.m=u.m):u&&(m=String(u).match(Eo))?(this.l=!1,ze(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Fi(this,m[4]),this.h=ai(m[5]||"",!0),Gr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ga(m,xs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ga(m,xs,!0),"@"),u.push(Ti(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ga(p,p.charAt(0)=="/"?Qr:To,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ga(p,Ao)),u.join("")},cn.prototype.resolve=function(u){const m=Te(this);let p=!!u.j;p?ze(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Fi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let tt=0;tt<L.length;){const At=L[tt++];At=="."?T&&tt==L.length&&P.push(""):At==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&tt==L.length&&P.push("")):(P.push(At),T=!0)}T=P.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?Gr(m,bo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Te(u){return new cn(u)}function ze(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Gr(u,m,p){m instanceof Xi?(u.i=m,Os(u.i,u.l)):(p||(m=Ga(m,Yi)),u.i=new Xi(m,u.l))}function Qt(u,m,p){u.i.set(m,p)}function Ha(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ga(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xs=/[#\/\?@]/g,To=/[#\?:]/g,Qr=/[#\?]/g,Yi=/[#\?@]/g,Ao=/#/g;function Xi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Is(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Xi.prototype,r.add=function(u,m){en(this),this.i=null,u=Ki(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function So(u,m){en(u),m=Ki(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fr(u,m){return en(u),m=Ki(u,m),u.g.has(m)}r.forEach=function(u,m){en(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Yr(u,m){en(u);let p=[];if(typeof m=="string")Fr(u,m)&&(p=p.concat(u.g.get(Ki(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return en(this),this.i=null,u=Ki(this,u),Fr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Yr(this,u),u.length>0?String(u[0]):m):m};function Ms(u,m,p){So(u,m),p.length>0&&(u.i=null,u.g.set(Ki(u,m),G(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Ti(p);p=Yr(this,p);for(let P=0;P<p.length;P++){let tt=L;p[P]!==""&&(tt+="="+Ti(p[P])),u.push(tt)}}return this.i=u.join("&")};function bo(u){const m=new Xi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ki(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Os(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(So(this,T),Ms(this,L,p))},u)),u.j=m}function Ln(u,m){const p=new On;if(d.Image){const T=new Image;T.onload=A(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,p,"TestLoadImage: error",!1,m,T),T.onabort=A(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xr(u,m){const p=new On,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Zi(){this.g=new co}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}b(si,ho),si.prototype.g=function(){return new Qa(this.i,this.h)};function Qa(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Qa,ye),r=Qa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ji(this):jn(this),this.readyState==3&&zs(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ji(this))},r.Na=function(u){this.g&&(this.response=u,Ji(this))},r.ga=function(){this.g&&Ji(this)};function Ji(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return pt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Fa(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof u=="string"?p!=null&&Ti(p):Qt(u,m,p))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Kt,ye);var ri=/^https?$/i,Kr=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jr.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){Ya(this,P);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Kr,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,tt]of p)this.g.setRequestHeader(P,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){Ya(this,P)}};function Ya(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zr(u),Ai(u)}function Zr(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xa(this):this.Xa())},r.Xa=function(){Xa(this)};function Xa(u){if(u.h&&typeof h<"u"){if(u.v&&kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),kn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let tt=String(u.D).match(Eo)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!ri.test(tt?tt.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Zr(u)}}finally{Ai(u)}}}}function Ai(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dc(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(u){const m={};u=(u.g&&kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var p=yo(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[L]||[];m[L]=P,P.push(p)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function $i(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kr(u&&u.concurrentRequestLimit),this.Ba=new Zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=$i.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){_e(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Io(this,null,this.W),oi(this)};function Jr(u){if(Us(u),u.I==3){var m=u.V++,p=Te(u.J);if(Qt(p,"SID",u.M),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Ka(u,p),m=new zn(u,u.j,m),m.M=2,m.A=Ha(Te(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=xo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}No(u)}function Wi(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function Us(u){Wi(u),u.v&&(d.clearTimeout(u.v),u.v=null),js(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Br(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||R(),Vt||(Wt(),Vt=!0),V.add(m,u),u.D=0}}function Ls(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),Vo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=M(P),nt(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ro(this,L,m),p=Te(this.J),Qt(p,"RID",u),Qt(p,"CVER",22),this.G&&Qt(p,"X-HTTP-Session-Id",this.G),Ka(this,p),P&&(this.R?m="headers="+Ti(Tn(P))+"&"+m:this.u&&Fa(p,this.u,P)),qr(this.h,L),this.Ra&&Qt(p,"TYPE","init"),this.S?(Qt(p,"$req",m),Qt(p,"SID","null"),L.U=!0,$n(L,p,null)):$n(L,p,m),this.I=2}}else this.I==3&&(u?$r(this,u):this.i.length==0||Br(this.h)||$r(this))};function $r(u,m){var p;m?p=m.l:p=u.V++;const T=Te(u.J);Qt(T,"SID",u.M),Qt(T,"RID",p),Qt(T,"AID",u.K),Ka(u,T),u.u&&u.o&&Fa(T,u.u,u.o),p=new zn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ro(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qr(u.h,p),$n(p,T,m)}function Ka(u,m){u.H&&pt(u.H,function(p,T){Qt(m,T,p)}),u.l&&pt({},function(p,T){Qt(m,T,p)})}function Ro(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const de=["count="+p];At==-1?p>0?(At=L[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let Pt=!0;for(let re=0;re<p;re++){var P=L[re].g;const An=L[re].map;if(P-=At,P<0)At=Math.max(0,L[re].g-100),Pt=!1;else try{P="req"+P+"_"||"";try{var tt=An instanceof Map?An:Object.entries(An);for(const[ci,Bn]of tt){let qn=Bn;y(Bn)&&(qn=Qi(Bn)),de.push(P+ci+"="+encodeURIComponent(qn))}}catch(ci){throw de.push(P+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(An)}}if(Pt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,p),m.G=u,tt}function Co(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||R(),Vt||(Wt(),Vt=!0),V.add(m,u),u.A=0}}function Za(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),Vo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),Wi(this),wo(this))};function Wr(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function wo(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ka(u,m),u.u&&u.o&&Fa(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ha(Te(m)),p.u=null,p.R=!0,Vs(p,u)}r.Va=function(){this.C!=null&&(this.C=null,Wi(this),Za(this),_e(19))};function js(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Do(u,m){var p=null;if(u.g==m){js(u),Wr(u),u.g=null;var T=2}else if(ii(u.h,m))p=m.G,Pr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ds(),Ie(T,new Kn(T,p)),oi(u)}else Co(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ls(u,m)||T==2&&Za(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Vo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),Ha(T),L?Ln(T.toString(),p):Xr(T.toString(),p)}else _e(2);u.I=0,u.l&&u.l.pa(m),No(u),Us(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function No(u){if(u.I=0,u.ja=[],u.l){const m=Hr(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Io(u,m,p){var T=p instanceof cn?Te(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new cn(null);T&&ze(P,T),m&&(P.g=m),L&&Fi(P,L),p&&(P.h=p),T=P}return p=u.G,m=u.wa,p&&m&&Qt(T,p,m),Qt(T,"VER",u.ka),Ka(u,T),T}function xo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new si({ab:p})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}r=Mo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ta(){}ta.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ye.call(this),this.g=new $i(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new bi(this)}b($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Jr(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Qi(u),u=p);m.i.push(new Ee(m.Ya++,u)),m.I==3&&oi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Jr(this.g),delete this.g,$e.Z.N.call(this)};function Oo(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Oo,je);function zo(){_n.call(this),this.status=1}b(zo,_n);function bi(u){this.g=u}b(bi,Mo),bi.prototype.ra=function(){Ie(this.g,"a")},bi.prototype.qa=function(u){Ie(this.g,new Oo(u))},bi.prototype.pa=function(u){Ie(this.g,new zo)},bi.prototype.oa=function(){Ie(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,rv=function(){return new ta},sv=function(){return Ds()},av=fe,Yf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,Qu=qa,Lr.COMPLETE="complete",iv=Lr,fo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,jl=fo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,nv=Kt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore",ky="4.9.3";class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Dr="12.7.0";const _s=new K_("@firebase/firestore");function gr(){return _s.logLevel}function at(r,...e){if(_s.logLevel<=Lt.DEBUG){const i=e.map(pd);_s.debug(`Firestore (${Dr}): ${r}`,...i)}}function Pi(r,...e){if(_s.logLevel<=Lt.ERROR){const i=e.map(pd);_s.error(`Firestore (${Dr}): ${r}`,...i)}}function Tr(r,...e){if(_s.logLevel<=Lt.WARN){const i=e.map(pd);_s.warn(`Firestore (${Dr}): ${r}`,...i)}}function pd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,lv(r,s,i)}function lv(r,e,i){let s=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Pi(s),new Error(s)}function Gt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||lv(e,o,s)}function Et(r,e){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends wr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class ov{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class aS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sS{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new wa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new wa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new ov(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class rS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new rS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,BA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new By(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uS(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Mt(r,e){return r<e?-1:r>e?1:0}function Xf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return Lf(o)===Lf(h)?Mt(o,h):Lf(o)?1:-1}return Mt(r.length,e.length)}const cS=55296,hS=57343;function Lf(r){const e=r.charCodeAt(0);return e>=cS&&e<=hS}function Ar(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const qy="__name__";class gi{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&gt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const s=gi.isNumericId(e),o=gi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class ee extends gi{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const fS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends gi{construct(e,i,s){return new Qe(e,i,s)}static isValidIdentifier(e){return fS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new Qe([qy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(h(),o++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ee.fromString(e))}static fromName(e){return new ct(ee.fromString(e).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ee(e.slice()))}}function uv(r,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dS(r,e,i,s){if(e===!0&&s===!0)throw new st(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Py(r){if(!ct.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hy(r){if(ct.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Da(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dc(r);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function De(r,e){const i={typeString:r};return e&&(i.value=e),i}function io(r,e){if(!cv(r))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}const Gy=-62135596800,Qy=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Qy);return new ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Gy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(io(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:De("string",ae._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ae(0,0))}static max(){return new yt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function mS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(s===1e9?new ae(i+1,0):new ae(i,s));return new Na(o,ct.empty(),e)}function gS(r){return new Na(r.readTime,r.key,Zl)}class Na{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Na(yt.min(),ct.empty(),Zl)}static max(){return new Na(yt.max(),ct.empty(),Zl)}}function pS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:Mt(r.largestBatchId,e.largestBatchId))}const yS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _S{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vr(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==yS)throw r;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function vS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nr(r){return r.name==="IndexedDbTransactionError"}class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;const _d=-1;function gc(r){return r==null}function ec(r){return r===0&&1/r==-1/0}function ES(r){return typeof r=="number"&&Number.isInteger(r)&&!ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hv="";function TS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Fy(e)),e=AS(r.get(i),e);return Fy(e)}function AS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case hv:i+="";break;default:i+=h}}return i}function Fy(r){return r+hv+""}function Yy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Es(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function fv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(e){return new Xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class Xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ar(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new dv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const SS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(Gt(!!r,39018),typeof r=="string"){let e=0;const i=SS.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xa(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}const mv="server_timestamp",gv="__type__",pv="__previous_value__",yv="__local_write_time__";function vd(r){return(r?.mapValue?.fields||{})[gv]?.stringValue===mv}function pc(r){const e=r.mapValue.fields[pv];return vd(e)?pc(e):e}function Jl(r){const e=Ia(r.mapValue.fields[yv].timestampValue);return new ae(e.seconds,e.nanos)}class bS{constructor(e,i,s,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const nc="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const _v="__type__",RS="__max__",qu={mapValue:{}},vv="__vector__",ic="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vd(r)?4:wS(r)?9007199254740991:CS(r)?10:11:gt(28295,{value:r})}function Ei(r,e){if(r===e)return!0;const i=Ma(r);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ia(o.timestampValue),y=Ia(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return xa(o.bytesValue).isEqual(xa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return pe(o.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return pe(o.integerValue)===pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=pe(o.doubleValue),y=pe(h.doubleValue);return d===y?ec(d)===ec(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Ar(r.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Yy(d)!==Yy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ei(d[v],y[v])))return!1;return!0})(r,e);default:return gt(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find((i=>Ei(i,e)))!==void 0}function Sr(r,e){if(r===e)return 0;const i=Ma(r),s=Ma(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=pe(h.integerValue||h.doubleValue),v=pe(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Ky(r.timestampValue,e.timestampValue);case 4:return Ky(Jl(r),Jl(e));case 5:return Xf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=xa(h),v=xa(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Mt(y[_],v[_]);if(A!==0)return A}return Mt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Mt(pe(h.latitude),pe(d.latitude));return y!==0?y:Mt(pe(h.longitude),pe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Zy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[ic]?.arrayValue,A=v[ic]?.arrayValue,b=Mt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Zy(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const x=Xf(v[b],A[b]);if(x!==0)return x;const G=Sr(y[v[b]],_[A[b]]);if(G!==0)return G}return Mt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function Ky(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Mt(r,e);const i=Ia(r),s=Ia(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function Zy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Sr(i[o],s[o]);if(h)return h}return Mt(i.length,s.length)}function br(r){return Kf(r)}function Kf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ia(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return xa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Kf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Kf(i.fields[d])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function Fu(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Fu(e):16;case 5:return 2*r.stringValue.length;case 6:return xa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Fu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((h,d)=>{o+=h.length+Fu(d)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function Jy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Zf(r){return!!r&&"integerValue"in r}function Ed(r){return!!r&&"arrayValue"in r}function $y(r){return!!r&&"nullValue"in r}function Wy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yu(r){return!!r&&"mapValue"in r}function CS(r){return(r?.mapValue?.fields||{})[_v]?.stringValue===vv}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Hl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(r.arrayValue.values[i]);return e}return{...r}}function wS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===RS}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Qe.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=y.popLast()}d?s[y.lastSegment()]=Hl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Es(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new In(Hl(this.value))}}function Ev(r){const e=[];return Es(r.fields,((i,s)=>{const o=new Qe([i]);if(Yu(s)){const h=Ev(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Qn(e)}class Ze{constructor(e,i,s,o,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ze(e,0,yt.min(),yt.min(),yt.min(),In.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,yt.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,yt.min(),yt.min(),In.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,yt.min(),yt.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ac{constructor(e,i){this.position=e,this.inclusive=i}}function t_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=Sr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function e_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ei(r.position[i],e.position[i]))return!1;return!0}class sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function DS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Tv{}class we extends Tv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new NS(e,i,s):i==="array-contains"?new MS(e,s):i==="in"?new OS(e,s):i==="not-in"?new zS(e,s):i==="array-contains-any"?new US(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new IS(e,s):new xS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Sr(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(Sr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Tv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return Av(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Av(r){return r.op==="and"}function Sv(r){return VS(r)&&Av(r)}function VS(r){for(const e of r.filters)if(e instanceof Fn)return!1;return!0}function Jf(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+br(r.value);if(Sv(r))return r.filters.map((e=>Jf(e))).join(",");{const e=r.filters.map((i=>Jf(i))).join(",");return`${r.op}(${e})`}}function bv(r,e){return r instanceof we?(function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)})(r,e):r instanceof Fn?(function(s,o){return o instanceof Fn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,y)=>h&&bv(d,o.filters[y])),!0):!1})(r,e):void gt(19439)}function Rv(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${br(i.value)}`})(r):r instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Rv).join(" ,")+"}"})(r):"Filter"}class NS extends we{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class IS extends we{constructor(e,i){super(e,"in",i),this.keys=Cv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class xS extends we{constructor(e,i){super(e,"not-in",i),this.keys=Cv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Cv(r,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class MS extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&Wl(i.arrayValue,this.value)}}class OS extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class zS extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class US extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}class LS{constructor(e,i=null,s=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function n_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new LS(r,e,i,s,o,h,d)}function Td(r){const e=Et(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Jf(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>br(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>br(s))).join(",")),e.Te=i}return e.Te}function Ad(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!DS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!bv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!e_(r.startAt,e.startAt)&&e_(r.endAt,e.endAt)}function $f(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ao{constructor(e,i=null,s=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jS(r,e,i,s,o,h,d,y){return new ao(r,e,i,s,o,h,d,y)}function Sd(r){return new ao(r)}function i_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wv(r){return r.collectionGroup!==null}function Gl(r){const e=Et(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Me(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new sc(h,s))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new sc(Qe.keyField(),s))}return e.Ie}function pi(r){const e=Et(r);return e.Ee||(e.Ee=kS(e,Gl(r))),e.Ee}function kS(r,e){if(r.limitType==="F")return n_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new sc(o.field,h)}));const i=r.endAt?new ac(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ac(r.startAt.position,r.startAt.inclusive):null;return n_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Wf(r,e){const i=r.filters.concat([e]);return new ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function td(r,e,i){return new ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function yc(r,e){return Ad(pi(r),pi(e))&&r.limitType===e.limitType}function Dv(r){return`${Td(pi(r))}|lt:${r.limitType}`}function pr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Rv(o))).join(", ")}]`),gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>br(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>br(o))).join(",")),`Target(${s})`})(pi(r))}; limitType=${r.limitType})`}function _c(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of Gl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,v){const _=t_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(d,y,v){const _=t_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Gl(s),o))})(r,e)}function BS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vv(r){return(e,i)=>{let s=!1;for(const o of Gl(r)){const h=qS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function qS(r,e,i){const s=r.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Sr(v,_):gt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class Ts{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return fv(this.inner)}size(){return this.innerSize}}const PS=new oe(ct.comparator);function Hi(){return PS}const Nv=new oe(ct.comparator);function kl(...r){let e=Nv;for(const i of r)e=e.insert(i.key,i);return e}function Iv(r){let e=Nv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ms(){return Ql()}function xv(){return Ql()}function Ql(){return new Ts((r=>r.toString()),((r,e)=>r.isEqual(e)))}const HS=new oe(ct.comparator),GS=new Me(ct.comparator);function Ot(...r){let e=GS;for(const i of r)e=e.add(i);return e}const QS=new Me(Mt);function FS(){return QS}function bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function Mv(r){return{integerValue:""+r}}function YS(r,e){return ES(e)?Mv(e):bd(r,e)}class vc{constructor(){this._=void 0}}function XS(r,e,i){return r instanceof rc?(function(o,h){const d={fields:{[gv]:{stringValue:mv},[yv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&vd(h)&&(h=pc(h)),h&&(d.fields[pv]=h),{mapValue:d}})(i,e):r instanceof to?zv(r,e):r instanceof eo?Uv(r,e):(function(o,h){const d=Ov(o,h),y=a_(d)+a_(o.Ae);return Zf(d)&&Zf(o.Ae)?Mv(y):bd(o.serializer,y)})(r,e)}function KS(r,e,i){return r instanceof to?zv(r,e):r instanceof eo?Uv(r,e):i}function Ov(r,e){return r instanceof lc?(function(s){return Zf(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class rc extends vc{}class to extends vc{constructor(e){super(),this.elements=e}}function zv(r,e){const i=Lv(e);for(const s of r.elements)i.some((o=>Ei(o,s)))||i.push(s);return{arrayValue:{values:i}}}class eo extends vc{constructor(e){super(),this.elements=e}}function Uv(r,e){let i=Lv(e);for(const s of r.elements)i=i.filter((o=>!Ei(o,s)));return{arrayValue:{values:i}}}class lc extends vc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function a_(r){return pe(r.integerValue||r.doubleValue)}function Lv(r){return Ed(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ZS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof to&&o instanceof to||s instanceof eo&&o instanceof eo?Ar(s.elements,o.elements,Ei):s instanceof lc&&o instanceof lc?Ei(s.Ae,o.Ae):s instanceof rc&&o instanceof rc})(r.transform,e.transform)}class JS{constructor(e,i){this.version=e,this.transformResults=i}}class Bi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ec{}function jv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bv(r.key,Bi.none()):new so(r.key,r.data,Bi.none());{const i=r.data,s=In.empty();let o=new Me(Qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new As(r.key,s,new Qn(o.toArray()),Bi.none())}}function $S(r,e,i){r instanceof so?(function(o,h,d){const y=o.value.clone(),v=r_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof As?(function(o,h,d){if(!Xu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=r_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(kv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(r,e,i,s){return r instanceof so?(function(h,d,y,v){if(!Xu(h.precondition,d))return y;const _=h.value.clone(),A=l_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof As?(function(h,d,y,v){if(!Xu(h.precondition,d))return y;const _=l_(h.fieldTransforms,v,d),A=d.data;return A.setAll(kv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(h,d,y){return Xu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function WS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Ov(s.transform,o||null);h!=null&&(i===null&&(i=In.empty()),i.set(s.field,h))}return i||null}function s_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ar(s,o,((h,d)=>ZS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class so extends Ec{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Ec{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function kv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function r_(r,e,i){const s=new Map;Gt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);s.set(h.field,KS(d,y,i[o]))}return s}function l_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,XS(h,d,e))}return s}class Bv extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t2 extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class e2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&$S(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=xv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=jv(d,y);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&Ar(this.mutations,e.mutations,((i,s)=>s_(i,s)))&&Ar(this.baseMutations,e.baseMutations,((i,s)=>s_(i,s)))}}class Rd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return HS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Rd(e,i,s,o)}}class n2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ce,Ut;function a2(r){switch(r){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function qv(r){if(r===void 0)return Pi("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ce.OK:return K.OK;case Ce.CANCELLED:return K.CANCELLED;case Ce.UNKNOWN:return K.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return K.INTERNAL;case Ce.UNAVAILABLE:return K.UNAVAILABLE;case Ce.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ce.NOT_FOUND:return K.NOT_FOUND;case Ce.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ce.ABORTED:return K.ABORTED;case Ce.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ce.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=Ce||(Ce={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function s2(){return new TextEncoder}const r2=new Ca([4294967295,4294967295],0);function o_(r){const e=s2().encode(r),i=new ev;return i.update(e),new Uint8Array(i.digest())}function u_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ca([i,s],0),new Ca([o,h],0)]}class Cd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ca.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ca.fromNumber(s)));return o.compare(r2)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=o_(e),[s,o]=u_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Cd(h,o,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=o_(e),[s,o]=u_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ro.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Tc(yt.min(),o,new oe(Mt),Hi(),Ot())}}class ro{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ro(s,i,Ot(),Ot(),Ot())}}class Ku{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Pv{constructor(e,i){this.targetId=e,this.Ce=i}}class Hv{constructor(e,i,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class c_{constructor(){this.ve=0,this.Fe=h_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:h})}})),new ro(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=Pu(),this.He=Pu(),this.Ye=new oe(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if($f(h))if(s===0){const d=new ct(h.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=xa(s).toUint8Array()}catch(v){if(v instanceof dv)return Tr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Cd(d,o,h)}catch(v){return Tr(v instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&$f(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Ot();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Tc(e,i,this.Ye,this.je,s);return this.je=Hi(),this.Je=Pu(),this.He=Pu(),this.Ye=new oe(Mt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new c_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new oe(ct.comparator)}function h_(){return new oe(ct.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},u2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class h2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ed(r,e){return r.useProto3Json||gc(e)?e:{value:e}}function oc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function f2(r,e){return oc(r,e.toTimestamp())}function yi(r){return Gt(!!r,49232),yt.fromTimestamp((function(i){const s=Ia(i);return new ae(s.seconds,s.nanos)})(r))}function wd(r,e){return nd(r,e).canonicalString()}function nd(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Qv(r){const e=ee.fromString(r);return Gt(Zv(e),10190,{key:e.toString()}),e}function id(r,e){return wd(r.databaseId,e.path)}function jf(r,e){const i=Qv(e);if(i.get(1)!==r.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(Yv(i))}function Fv(r,e){return wd(r.databaseId,e)}function d2(r){const e=Qv(r);return e.length===4?ee.emptyPath():Yv(e)}function ad(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Yv(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function f_(r,e,i){return{name:id(r,e),fields:i.value.mapValue.fields}}function m2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:qv(_.code);return new st(A,_.message||"")})(d);i=new Hv(s,o,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jf(r,s.document.name),h=yi(s.document.updateTime),d=s.document.createTime?yi(s.document.createTime):yt.min(),y=new In({mapValue:{fields:s.document.fields}}),v=Ze.newFoundDocument(o,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Ku(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jf(r,s.document),h=s.readTime?yi(s.readTime):yt.min(),d=Ze.newNoDocument(o,h),y=s.removedTargetIds||[];i=new Ku([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jf(r,s.document),h=s.removedTargetIds||[];i=new Ku([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new i2(o,h),y=s.targetId;i=new Pv(y,d)}}return i}function g2(r,e){let i;if(e instanceof so)i={update:f_(r,e.key,e.value)};else if(e instanceof Bv)i={delete:id(r,e.key)};else if(e instanceof As)i={update:f_(r,e.key,e.data),updateMask:b2(e.fieldMask)};else{if(!(e instanceof t2))return gt(16599,{Vt:e.type});i={verify:id(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof to)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof lc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:f2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(r,e.precondition)),i}function p2(r,e){return r&&r.length>0?(Gt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?yi(o.updateTime):yi(h);return d.isEqual(yt.min())&&(d=yi(h)),new JS(d,o.transformResults||[])})(i,e)))):[]}function y2(r,e){return{documents:[Fv(r,e.path)]}}function _2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Fv(r,o);const h=(function(_){if(_.length!==0)return Kv(Fn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:yr(x.field),direction:T2(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ed(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function v2(r){let e=d2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const x=Xv(b);return x instanceof Fn&&Sv(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(J){return new sc(_r(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let x;return x=typeof b=="object"?b.value:b,gc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,G=b.values||[];return new ac(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,G=b.values||[];return new ac(G,x)})(i.endAt)),jS(e,o,d,h,y,"F",v,_)}function E2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Xv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=_r(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_r(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_r(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_r(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(_r(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((s=>Xv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function T2(r){return o2[r]}function A2(r){return u2[r]}function S2(r){return c2[r]}function yr(r){return{fieldPath:r.canonicalString()}}function _r(r){return Qe.fromServerFormat(r.fieldPath)}function Kv(r){return r instanceof we?(function(i){if(i.op==="=="){if(Wy(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NAN"}};if($y(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wy(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NAN"}};if($y(i.value))return{unaryFilter:{field:yr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(i.field),op:A2(i.op),value:i.value}}})(r):r instanceof Fn?(function(i){const s=i.getFilters().map((o=>Kv(o)));return s.length===1?s[0]:{compositeFilter:{op:S2(i.op),filters:s}}})(r):gt(54877,{filter:r})}function b2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Zv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Sa{constructor(e,i,s,o,h=yt.min(),d=yt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R2{constructor(e){this.yt=e}}function C2(r){const e=v2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?td(e,e.limit,"L"):e}class w2{constructor(){this.Cn=new D2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Na.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class D2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(ee.comparator)).toArray()}}const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Jv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Rr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rr(0)}static cr(){return new Rr(-1)}}const m_="LruGarbageCollector",V2=1048576;function g_([r,e],[i,s]){const o=Mt(r,i);return o===0?Mt(e,s):o}class N2{constructor(e){this.Ir=e,this.buffer=new Me(g_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();g_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nr(i)?at(m_,"Ignoring IndexedDB error during garbage collection: ",i):await Vr(i)}await this.Vr(3e5)}))}}class x2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(mc.ce);const s=new N2(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(d_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),gr()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function M2(r,e){return new x2(r,e)}class O2{constructor(){this.changes=new Ts((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class z2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class U2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Fl(s.mutation,o,Qn.empty(),ae.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ot()){const o=ms();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=kl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ms();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ot())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,o){let h=Hi();const d=Ql(),y=(function(){return Ql()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof As)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new z2(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Ql();let o=new oe(((d,y)=>d-y)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Qn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(o.get(y.batchId)||Ot()).add(v);o=o.insert(y.batchId,b)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=xv();A.forEach((x=>{if(!h.has(x)){const G=jv(i.get(x),s.get(x));G!==null&&b.set(x,G),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(ms());let y=Zl,v=h;return d.next((_=>Z.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Ot()))).next((A=>({batchId:y,changes:Iv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(b,x){return new ao(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let y=kl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,Qn.empty(),ae.now()),_c(i,_)&&(y=y.insert(v,_))})),y}))}}class L2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:C2(o.bundledQuery),readTime:yi(o.readTime)}})(i)),Z.resolve()}}class j2{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ms();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=ms(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ms(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=ms(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new n2(i,s));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}class k2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Dd{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ct(new ee([])),s=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new ee([])),s=new Le(i,e),o=new Le(i,e+1);let h=Ot();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}class B2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new e2(h,i,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Le(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?_d:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(Mt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Le(new ct(h),0);let y=new Me(Mt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class q2{constructor(e){this.ri=e,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=Hi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Hi();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||pS(gS(A),s)<=0||(o.has(A.key)||_c(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){gt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new P2(this)}getSize(e){return Z.resolve(this.size)}}class P2 extends O2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class H2{constructor(e){this.persistence=e,this.si=new Ts((i=>Td(i)),Ad),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dd,this.targetCount=0,this.ai=Rr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class $v{constructor(e,i){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new k2,this.referenceDelegate=e(this),this.Pi=new H2(this),this.indexManager=new w2,this.remoteDocumentCache=(function(o){return new q2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new R2(i),this.Ii=new L2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new j2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new B2(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new G2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class G2 extends _S{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Ri=new Dd,this.Vi=null}static mi(e){return new Vd(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=ct.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class uc{constructor(e,i){this.persistence=e,this.pi=new Ts((s=>TS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=M2(this,i)}static mi(e,i){return new uc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Nd(e,i.fromCache,s,o)}}class Q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LT()?8:vS(zT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Q2;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(gr()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",pr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(gr()<=Lt.DEBUG&&at("QueryEngine","Query:",pr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(gr()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",pr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):Z.resolve())}ys(e,i){if(i_(i))return Z.resolve(null);let s=pi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=td(i,null,"F"),s=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,td(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return i_(i)||o.isEqual(yt.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?Z.resolve(null):(gr()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pr(i)),this.vs(e,d,i,mS(o,Zl)).next((y=>y)))}))}Ds(e,i){let s=new Me(Vv(e));return i.forEach(((o,h)=>{_c(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return gr()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",pr(i)),this.ps.getDocumentsMatchingQuery(e,i,Na.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Id="LocalStore",Y2=3e8;class X2{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Mt),this.xs=new Ts((h=>Td(h)),Ad),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function K2(r,e,i,s){return new X2(r,e,i,s)}async function Wv(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Z2(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,x=b.keys();let G=Z.resolve();return x.forEach((J=>{G=G.next((()=>A.getEntry(v,J))).next((et=>{const $=_.docVersions.get(J);Gt($!==null,48541),et.version.compareTo($)<0&&(b.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Ot();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function t0(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function J2(r,e){const i=Et(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const x=o.get(b);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let G=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?G=G.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),o=o.insert(b,G),(function(et,$,ht){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=Y2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(x,G,A)&&y.push(i.Pi.updateTargetData(h,G))}));let v=Hi(),_=Ot();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push($2(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function $2(r,e,i){let s=Ot(),o=Ot();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Hi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):at(Id,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function W2(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tb(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Sa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function sd(r,e,i){const s=Et(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Nr(d))throw d;at(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function p_(r,e,i){const s=Et(r);let o=yt.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=Et(v),x=b.xs.get(A);return x!==void 0?Z.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(s,d,pi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Ot()))).next((y=>(eb(s,BS(e),y),{documents:y,Qs:h})))))}function eb(r,e,i){let s=r.Os.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class y_{constructor(){this.activeTargetIds=FS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nb{constructor(){this.Mo=new y_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ib{Oo(e){}shutdown(){}}const __="ConnectivityMonitor";class v_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(__,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hu=null;function rd(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}const kf="RestConnection",ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=rd(),y=this.zo(e,i.toUriEncodedString());at(kf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=md(_);return this.Jo(e,y,v,s,A).then((b=>(at(kf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Tr(kf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=ab[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class rb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class lb extends sb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=rd();return new Promise(((y,v)=>{const _=new nv;_.setWithCredentials(!0),_.listenOnce(iv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qu.NO_ERROR:const b=_.getResponseJson();at(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case Qu.TIMEOUT:at(Xe,`RPC '${e}' ${d} timed out`),v(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const x=_.getStatus();if(at(Xe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const et=(function(ht){const Tt=ht.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Tt)>=0?Tt:K.UNKNOWN})(J.status);v(new st(et,J.message))}else v(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Xe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Xe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=rd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rv(),y=sv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");at(Xe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let x=!1,G=!1;const J=new rb({Yo:$=>{G?at(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(x||(at(Xe,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),at(Xe,`RPC '${e}' stream ${o} sending:`,$),b.send($))},Zo:()=>b.close()}),et=($,ht,Tt)=>{$.listen(ht,(mt=>{try{Tt(mt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return et(b,jl.EventType.OPEN,(()=>{G||(at(Xe,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),et(b,jl.EventType.CLOSE,(()=>{G||(G=!0,at(Xe,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(b))})),et(b,jl.EventType.ERROR,($=>{G||(G=!0,Tr(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))})),et(b,jl.EventType.MESSAGE,($=>{if(!G){const ht=$.data[0];Gt(!!ht,16349);const Tt=ht,mt=Tt?.error||Tt[0]?.error;if(mt){at(Xe,`RPC '${e}' stream ${o} received error:`,mt);const qt=mt.status;let Wt=(function(R){const D=Ce[R];if(D!==void 0)return qv(D)})(qt),Vt=mt.message;Wt===void 0&&(Wt=K.INTERNAL,Vt="Unknown error status: "+qt+" with message "+mt.message),G=!0,J.a_(new st(Wt,Vt)),b.close()}else at(Xe,`RPC '${e}' stream ${o} received:`,ht),J.u_(ht)}})),et(y,av.STAT_EVENT,($=>{$.stat===Yf.PROXY?at(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Yf.NOPROXY&&at(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Bf(){return typeof document<"u"?document:null}function Ac(r){return new h2(r,!0)}class e0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E_="PersistentStream";class n0{constructor(e,i,s,o,h,d,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new st(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ob extends n0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=m2(this.serializer,e),s=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?yi(d.readTime):yt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ad(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=$f(v)?{documents:y2(h,v)}:{query:_2(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Gv(h,d.resumeToken);const _=ed(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=oc(h,d.snapshotVersion.toTimestamp());const _=ed(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=E2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.q_(i)}}class ub extends n0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=p2(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>g2(this.serializer,s)))};this.q_(i)}}class cb{}class hb extends cb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,nd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,nd(i,s),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vs="RemoteStore";class db{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ss(this)&&(at(vs,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await lo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sc(_)})(this))}))})),this.Ra=new fb(s,o)}}async function Sc(r){if(Ss(r))for(const e of r.da)await e(!0)}async function lo(r){for(const e of r.da)await e(!1)}function i0(r,e){const i=Et(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zd(i)?Od(i):Ir(i).O_()&&Md(i,e))}function xd(r,e){const i=Et(r),s=Ir(i);i.Ia.delete(e),s.O_()&&a0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ss(i)&&i.Ra.set("Unknown"))}function Md(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ir(r).Y_(e)}function a0(r,e){r.Va.Ue(e),Ir(r).Z_(e)}function Od(r){r.Va=new l2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ir(r).start(),r.Ra.ua()}function zd(r){return Ss(r)&&!Ir(r).x_()&&r.Ia.size>0}function Ss(r){return Et(r).Ea.size===0}function s0(r){r.Va=void 0}async function mb(r){r.Ra.set("Online")}async function gb(r){r.Ia.forEach(((e,i)=>{Md(r,e)}))}async function pb(r,e){s0(r),zd(r)?(r.Ra.ha(e),Od(r)):r.Ra.set("Unknown")}async function yb(r,e,i){if(r.Ra.set("Online"),e instanceof Hv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(s){at(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cc(r,s)}else if(e instanceof Ku?r.Va.Ze(e):e instanceof Pv?r.Va.st(e):r.Va.tt(e),!i.isEqual(yt.min()))try{const s=await t0(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),a0(h,v);const b=new Sa(A.target,v,_,A.sequenceNumber);Md(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){at(vs,"Failed to raise snapshot:",s),await cc(r,s)}}async function cc(r,e,i){if(!Nr(e))throw e;r.Ea.add(1),await lo(r),r.Ra.set("Offline"),i||(i=()=>t0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(vs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sc(r)}))}function r0(r,e){return e().catch((i=>cc(r,i,e)))}async function bc(r){const e=Et(r),i=Oa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_d;for(;_b(e);)try{const o=await W2(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,vb(e,o)}catch(o){await cc(e,o)}l0(e)&&o0(e)}function _b(r){return Ss(r)&&r.Ta.length<10}function vb(r,e){r.Ta.push(e);const i=Oa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function l0(r){return Ss(r)&&!Oa(r).x_()&&r.Ta.length>0}function o0(r){Oa(r).start()}async function Eb(r){Oa(r).ra()}async function Tb(r){const e=Oa(r);for(const i of r.Ta)e.ea(i.mutations)}async function Ab(r,e,i){const s=r.Ta.shift(),o=Rd.from(s,e,i);await r0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await bc(r)}async function Sb(r,e){e&&Oa(r).X_&&await(async function(s,o){if((function(d){return a2(d)&&d!==K.ABORTED})(o.code)){const h=s.Ta.shift();Oa(s).B_(),await r0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await bc(s)}})(r,e),l0(r)&&o0(r)}async function T_(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),at(vs,"RemoteStore received new credentials");const s=Ss(i);i.Ea.add(3),await lo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sc(i)}async function bb(r,e){const i=Et(r);e?(i.Ea.delete(2),await Sc(i)):e||(i.Ea.add(2),await lo(i),i.Ra.set("Unknown"))}function Ir(r){return r.ma||(r.ma=(function(i,s,o){const h=Et(i);return h.sa(),new ob(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:mb.bind(null,r),t_:gb.bind(null,r),r_:pb.bind(null,r),H_:yb.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zd(r)?Od(r):r.Ra.set("Unknown")):(await r.ma.stop(),s0(r))}))),r.ma}function Oa(r){return r.fa||(r.fa=(function(i,s,o){const h=Et(i);return h.sa(),new ub(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Eb.bind(null,r),r_:Sb.bind(null,r),ta:Tb.bind(null,r),na:Ab.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await bc(r)):(await r.fa.stop(),r.Ta.length>0&&(at(vs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ud{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,y=new Ud(e,i,d,o,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),Nr(r))return new st(K.UNAVAILABLE,`${e}: ${r}`);throw r}class Er{static emptySet(e){return new Er(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=kl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Er;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class A_{constructor(){this.ga=new oe(ct.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Cr{constructor(e,i,s,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Cr(e,i,Er.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class Rb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Cb{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Et(i),h=o.queries;o.queries=S_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new st(K.ABORTED,"Firestore shutting down"))}}function S_(){return new Ts((r=>Dv(r)),yc)}async function u0(r,e){const i=Et(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new Rb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Ld(d,`Initialization of query '${pr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&jd(i)}async function c0(r,e){const i=Et(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function wb(r,e){const i=Et(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&jd(i)}function Db(r,e,i){const s=Et(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function jd(r){r.Ca.forEach((e=>{e.next()}))}var ld,b_;(b_=ld||(ld={})).Ma="default",b_.Cache="cache";class h0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Cr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ld.Cache}}class f0{constructor(e){this.key=e}}class d0{constructor(e){this.key=e}}class Vb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=Vv(e),this.tu=new Er(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new A_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,b)=>{const x=o.get(A),G=_c(this.query,b)?b:null,J=!!x&&this.mutatedKeys.has(x.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;x&&G?x.data.isEqual(G.data)?J!==et&&(s.track({type:3,doc:G}),$=!0):this.su(x,G)||(s.track({type:2,doc:G}),$=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(y=!0)):!x&&G?(s.track({type:0,doc:G}),$=!0):x&&!G&&(s.track({type:1,doc:x}),$=!0,(v||_)&&(y=!0)),$&&(G?(d=d.add(G),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(G,J){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return et(G)-et(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Cr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new d0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new f0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kd="SyncEngine";class Nb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Ib{constructor(e){this.key=e,this.hu=!1}}class xb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ts((y=>Dv(y)),yc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new Dd,this.Vu={},this.mu=new Map,this.fu=Rr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mb(r,e,i=!0){const s=v0(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await m0(s,e,i,!0),o}async function Ob(r,e){const i=v0(r);await m0(i,e,!0,!1)}async function m0(r,e,i,s){const o=await tb(r.localStore,pi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await zb(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&i0(r.remoteStore,o),y}async function zb(r,e,i,s,o){r.pu=(b,x,G)=>(async function(et,$,ht,Tt){let mt=$.view.ru(ht);mt.Cs&&(mt=await p_(et.localStore,$.query,!1).then((({documents:V})=>$.view.ru(V,mt))));const qt=Tt&&Tt.targetChanges.get($.targetId),Wt=Tt&&Tt.targetMismatches.get($.targetId)!=null,Vt=$.view.applyChanges(mt,et.isPrimaryClient,qt,Wt);return C_(et,$.targetId,Vt.au),Vt.snapshot})(r,b,x,G);const h=await p_(r.localStore,e,!0),d=new Vb(e,h.Qs),y=d.ru(h.documents),v=ro.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,v);C_(r,i,_.au);const A=new Nb(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Ub(r,e,i){const s=Et(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!yc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&xd(s.remoteStore,o.targetId),od(s,o.targetId)})).catch(Vr)):(od(s,o.targetId),await sd(s.localStore,o.targetId,!0))}async function Lb(r,e){const i=Et(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),xd(i.remoteStore,s.targetId))}async function jb(r,e,i){const s=Qb(r);try{const o=await(function(d,y){const v=Et(d),_=ae.now(),A=y.reduce(((G,J)=>G.add(J.key)),Ot());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let J=Hi(),et=Ot();return v.Ns.getEntries(G,A).next(($=>{J=$,J.forEach(((ht,Tt)=>{Tt.isValidDocument()||(et=et.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,J))).next(($=>{b=$;const ht=[];for(const Tt of y){const mt=WS(Tt,b.get(Tt.key).overlayedDocument);mt!=null&&ht.push(new As(Tt.key,mt,Ev(mt.value.mapValue),Bi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,ht,y)})).next(($=>{x=$;const ht=$.applyToLocalDocumentSet(b,et);return v.documentOverlayCache.saveOverlays(G,$.batchId,ht)}))})).then((()=>({batchId:x.batchId,changes:Iv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Mt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await oo(s,o.changes),await bc(s.remoteStore)}catch(o){const h=Ld(o,"Failed to persist write");i.reject(h)}}async function g0(r,e){const i=Et(r);try{const s=await J2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await oo(i,s,e)}catch(s){await Vr(s)}}function R_(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Et(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(y)&&(_=!0)})),_&&jd(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kb(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new oe(ct.comparator);d=d.insert(h,Ze.newNoDocument(h,yt.min()));const y=Ot().add(h),v=new Tc(yt.min(),new Map,new oe(Mt),d,y);await g0(s,v),s.du=s.du.remove(h),s.Au.delete(e),Bd(s)}else await sd(s.localStore,e,!1).then((()=>od(s,e,i))).catch(Vr)}async function Bb(r,e){const i=Et(r),s=e.batch.batchId;try{const o=await Z2(i.localStore,e);y0(i,s,null),p0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await oo(i,o)}catch(o){await Vr(o)}}async function qb(r,e,i){const s=Et(r);try{const o=await(function(d,y){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Gt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);y0(s,e,i),p0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await oo(s,o)}catch(o){await Vr(o)}}function p0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function y0(r,e,i){const s=Et(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||_0(r,s)}))}function _0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(xd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Bd(r))}function C_(r,e,i){for(const s of i)s instanceof f0?(r.Ru.addReference(s.key,e),Pb(r,s)):s instanceof d0?(at(kd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||_0(r,s.key)):gt(19791,{wu:s})}function Pb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(at(kd,"New document in limbo: "+i),r.Eu.add(s),Bd(r))}function Bd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ct(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new Ib(i)),r.du=r.du.insert(i,s),i0(r.remoteStore,new Sa(pi(Sd(i.path)),s,"TargetPurposeLimboResolution",mc.ce))}}async function oo(r,e,i){const s=Et(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Nd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(x=>Z.forEach(x.Es,(G=>A.persistence.referenceDelegate.addReference(b,x.targetId,G))).next((()=>Z.forEach(x.ds,(G=>A.persistence.referenceDelegate.removeReference(b,x.targetId,G)))))))))}catch(b){if(!Nr(b))throw b;at(Id,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const G=A.Ms.get(x),J=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,et)}}})(s.localStore,h))}async function Hb(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){at(kd,"User change. New user:",e.toKey());const s=await Wv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new st(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oo(i,s.Ls)}}function Gb(r,e){const i=Et(r),s=i.Au.get(e);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function v0(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=g0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kb.bind(null,e),e.Pu.H_=wb.bind(null,e.eventManager),e.Pu.yu=Db.bind(null,e.eventManager),e}function Qb(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qb.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return K2(this.persistence,new F2,e.initialUser,this.serializer)}Cu(e){return new $v(Vd.mi,this.serializer)}Du(e){return new nb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class Fb extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Gt(this.persistence.referenceDelegate instanceof uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new I2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new $v((s=>uc.mi(s,i)),this.serializer)}}class ud{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>R_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hb.bind(null,this.syncEngine),await bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Cb})()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),s=(function(h){return new lb(h)})(e.databaseInfo);return(function(h,d,y,v){return new hb(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,y){return new db(s,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>R_(this.syncEngine,i,0)),(function(){return v_.v()?new v_:new ib})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const b=new xb(o,h,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);at(vs,"RemoteStore shutting down."),s.Ea.add(5),await lo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ud.provider={build:()=>new ud};class E0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const za="FirestoreClient";class Yb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{at(za,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(za,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ld(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qf(r,e){r.asyncQueue.verifyOperationInProgress(),at(za,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Wv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function w_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Xb(r);at(za,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>T_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>T_(e.remoteStore,o))),r._onlineComponents=e}async function Xb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(za,"Using user provided OfflineComponentProvider");try{await qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Tr("Error using user provided cache. Falling back to memory cache: "+i),await qf(r,new hc)}}else at(za,"Using default OfflineComponentProvider"),await qf(r,new Fb(void 0));return r._offlineComponents}async function T0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(za,"Using user provided OnlineComponentProvider"),await w_(r,r._uninitializedComponentsProvider._online)):(at(za,"Using default OnlineComponentProvider"),await w_(r,new ud))),r._onlineComponents}function Kb(r){return T0(r).then((e=>e.syncEngine))}async function cd(r){const e=await T0(r),i=e.eventManager;return i.onListen=Mb.bind(null,e.syncEngine),i.onUnlisten=Ub.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Lb.bind(null,e.syncEngine),i}function Zb(r,e,i={}){const s=new wa;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new E0({next:x=>{A.Nu(),d.enqueueAndForget((()=>c0(h,b))),x.fromCache&&v.source==="server"?_.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new h0(y,A,{includeMetadataChanges:!0,qa:!0});return u0(h,b)})(await cd(r),r.asyncQueue,e,i,s))),s.promise}function A0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const D_=new Map;const S0="firestore.googleapis.com",V_=!0;class N_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S0,this.ssl=V_}else this.host=e.host,this.ssl=e.ssl??V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V2)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new iS;switch(s.type){case"firstParty":return new lS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=D_.get(i);s&&(at("ComponentProvider","Removing Datastore"),D_.delete(i),s.terminate())})(this),Promise.resolve()}}function Jb(r,e,i,s={}){r=Da(r,Rc);const o=md(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(NT(`https://${y}`),OT("Firestore",!0)),h.host!==S0&&h.host!==y&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:s};if(!$u(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ke.MOCK_USER;else{_=IT(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(b)}r._authCredentials=new aS(new ov(_,A))}}class bs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Ve{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(io(i,Ve._jsonSchema))return new Ve(e,s||null,new ct(ee.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:De("string",Ve._jsonSchemaVersion),referencePath:De("string")};class Va extends bs{constructor(e,i,s){super(e,i,Sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new ct(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function b0(r,e,...i){if(r=ys(r),uv("collection","path",e),r instanceof Rc){const s=ee.fromString(e,...i);return Hy(s),new Va(r,null,s)}{if(!(r instanceof Ve||r instanceof Va))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Hy(s),new Va(r.firestore,null,s)}}function hd(r,e,...i){if(r=ys(r),arguments.length===1&&(e=yd.newId()),uv("doc","path",e),r instanceof Rc){const s=ee.fromString(e,...i);return Py(s),new Ve(r,null,new ct(s))}{if(!(r instanceof Ve||r instanceof Va))throw new st(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Py(s),new Ve(r.firestore,r instanceof Va?r.converter:null,new ct(s))}}const I_="AsyncQueue";class x_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e0(this,"async_queue_retry"),this._c=()=>{const s=Bf();s&&at(I_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nr(e))throw e;at(I_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",M_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Ud.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:M_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function M_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function O_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class no extends Rc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new x_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x_(e),this._firestoreClient=void 0,await e}}}function $b(r,e){const i=typeof r=="object"?r:GA(),s=typeof r=="string"?r:nc,o=kA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=DT("firestore");h&&Jb(o,...h)}return o}function qd(r){if(r._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Wb(r),r._firestoreClient}function Wb(r){const e=r._freezeSettings(),i=(function(o,h,d,y){return new bS(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,A0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Yb(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Fe.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(io(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:De("string",xn._jsonSchemaVersion),bytes:De("string")};class Pd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class R0{constructor(e){this._methodName=e}}class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(io(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:De("string",_i._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(io(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:De("string",vi._jsonSchemaVersion),vectorValues:De("object")};const tR=/^__.*__$/;class eR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,i,this.fieldTransforms):new so(e,this.data,i,this.fieldTransforms)}}function C0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Hd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C0(this.Ac)&&tR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ac(e)}Cc(e,i,s,o=!1){return new Hd({Ac:e,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w0(r){const e=r._freezeSettings(),i=Ac(r._databaseId);return new nR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function iR(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);N0("Data must be an object, but it was:",d,s);const y=D0(s,d);let v,_;if(h.merge)v=new Qn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const x=sR(e,b,i);if(!d.contains(x))throw new st(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);lR(A,x)||A.push(x)}v=new Qn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new eR(new In(y),v,_)}function aR(r,e,i,s=!1){return Gd(i,r.Cc(s?4:3,e))}function Gd(r,e){if(V0(r=ys(r)))return N0("Unsupported field value:",e,r),D0(r,e);if(r instanceof R0)return(function(s,o){if(!C0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const y of s){let v=Gd(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=ys(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ae.fromDate(s);return{timestampValue:oc(o.serializer,h)}}if(s instanceof ae){const h=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:oc(o.serializer,h)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:Gv(o.serializer,s._byteString)};if(s instanceof Ve){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:wd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vi)return(function(d,y){return{mapValue:{fields:{[_v]:{stringValue:vv},[ic]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return bd(y.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${dc(s)}`)})(r,e)}function D0(r,e){const i={};return fv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,((s,o)=>{const h=Gd(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function V0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof _i||r instanceof xn||r instanceof Ve||r instanceof R0||r instanceof vi)}function N0(r,e,i){if(!V0(i)||!cv(i)){const s=dc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sR(r,e,i){if((e=ys(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return I0(r,e);throw fc("Field path arguments must be of type string or ",r,!1,void 0,i)}const rR=new RegExp("[~\\*/\\[\\]]");function I0(r,e,i){if(e.search(rR)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Pd(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new st(K.INVALID_ARGUMENT,y+r+v)}function lR(r,e){return r.some((i=>i.isEqual(e)))}class x0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Qd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oR extends x0{data(){return super.data()}}function Qd(r,e){return typeof e=="string"?I0(r,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}function M0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fd{}class uR extends Fd{}function O0(r,e,...i){let s=[];e instanceof Fd&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof Yd)).length,y=h.filter((v=>v instanceof Cc)).length;if(d>1||d>0&&y>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Cc extends uR{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Cc(e,i,s)}_apply(e){const i=this._parse(e);return z0(e._query,i),new bs(e.firestore,e.converter,Wf(e._query,i))}_parse(e){const i=w0(e.firestore);return(function(h,d,y,v,_,A,b){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){U_(b,A);const J=[];for(const et of b)J.push(z_(v,h,et));x={arrayValue:{values:J}}}else x=z_(v,h,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||U_(b,A),x=aR(y,d,b,A==="in"||A==="not-in");return we.create(_,A,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function cR(r,e,i){const s=e,o=Qd("where",r);return Cc._create(o,s,i)}class Yd extends Fd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Yd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const v of y)z0(d,v),d=Wf(d,v)})(e._query,i),new bs(e.firestore,e.converter,Wf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function z_(r,e,i){if(typeof(i=ys(i))=="string"){if(i==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wv(e)&&i.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ee.fromString(i));if(!ct.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jy(r,new ct(s))}if(i instanceof Ve)return Jy(r,i._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dc(i)}.`)}function U_(r,e){if(!Array.isArray(r)||r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z0(r,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class hR{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Es(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[ic].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new vi(i)}convertGeoPoint(e){return new _i(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Ia(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Gt(Zv(s),9688,{name:e});const o=new $l(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function fR(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gs extends x0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Qd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:De("string",gs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Zu extends gs{data(e={}){return super.data(e)}}class ps{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zu(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Zu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ql(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Zu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ql(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:dR(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ps._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}ps._jsonSchemaVersion="firestore/querySnapshot/1.0",ps._jsonSchema={type:De("string",ps._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class Xd extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function mR(r){r=Da(r,bs);const e=Da(r.firestore,no),i=qd(e),s=new Xd(e);return M0(r._query),Zb(i,r._query).then((o=>new ps(e,s,r,o)))}function U0(r,e,i){r=Da(r,Ve);const s=Da(r.firestore,no),o=fR(r.converter,e);return gR(s,[iR(w0(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Bi.none())])}function L_(r,...e){r=ys(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||O_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(O_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let h,d,y;if(r instanceof Ve)d=Da(r.firestore,no),y=Sd(r._key.path),h={next:v=>{e[s]&&e[s](pR(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=Da(r,bs);d=Da(v.firestore,no),y=v._query;const _=new Xd(d);h={next:A=>{e[s]&&e[s](new ps(d,_,v,A))},error:e[s+1],complete:e[s+2]},M0(r._query)}return(function(_,A,b,x){const G=new E0(x),J=new h0(A,G,b);return _.asyncQueue.enqueueAndForget((async()=>u0(await cd(_),J))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>c0(await cd(_),J)))}})(qd(d),y,o,h)}function gR(r,e){return(function(s,o){const h=new wa;return s.asyncQueue.enqueueAndForget((async()=>jb(await Kb(s),o,h))),h.promise})(qd(r),e)}function pR(r,e,i){const s=i.docs.get(e._key),o=new Xd(r);return new gs(r,o,e._key,s,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Dr=o})(HA),tc(new Xl("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new no(new sS(s.getProvider("auth-internal")),new oS(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),vr(jy,ky,e),vr(jy,ky,"esm2020")})();const yR={apiKey:"AIzaSyClukiCJsusdmwkaQHepGsILMfczgPrDhU",authDomain:"mathbook-engine.firebaseapp.com",projectId:"mathbook-engine",storageBucket:"mathbook-engine.firebasestorage.app",messagingSenderId:"469440264696",appId:"1:469440264696:web:6f91558beb97f8a2797e0d"},_R=$_(yR),Yl=$b(_R),vR=({isOpen:r,onClose:e})=>{const[i,s]=Xt.useState(""),[o,h]=Xt.useState(null),[d,y]=Xt.useState("idle"),[v,_]=Xt.useState("");if(!r)return null;const A=async G=>{const J=G.target.files?.[0];if(J){i||s(J.name.replace(".js","").replace(/_/g," ")),y("validating");try{const et=await J.text();await k_(et),h(et),y("valid"),_("")}catch(et){y("error"),_(et.message||"El archivo no es un simulador vlido."),h(null)}}},b=async()=>{if(o&&i){y("validating");try{const G=O0(b0(Yl,"simuladores"),cR("name","==",i)),J=await mR(G);let et="sim_"+crypto.randomUUID().slice(0,8);if(!J.empty&&(et=J.docs[0].id,!confirm(`El simulador "${i}" ya existe en la nube. Quieres actualizarlo para TODOS los usuarios?`))){y("idle");return}await U0(hd(Yl,"simuladores",et),{id:et,name:i,code:o,version:"1.0",timestamp:Date.now()}),alert("Simulador guardado en la nube! Todos los usuarios lo vern al instante."),x()}catch(G){console.error(G),_("Error al conectar con la base de datos."),y("error")}}},x=()=>{s(""),h(null),y("idle"),_(""),e()};return U.jsx("div",{className:"modal-bg",style:{display:"flex"},children:U.jsxs("div",{className:"modal fade-in",style:{width:"800px",maxHeight:"90vh",overflowY:"auto"},children:[U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[U.jsxs("h2",{children:[U.jsx(fT,{size:24})," Subir Simulador"]}),U.jsx("button",{onClick:x,style:{border:"none",background:"transparent",padding:0},children:U.jsx(mT,{size:24})})]}),U.jsxs("div",{className:"row",children:[U.jsx("label",{style:{fontWeight:"bold"},children:"Nombre para el Men:"}),U.jsx("input",{type:"text",value:i,onChange:G=>s(G.target.value),placeholder:"Ej: Permutaciones Agrupadas"})]}),U.jsxs("div",{className:"row",children:[U.jsx("label",{style:{fontWeight:"bold"},children:"Archivo JavaScript (.js):"}),U.jsx("input",{type:"file",accept:".js,text/javascript",onChange:A,style:{padding:"10px",background:"var(--bg-tertiary)",borderRadius:"var(--radius)"}})]}),U.jsxs("div",{style:{marginTop:"1rem",minHeight:"60px"},children:[d==="validating"&&U.jsx("p",{className:"loading",children:"Analizando cdigo..."}),d==="error"&&U.jsxs("div",{className:"feedback-incorrect",style:{display:"flex",gap:"10px",alignItems:"center"},children:[U.jsx(rT,{size:20}),U.jsxs("div",{children:[U.jsx("strong",{children:"Error:"})," ",v]})]}),d==="valid"&&o&&U.jsxs("div",{className:"fade-in",children:[U.jsxs("div",{className:"feedback-correct",style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"1rem"},children:[U.jsx(ME,{size:20}),U.jsxs("div",{children:[U.jsx("strong",{children:"Cdigo Vlido!"})," Listo para subir."]})]}),U.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"8px",padding:"15px",background:"var(--bg-secondary)"},children:[U.jsxs("h4",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)"},children:[U.jsx(qE,{size:16})," Vista Previa del Simulador"]}),U.jsx(B_,{code:o,params:{}})]})]})]}),U.jsxs("div",{className:"buttons",children:[U.jsx("button",{onClick:x,children:"Cancelar"}),U.jsx("button",{id:"btnGuardar",disabled:d!=="valid"||!i,onClick:b,children:"Subir y Guardar"})]})]})})};function ER(r){const e="Garcia Espinosa Ricardo Zadkiel, Ruiz Estrella Gabriel, Rojas Agustn Daniel Ivn, Sols Xicale Jess Eliuth, Aguilar Cruz Jonathan Yael y Merino Estevez Abraham Osmar",i=`
    :root { --bg-primary: #ffffff; --text-primary: #1a202c; --brand-primary: #2563eb; --bg-secondary: #f8fafc; --border-color: #e2e8f0; }
    body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; color: var(--text-primary); margin: 0; background: #f1f5f9; }
    .book-container { max-width: 800px; margin: 40px auto; background: white; padding: 50px; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); min-height: 80vh; }
    h1, h2, h3 { color: var(--brand-primary); }
    h1 { text-align: center; border-bottom: 2px solid #f1f5f9; padding-bottom: 20px; margin-bottom: 40px; }
    h2 { border-bottom: 1px solid #e2e8f0; padding-bottom: 10px; margin-top: 40px; }
    .nav-buttons { display: flex; justify-content: space-between; margin-top: 60px; border-top: 1px solid #e2e8f0; padding-top: 20px; }
    button { background: var(--brand-primary); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: opacity 0.2s; }
    button:hover { opacity: 0.9; }
    button:disabled { background: #cbd5e1; cursor: not-allowed; }
    
    /* Simuladores */
    .simulador-wrapper { margin: 30px 0; border: 1px solid #e2e8f0; border-radius: 12px; padding: 20px; background: #f8fafc; box-shadow: inset 0 2px 4px rgba(0,0,0,0.02); }
    .btn-sim { background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin-top: 5px; }
    .sim-input { padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
    
    /* Utilidades Visuales */
    .stat-card { background: white; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    .sim-stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 15px; }
  `,o=`window.BOOK_DATA = ${JSON.stringify(r).replace(/</g,"\\u003c").replace(/>/g,"\\u003e").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")};`;return`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${r.meta.title}</title>
    <style>${i}</style>
    
    <script>
      window.MathJax = {
        tex: { inlineMath: [['$', '$'], ['\\\\(', '\\\\)']], displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']] },
        svg: { fontCache: 'global' }
      };
    <\/script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
    
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"><\/script>
</head>
<body>
    <div class="book-container">
        <h1 style="text-align:center">${r.meta.title}</h1>
        <div id="book-content"></div>
        <div class="nav-buttons">
            <button id="btn-prev">Anterior</button>
            <span id="page-num" style="align-self:center; color:#64748b;">Pgina 1</span>
            <button id="btn-next">Siguiente</button>
        </div>
    </div>

    <footer style="margin-top: 60px; padding-top: 20px; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-secondary); font-size: 0.9rem;">
            <p><strong>Proyecto de Probabilidad y Estadstica</strong></p>
            <p>Desarrollado por: ${e}</p>
            <p style="font-size: 0.8em; opacity: 0.7;">Generado con React Editor Engine  IPN 2026</p>
    </footer>
    
    <script>${o}<\/script>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const data = window.BOOK_DATA;
        if (!data) { document.body.innerHTML = '<h1>Error: No se cargaron los datos del libro.</h1>'; return; }

        const container = document.getElementById('book-content');
        const prevBtn = document.getElementById('btn-prev');
        const nextBtn = document.getElementById('btn-next');
        const pageNum = document.getElementById('page-num');
        
        let currentPageIdx = 0;

        // --- MOTOR DE SIMULADORES ---
        const simulators = {};
        
        // Carga segura de simuladores
        if (data.assets && data.assets.simulators) {
            data.assets.simulators.forEach(sim => {
                // Convertir 'export default' a algo ejecutable
                let cleanCode = sim.code
                    .replace(/export\\s+default/, 'return')
                    .replace(/import\\s+.*?from.*?\\n/g, ''); // Quitar imports si los hubiera
                
                try {
                    const simFactory = new Function(cleanCode);
                    simulators[sim.id] = simFactory(); 
                } catch (e) {
                    console.error("Error compilando simulador " + sim.name, e);
                    simulators[sim.id] = { 
                        init: (c) => c.innerHTML = '<div style="color:red; padding:10px; border:1px solid red;">Error en cdigo: ' + sim.name + '</div>' 
                    };
                }
            });
        }

        function renderBlock(block) {
            if (block.type === 'text') {
                const div = document.createElement('div');
                div.className = 'text-block';
                // Convertir saltos de lnea a <br>
                div.innerHTML = block.content.replace(/\\n/g, '<br/>');
                return div;
            }
            
            if (block.type === 'simulator') {
                const wrapper = document.createElement('div');
                wrapper.className = 'simulador-wrapper';
                
                // Buscar simulador (Soporte para IDs legacy "legacy_xyz")
                const simId = block.simulatorId || '';
                const cleanId = simId.replace('legacy_', '');
                const simModule = simulators[simId] || simulators[cleanId];
                
                if (!simModule) {
                    wrapper.innerHTML = '<p style="color:#ef4444; background:#fee2e2; padding:10px; border-radius:4px;"> Simulador no encontrado en el archivo (' + simId + ')</p>';
                    return wrapper;
                }

                try {
                    const contentDiv = document.createElement('div');
                    wrapper.appendChild(contentDiv);
                    if (simModule.init) {
                        simModule.init(contentDiv, block.simConfig || {});
                    } else {
                        wrapper.innerHTML = 'El simulador no tiene funcin init()';
                    }
                } catch(err) {
                     wrapper.innerHTML = 'Error ejecutando simulador: ' + err.message;
                }

                return wrapper;
            }
            return document.createElement('div');
        }

        function showPage(index) {
            container.innerHTML = '';
            
            if (!data.pages || data.pages.length === 0) {
                container.innerHTML = '<p>El libro no tiene pginas.</p>';
                return;
            }

            const page = data.pages[index];
            
            // Ttulo de la pgina
            const title = document.createElement('h2');
            title.textContent = page.title;
            container.appendChild(title);

            // Renderizar Bloques
            if (page.blocks) {
                page.blocks.forEach(block => {
                    container.appendChild(renderBlock(block));
                });
            }

            // Actualizar UI
            pageNum.textContent = \`Pgina \${index + 1} de \${data.pages.length}\`;
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === data.pages.length - 1;
            
            // Renderizar Matemticas (MathJax)
            if (window.MathJax) {
                setTimeout(() => {
                    window.MathJax.typesetPromise([container]).catch(e => console.log('MathJax error', e));
                }, 50);
            }
            
            // Scroll arriba
            window.scrollTo(0,0);
        }

        prevBtn.onclick = () => { if(currentPageIdx > 0) showPage(--currentPageIdx); };
        nextBtn.onclick = () => { if(currentPageIdx < data.pages.length - 1) showPage(++currentPageIdx); };

        showPage(0);
    });
  <\/script>
</body>
</html>
  `}const TR="Garcia Espinosa Ricardo Zadkiel, Ruiz Estrella Gabriel, Rojas Agustn Daniel Ivn, Sols Xicale Jess Eliuth, Aguilar Cruz Jonathan Yael y Merino Estevez Abraham Osmar",AR={meta:{title:"Libro Interactivo",author:"Profe",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:[]};function SR(){const[r,e]=Xt.useState(AR),[i,s]=Xt.useState([]),[o,h]=Xt.useState(null),[d,y]=Xt.useState(!1),[v,_]=Xt.useState(!1),[A,b]=Xt.useState(!1),[x,G]=Xt.useState([]),[J,et]=Xt.useState("libro_curso_principal");Xt.useEffect(()=>{console.log(" Conectando al canal:",J);const C=L_(hd(Yl,"projects",J),N=>{if(N.exists()){const S=N.data();e(S)}else console.log("Este libro an no existe en la nube (listo para crearlo).")});return()=>C()},[J]),Xt.useEffect(()=>{const C=O0(b0(Yl,"simuladores")),N=L_(C,S=>{const bt=S.docs.map(Ct=>({id:Ct.id,...Ct.data()}));G(bt)});return()=>N()},[]),Xt.useEffect(()=>{document.body.setAttribute("data-theme",v?"dark":"light")},[v]);const $=async()=>{b(!0);try{await U0(hd(Yl,"projects",J),r),alert(` Guardado en la nube bajo el ID: "${J}"!`)}catch(C){console.error(C),alert(" Error al subir a la nube.")}finally{b(!1)}},ht=()=>{const C="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(r)),N=document.createElement("a");N.setAttribute("href",C),N.setAttribute("download",r.meta.title+"_backup.json"),document.body.appendChild(N),N.click(),N.remove()},Tt=C=>{const N=C.target.files?.[0];if(!N)return;const S=new FileReader;S.onload=bt=>{try{const Ct=JSON.parse(bt.target?.result);if(Ct.meta&&Ct.pages&&!Array.isArray(Ct)){e(Ct),h(Ct.pages[0]?.id||null);const q=Ct.meta.title.toLowerCase().trim().replace(/[^a-z0-9]+/g,"_");et(q),alert(`Libro cargado. Ahora ests editando en el canal de nube: "${q}"`);return}if(Array.isArray(Ct)){console.log("Detectado formato Legacy. Convirtiendo...");const q=Ct.map(lt=>{const pt=[],jt=lt.contenido||"",M=/\[simulador:([a-zA-Z0-9_]+)\]/g;let Y=0,nt;for(;(nt=M.exec(jt))!==null;){const _t=jt.slice(Y,nt.index).trim();_t&&pt.push({id:crypto.randomUUID(),type:"text",content:_t});const Nt=nt[1];pt.push({id:crypto.randomUUID(),type:"simulator",content:"",simulatorId:"legacy_"+Nt,simConfig:{}}),Y=M.lastIndex}const it=jt.slice(Y).trim();it&&pt.push({id:crypto.randomUUID(),type:"text",content:it});let dt="seccion";return lt.tipo==="capitulo"&&(dt="capitulo"),lt.tipo==="portada"&&(dt="portada"),{id:lt.id||crypto.randomUUID(),type:dt,title:lt.titulo||"Sin Ttulo",blocks:pt.length>0?pt:[{id:crypto.randomUUID(),type:"text",content:""}]}}),W={meta:{title:"Libro Importado (Legacy)",author:"Usuario",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:q};e(W),h(q[0]?.id||null),alert(" Archivo antiguo convertido correctamente. Revisa y dale a PUBLICAR.")}else alert("Formato no reconocido.")}catch(Ct){console.error(Ct),alert("Error al leer el archivo JSON.")}},S.readAsText(N),C.target.value=""},mt=()=>{if(i.length===0)return;const C=i[i.length-1];s(N=>N.slice(0,-1)),e(C)},qt=(C,N,S)=>{S.stopPropagation();const bt=r.pages.findIndex(W=>W.id===C);if(bt<0)return;const Ct=bt+N;if(Ct<0||Ct>=r.pages.length)return;const q=[...r.pages];[q[bt],q[Ct]]=[q[Ct],q[bt]],e(W=>({...W,pages:q}))},Wt=(C,N)=>{N.stopPropagation(),confirm(" Eliminar pgina?")&&(e(S=>({...S,pages:S.pages.filter(bt=>bt.id!==C)})),o===C&&h(null))},Vt=(C="seccion")=>{s(S=>[...S,r]);const N={id:crypto.randomUUID(),type:C,title:C==="capitulo"?"Nuevo Captulo":"Nueva Seccin",blocks:[]};e(S=>({...S,pages:[...S.pages,N]})),h(N.id)},V=C=>{e(N=>({...N,pages:N.pages.map(S=>S.id===C.id?C:S)}))},R=(C,N)=>{const S={id:"sim_"+crypto.randomUUID().slice(0,8),name:C,code:N,version:"1.0",timestamp:Date.now()};e(bt=>({...bt,assets:{...bt.assets,simulators:[...bt.assets.simulators,S]}}))},D=()=>{const C=r.assets?.simulators||[],N=x||[];console.log("Exportando...",{local:C.length,cloud:N.length});const S=new Map;N.forEach(q=>S.set(q.id,q)),C.forEach(q=>S.set(q.id,q));const bt=Array.from(S.values()),Ct={...r,assets:{simulators:bt}};try{const q=ER(Ct),W=new Blob([q],{type:"text/html;charset=utf-8"}),lt=URL.createObjectURL(W),pt=document.createElement("a");pt.href=lt,pt.download=`${(r.meta?.title||"Libro").replace(/\s+/g,"_")}_completo.html`,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),URL.revokeObjectURL(lt)}catch(q){console.error(" Error crtico al exportar:",q),alert("Algo fall al crear el HTML. Abre la consola (F12) para ver el error exacto.")}},O=C=>{switch(C){case"capitulo":return{fontWeight:"bold",borderLeft:"4px solid var(--brand-primary)",paddingLeft:"8px",marginTop:"10px"};case"subseccion":return{paddingLeft:"30px",fontSize:"0.9em",borderLeft:"1px solid var(--border-color)"};case"portada":return{fontStyle:"italic",color:"var(--brand-accent)"};default:return{paddingLeft:"15px"}}};return U.jsxs("div",{className:"app-container",children:[U.jsxs("header",{children:[U.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[U.jsx("h1",{children:r.meta.title}),U.jsx("span",{style:{fontSize:"0.7em",background:"var(--brand-primary)",color:"white",padding:"2px 6px",borderRadius:"4px"},children:"EDITOR MAESTRO"})]}),U.jsxs("div",{style:{marginLeft:"20px",fontSize:"0.85rem",color:"var(--text-secondary)",borderLeft:"1px solid #ccc",paddingLeft:"15px"},children:[U.jsx("small",{style:{display:"block",fontWeight:"bold",opacity:.7},children:"Equipo de Desarrollo:"}),TR]}),U.jsx("div",{className:"header-sep"}),U.jsxs("a",{href:"ayuda.html",target:"_blank",className:"button-link",title:"Ver Ayuda",children:[U.jsx(zE,{size:18,style:{marginRight:5}})," Ayuda"]}),U.jsx("button",{className:"icon-button",onClick:()=>_(!v),children:v?U.jsx(eT,{size:18}):U.jsx(JE,{size:18})}),U.jsx("button",{className:"icon-button",onClick:mt,disabled:i.length===0,title:"Deshacer",children:U.jsx(cT,{size:18})}),U.jsx("div",{className:"header-sep"}),U.jsxs("div",{className:"local-actions-group",children:[U.jsxs("label",{className:"icon-button",title:"Importar JSON viejo",children:[U.jsx(GE,{size:18}),U.jsx("input",{type:"file",accept:".json",onChange:Tt,style:{display:"none"}})]}),U.jsx("button",{className:"icon-button",onClick:ht,title:"Guardar Respaldo Local (JSON)",children:U.jsx(WE,{size:18})})]}),U.jsx("button",{onClick:$,disabled:A,style:{background:"var(--brand-success)",color:"white",border:"none",padding:"8px 15px",borderRadius:"6px",fontWeight:"bold",marginLeft:"auto",display:"flex",alignItems:"center",cursor:"pointer"},children:A?"Subiendo...":U.jsxs(U.Fragment,{children:[U.jsx(LE,{size:18,style:{marginRight:5}})," PUBLICAR"]})}),U.jsx("button",{className:"icon-button",onClick:D,title:"Descargar HTML Offline",style:{marginLeft:"10px"},children:U.jsx(kE,{size:18})})]}),U.jsxs("div",{className:"layout",children:[U.jsxs("aside",{className:"toc",children:[U.jsx("h2",{children:"Contenido"}),U.jsxs("div",{className:"toolbar",style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:[U.jsx("button",{onClick:()=>Vt("capitulo"),children:"+ Cap"}),U.jsx("button",{onClick:()=>Vt("seccion"),children:"+ Sec"}),U.jsx("button",{onClick:()=>y(!0),style:{flexBasis:"100%"},children:"+ Simulador"})]}),U.jsx("ul",{style:{marginTop:"1rem",listStyle:"none",padding:0},children:r.pages.map((C,N)=>U.jsxs("li",{className:C.id===o?"selected":"",style:O(C.type),onClick:()=>h(C.id),children:[U.jsx("span",{className:"page-title-span",title:C.title,children:C.title||"Sin ttulo"}),U.jsxs("div",{className:"page-actions",children:[U.jsx("button",{className:"mini-btn",onClick:S=>qt(C.id,-1,S),disabled:N===0,children:U.jsx(H_,{size:14})}),U.jsx("button",{className:"mini-btn",onClick:S=>qt(C.id,1,S),disabled:N===r.pages.length-1,children:U.jsx(P_,{size:14})}),U.jsx("button",{className:"mini-btn danger",onClick:S=>Wt(C.id,S),children:U.jsx(G_,{size:14})})]})]},C.id))})]}),U.jsx("main",{className:"main",children:o?(()=>{const C=r.pages.find(N=>N.id===o);return C?U.jsx(yT,{page:C,availableSimulators:x,onUpdatePage:V}):U.jsx("p",{children:"Error cargando pgina"})})():U.jsx("div",{className:"empty-state",children:U.jsx("p",{children:"Selecciona una pgina para editar."})})})]}),U.jsx(vR,{isOpen:d,onClose:()=>y(!1),onSave:R})]})}bE.createRoot(document.getElementById("root")).render(U.jsx(pE.StrictMode,{children:U.jsx(SR,{})}));
