(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function k_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rf={exports:{}},Ul={};var my;function mE(){if(my)return Ul;my=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var gy;function gE(){return gy||(gy=1,Rf.exports=mE()),Rf.exports}var q=gE(),wf={exports:{}},Tt={};var py;function pE(){if(py)return Tt;py=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function Q(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,$={};function dt(V,F,at){this.props=V,this.context=F,this.refs=$,this.updater=at||tt}dt.prototype.isReactComponent={},dt.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},dt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function St(){}St.prototype=dt.prototype;function pt(V,F,at){this.props=V,this.context=F,this.refs=$,this.updater=at||tt}var Ht=pt.prototype=new St;Ht.constructor=pt,nt(Ht,dt.prototype),Ht.isPureReactComponent=!0;var Wt=Array.isArray;function It(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(V,F,at){var rt=at.ref;return{$$typeof:s,type:V,key:F,ref:rt!==void 0?rt:null,props:at}}function M(V,F){return C(V.type,F,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function z(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(at){return F[at]})}var R=/\/+/g;function it(V,F){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):F.toString(36)}function ut(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(It,It):(V.status="pending",V.then(function(F){V.status==="pending"&&(V.status="fulfilled",V.value=F)},function(F){V.status==="pending"&&(V.status="rejected",V.reason=F)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function L(V,F,at,rt,gt){var _t=typeof V;(_t==="undefined"||_t==="boolean")&&(V=null);var Ct=!1;if(V===null)Ct=!0;else switch(_t){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(V.$$typeof){case s:case e:Ct=!0;break;case A:return Ct=V._init,L(Ct(V._payload),F,at,rt,gt)}}if(Ct)return gt=gt(V),Ct=rt===""?"."+it(V,0):rt,Wt(gt)?(at="",Ct!=null&&(at=Ct.replace(R,"$&/")+"/"),L(gt,F,at,"",function(Ti){return Ti})):gt!=null&&(x(gt)&&(gt=M(gt,at+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Ct)),F.push(gt)),1;Ct=0;var oe=rt===""?".":rt+":";if(Wt(V))for(var te=0;te<V.length;te++)rt=V[te],_t=oe+it(rt,te),Ct+=L(rt,F,at,_t,gt);else if(te=Q(V),typeof te=="function")for(V=te.call(V),te=0;!(rt=V.next()).done;)rt=rt.value,_t=oe+it(rt,te++),Ct+=L(rt,F,at,_t,gt);else if(_t==="object"){if(typeof V.then=="function")return L(ut(V),F,at,rt,gt);throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function J(V,F,at){if(V==null)return V;var rt=[],gt=0;return L(V,rt,"","",function(_t){return F.call(at,_t,gt++)}),rt}function W(V){if(V._status===-1){var F=V._result;F=F(),F.then(function(at){(V._status===0||V._status===-1)&&(V._status=1,V._result=at)},function(at){(V._status===0||V._status===-1)&&(V._status=2,V._result=at)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var Et=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},zt={map:J,forEach:function(V,F,at){J(V,function(){F.apply(this,arguments)},at)},count:function(V){var F=0;return J(V,function(){F++}),F},toArray:function(V){return J(V,function(F){return F})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=zt,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=pt,Tt.StrictMode=r,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,F,at){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=nt({},V.props),gt=V.key;if(F!=null)for(_t in F.key!==void 0&&(gt=""+F.key),F)!b.call(F,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&F.ref===void 0||(rt[_t]=F[_t]);var _t=arguments.length-2;if(_t===1)rt.children=at;else if(1<_t){for(var Ct=Array(_t),oe=0;oe<_t;oe++)Ct[oe]=arguments[oe+2];rt.children=Ct}return C(V.type,gt,rt)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Tt.createElement=function(V,F,at){var rt,gt={},_t=null;if(F!=null)for(rt in F.key!==void 0&&(_t=""+F.key),F)b.call(F,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=F[rt]);var Ct=arguments.length-2;if(Ct===1)gt.children=at;else if(1<Ct){for(var oe=Array(Ct),te=0;te<Ct;te++)oe[te]=arguments[te+2];gt.children=oe}if(V&&V.defaultProps)for(rt in Ct=V.defaultProps,Ct)gt[rt]===void 0&&(gt[rt]=Ct[rt]);return C(V,_t,gt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:y,render:V}},Tt.isValidElement=x,Tt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:W}},Tt.memo=function(V,F){return{$$typeof:_,type:V,compare:F===void 0?null:F}},Tt.startTransition=function(V){var F=D.T,at={};D.T=at;try{var rt=V(),gt=D.S;gt!==null&&gt(at,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(It,Et)}catch(_t){Et(_t)}finally{F!==null&&at.types!==null&&(F.types=at.types),D.T=F}},Tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Tt.use=function(V){return D.H.use(V)},Tt.useActionState=function(V,F,at){return D.H.useActionState(V,F,at)},Tt.useCallback=function(V,F){return D.H.useCallback(V,F)},Tt.useContext=function(V){return D.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,F){return D.H.useDeferredValue(V,F)},Tt.useEffect=function(V,F){return D.H.useEffect(V,F)},Tt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Tt.useId=function(){return D.H.useId()},Tt.useImperativeHandle=function(V,F,at){return D.H.useImperativeHandle(V,F,at)},Tt.useInsertionEffect=function(V,F){return D.H.useInsertionEffect(V,F)},Tt.useLayoutEffect=function(V,F){return D.H.useLayoutEffect(V,F)},Tt.useMemo=function(V,F){return D.H.useMemo(V,F)},Tt.useOptimistic=function(V,F){return D.H.useOptimistic(V,F)},Tt.useReducer=function(V,F,at){return D.H.useReducer(V,F,at)},Tt.useRef=function(V){return D.H.useRef(V)},Tt.useState=function(V){return D.H.useState(V)},Tt.useSyncExternalStore=function(V,F,at){return D.H.useSyncExternalStore(V,F,at)},Tt.useTransition=function(){return D.H.useTransition()},Tt.version="19.2.3",Tt}var yy;function cd(){return yy||(yy=1,wf.exports=pE()),wf.exports}var Gt=cd();const yE=k_(Gt);var Cf={exports:{}},Ll={},Df={exports:{}},Vf={};var _y;function _E(){return _y||(_y=1,(function(s){function e(L,J){var W=L.length;L.push(J);t:for(;0<W;){var Et=W-1>>>1,zt=L[Et];if(0<o(zt,J))L[Et]=J,L[W]=zt,W=Et;else break t}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var J=L[0],W=L.pop();if(W!==J){L[0]=W;t:for(var Et=0,zt=L.length,V=zt>>>1;Et<V;){var F=2*(Et+1)-1,at=L[F],rt=F+1,gt=L[rt];if(0>o(at,W))rt<zt&&0>o(gt,at)?(L[Et]=gt,L[rt]=W,Et=rt):(L[Et]=at,L[F]=W,Et=F);else if(rt<zt&&0>o(gt,W))L[Et]=gt,L[rt]=W,Et=rt;else break t}}return J}function o(L,J){var W=L.sortIndex-J.sortIndex;return W!==0?W:L.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,S=null,N=3,Q=!1,tt=!1,nt=!1,$=!1,dt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Ht(L){for(var J=i(_);J!==null;){if(J.callback===null)r(_);else if(J.startTime<=L)r(_),J.sortIndex=J.expirationTime,e(v,J);else break;J=i(_)}}function Wt(L){if(nt=!1,Ht(L),!tt)if(i(v)!==null)tt=!0,It||(It=!0,z());else{var J=i(_);J!==null&&ut(Wt,J.startTime-L)}}var It=!1,D=-1,b=5,C=-1;function M(){return $?!0:!(s.unstable_now()-C<b)}function x(){if($=!1,It){var L=s.unstable_now();C=L;var J=!0;try{t:{tt=!1,nt&&(nt=!1,St(D),D=-1),Q=!0;var W=N;try{e:{for(Ht(L),S=i(v);S!==null&&!(S.expirationTime>L&&M());){var Et=S.callback;if(typeof Et=="function"){S.callback=null,N=S.priorityLevel;var zt=Et(S.expirationTime<=L);if(L=s.unstable_now(),typeof zt=="function"){S.callback=zt,Ht(L),J=!0;break e}S===i(v)&&r(v),Ht(L)}else r(v);S=i(v)}if(S!==null)J=!0;else{var V=i(_);V!==null&&ut(Wt,V.startTime-L),J=!1}}break t}finally{S=null,N=W,Q=!1}J=void 0}}finally{J?z():It=!1}}}var z;if(typeof pt=="function")z=function(){pt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,it=R.port2;R.port1.onmessage=x,z=function(){it.postMessage(null)}}else z=function(){dt(x,0)};function ut(L,J){D=dt(function(){L(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(L){switch(N){case 1:case 2:case 3:var J=3;break;default:J=N}var W=N;N=J;try{return L()}finally{N=W}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(L,J){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=N;N=L;try{return J()}finally{N=W}},s.unstable_scheduleCallback=function(L,J,W){var Et=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Et+W:Et):W=Et,L){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=W+zt,L={id:A++,callback:J,priorityLevel:L,startTime:W,expirationTime:zt,sortIndex:-1},W>Et?(L.sortIndex=W,e(_,L),i(v)===null&&L===i(_)&&(nt?(St(D),D=-1):nt=!0,ut(Wt,W-Et))):(L.sortIndex=zt,e(v,L),tt||Q||(tt=!0,It||(It=!0,z()))),L},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(L){var J=N;return function(){var W=N;N=J;try{return L.apply(this,arguments)}finally{N=W}}}})(Vf)),Vf}var vy;function vE(){return vy||(vy=1,Df.exports=_E()),Df.exports}var If={exports:{}},Ye={};var Ey;function EE(){if(Ey)return Ye;Ey=1;var s=cd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ye.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:Q}):A==="script"&&r.d.X(v,{crossOrigin:S,integrity:N,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ye.requestFormReset=function(v){r.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var Ty;function TE(){if(Ty)return If.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),If.exports=EE(),If.exports}var Ay;function AE(){if(Ay)return Ll;Ay=1;var s=vE(),e=cd(),i=TE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nt:return"Fragment";case dt:return"Profiler";case $:return"StrictMode";case Wt:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case pt:return t.displayName||"Context";case St:return(t._context.displayName||"Context")+".Consumer";case Ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var ut=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Et=[],zt=-1;function V(t){return{current:t}}function F(t){0>zt||(t.current=Et[zt],Et[zt]=null,zt--)}function at(t,n){zt++,Et[zt]=t.current,t.current=n}var rt=V(null),gt=V(null),_t=V(null),Ct=V(null);function oe(t,n){switch(at(_t,n),at(gt,t),at(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Lp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Lp(n),t=jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(rt),at(rt,t)}function te(){F(rt),F(gt),F(_t)}function Ti(t){t.memoizedState!==null&&at(Ct,t);var n=rt.current,a=jp(n,t.type);n!==a&&(at(gt,t),at(rt,a))}function Rr(t){gt.current===t&&(F(rt),F(gt)),Ct.current===t&&(F(Ct),Nl._currentValue=W)}var wr,Cr;function Yn(t){if(wr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);wr=n&&n[1]||"",Cr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+t+Cr}var Ns=!1;function La(t,n){if(!t||Ns)return"";Ns=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var k=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){k=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){k=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Ns=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function Ms(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return La(t.type,!1);case 11:return La(t.type.render,!1);case 1:return La(t.type,!0);case 31:return Yn("Activity");default:return""}}function Os(t){try{var n="",a=null;do n+=Ms(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,Qi=s.unstable_cancelCallback,wc=s.unstable_shouldYield,uo=s.unstable_requestPaint,Je=s.unstable_now,ja=s.unstable_getCurrentPriorityLevel,zs=s.unstable_ImmediatePriority,Us=s.unstable_UserBlockingPriority,Fi=s.unstable_NormalPriority,Cc=s.unstable_LowPriority,co=s.unstable_IdlePriority,ho=s.log,fo=s.unstable_setDisableYieldValue,Mn=null,je=null;function _n(t){if(typeof ho=="function"&&fo(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Mn,t)}catch{}}var fe=Math.clz32?Math.clz32:go,mo=Math.log,Dr=Math.LN2;function go(t){return t>>>=0,t===0?32:31-(mo(t)/Dr|0)|0}var Xn=256,Ba=262144,_e=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function On(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ka(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-fe(a),X=1<<G;E[G]=0,w[G]=-1;var k=B[G];if(k!==null)for(B[G]=null,G=0;G<k.length;G++){var H=k[G];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&qa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function qa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ls(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function js(t,n){var a=n&-n;return a=(a&42)!==0?1:Pa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Pa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yo(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:ly(t.type))}function zn(t,n){var a=J.p;try{return J.p=t,n()}finally{J.p=a}}var Un=Math.random().toString(36).slice(2),ve="__reactFiber$"+Un,Me="__reactProps$"+Un,$n="__reactContainer$"+Un,Vr="__reactEvents$"+Un,Ic="__reactListeners$"+Un,_o="__reactHandles$"+Un,vo="__reactResources$"+Un,Wn="__reactMarker$"+Un;function Ir(t){delete t[ve],delete t[Me],delete t[Vr],delete t[Ic],delete t[_o]}function ti(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Qp(t);t!==null;){if(a=t[ve])return a;t=Qp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[ve]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ei(t){var n=t[vo];return n||(n=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[Wn]=!0}var Bs=new Set,ks={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(ks[t]=n,t=0;t<n.length;t++)Bs.add(n[t])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ps={},Hs={};function Eo(t){return ye.call(Hs,t)?!0:ye.call(Ps,t)?!1:qs.test(t)?Hs[t]=!0:(Ps[t]=!0,!1)}function xr(t,n,a){if(Eo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Yi(t)?"checked":"value";t._valueTracker=Gs(t,n,""+t[n])}}function Ha(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ga=/[\n"\\]/g;function tn(t){return t.replace(Ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Nr(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Qs(t,g,Oe(n)):a!=null?Qs(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function To(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ft(t)}function Qs(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ao(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Ki(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ut(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var So=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||So.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ys(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Fs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fs(t,f,n[f])}function Mr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(t){return Zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Xs=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,ri=null;function Qa(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(r(90));Nr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ha(l)}break t;case"textarea":Ao(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var zr=!1;function $i(t,n,a){if(zr)return t(n,a);zr=!0;try{var l=t(n);return l}finally{if(zr=!1,(Ji!==null||ri!==null)&&(yu(),Ji&&(n=Ji,t=ri,ri=Ji=null,Qa(n),t)))for(n=0;n<t.length;n++)Qa(t[n])}}function jn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Tn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Fa=!1}var si=null,Ks=null,Ya=null;function Zs(){if(Ya)return Ya;var t,n=Ks,a=n.length,l,c="value"in si?si.value:si.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ya=c.slice(t,1<l?1-l:void 0)}function Xa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Bn(){return!1}function Be(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Si:Bn,this.isPropagationStopped=Bn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Be(bi),Wi=S({},bi,{view:0,detail:0}),Js=Be(Wi),ta,Ur,oi,Lr=S({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ta=t.screenX-oi.screenX,Ur=t.screenY-oi.screenY):Ur=ta=0,oi=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:Ur}}),$s=Be(Lr),Ka=S({},Lr,{dataTransfer:0}),Ro=Be(Ka),wo=S({},Wi,{relatedTarget:0}),Za=Be(wo),Ws=S({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Co=Be(Ws),jr=S({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Do=Be(jr),Vo=S({},bi,{data:0}),ui=Be(Vo),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=No[t])?!!n[t]:!1}function ea(){return Mo}var $e=S({},Wi,{key:function(t){if(t.key){var n=Io[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oo=Be($e),zo=S({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=Be(zo),u=S({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),m=Be(u),p=S({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),U=S({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Be(U),et=S({},bi,{newState:0,oldState:0}),bt=Be(et),de=[9,13,27,32],qt=Tn&&"CompositionEvent"in window,se=null;Tn&&"documentMode"in document&&(se=document.documentMode);var An=Tn&&"TextEvent"in window&&!se,ci=Tn&&(!qt||se&&8<se&&11>=se),kn=" ",qn=!1;function Ja(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function j0(t,n){switch(t){case"compositionend":return Br(n);case"keypress":return n.which!==32?null:(qn=!0,kn);case"textInput":return t=n.data,t===kn&&qn?null:t;default:return null}}function B0(t,n){if(kr)return t==="compositionend"||!qt&&Ja(t,n)?(t=Zs(),Ya=Ks=si=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!k0[t.type]:n==="textarea"}function Kd(t,n,a,l){Ji?ri?ri.push(l):ri=[l]:Ji=l,n=bu(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var tl=null,el=null;function q0(t){xp(t,0)}function Uo(t){var n=un(t);if(Ha(n))return t}function Zd(t,n){if(t==="change")return n}var Jd=!1;if(Tn){var xc;if(Tn){var Nc="oninput"in document;if(!Nc){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Nc=typeof $d.oninput=="function"}xc=Nc}else xc=!1;Jd=xc&&(!document.documentMode||9<document.documentMode)}function Wd(){tl&&(tl.detachEvent("onpropertychange",tm),el=tl=null)}function tm(t){if(t.propertyName==="value"&&Uo(el)){var n=[];Kd(n,el,t,En(t)),$i(q0,n)}}function P0(t,n,a){t==="focusin"?(Wd(),tl=n,el=a,tl.attachEvent("onpropertychange",tm)):t==="focusout"&&Wd()}function H0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(el)}function G0(t,n){if(t==="click")return Uo(n)}function Q0(t,n){if(t==="input"||t==="change")return Uo(n)}function F0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:F0;function nl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function em(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nm(t,n){var a=em(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=em(a)}}function im(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?im(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function am(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y0=Tn&&"documentMode"in document&&11>=document.documentMode,qr=null,Oc=null,il=null,zc=!1;function rm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zc||qr==null||qr!==ai(l)||(l=qr,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=bu(Oc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qr)))}function $a(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Pr={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Uc={},sm={};Tn&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Wa(t){if(Uc[t])return Uc[t];if(!Pr[t])return t;var n=Pr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in sm)return Uc[t]=n[a];return t}var lm=Wa("animationend"),om=Wa("animationiteration"),um=Wa("animationstart"),X0=Wa("transitionrun"),K0=Wa("transitionstart"),Z0=Wa("transitioncancel"),cm=Wa("transitionend"),hm=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Pn(t,n){hm.set(t,n),ni(n,[t])}var Lo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Hr=0,jc=0;function jo(){for(var t=Hr,n=jc=Hr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&fm(a,c,f)}}function Bo(t,n,a,l){Sn[Hr++]=t,Sn[Hr++]=n,Sn[Hr++]=a,Sn[Hr++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bc(t,n,a,l){return Bo(t,n,a,l),ko(t)}function tr(t,n){return Bo(t,null,null,n),ko(t)}function fm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function ko(t){if(50<Rl)throw Rl=0,Xh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gr={};function J0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new J0(t,n,a,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")kc(t)&&(g=1);else if(typeof t=="string")g=nE(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=fn(31,a,n,c),t.elementType=C,t.lanes=f,t;case nt:return er(a.children,c,f,n);case $:g=8,c|=24;break;case dt:return t=fn(12,a,n,c|2),t.elementType=dt,t.lanes=f,t;case Wt:return t=fn(13,a,n,c),t.elementType=Wt,t.lanes=f,t;case It:return t=fn(19,a,n,c),t.elementType=It,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pt:g=10;break t;case St:g=9;break t;case Ht:g=11;break t;case D:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function er(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function qc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function mm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Pc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var gm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=gm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Os(n)},gm.set(t,n),n)}return{value:t,source:n,stack:Os(n)}}var Qr=[],Fr=0,Po=null,al=0,Rn=[],wn=0,na=null,hi=1,fi="";function Ci(t,n){Qr[Fr++]=al,Qr[Fr++]=Po,Po=t,al=n}function pm(t,n,a){Rn[wn++]=hi,Rn[wn++]=fi,Rn[wn++]=na,na=t;var l=hi;t=fi;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var f=32-fe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-fe(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Hc(t){t.return!==null&&(Ci(t,1),pm(t,1,0))}function Gc(t){for(;t===Po;)Po=Qr[--Fr],Qr[Fr]=null,al=Qr[--Fr],Qr[Fr]=null;for(;t===na;)na=Rn[--wn],Rn[wn]=null,fi=Rn[--wn],Rn[wn]=null,hi=Rn[--wn],Rn[wn]=null}function ym(t,n){Rn[wn++]=hi,Rn[wn++]=fi,Rn[wn++]=na,hi=n.id,fi=n.overflow,na=t}var ke=null,ie=null,Ut=!1,ia=null,Cn=!1,Qc=Error(r(519));function aa(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(bn(n,t)),Qc}function _m(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Me]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Vt(Cl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),To(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ki(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||zp(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||aa(t,!0)}function vm(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ke=ke.return}}function Yr(t){if(t!==ke)return!1;if(!Ut)return vm(t),Ut=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cf(t.type,t.memoizedProps)),a=!a),a&&ie&&aa(t),vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=Gp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ie=Gp(t)}else n===27?(n=ie,_a(t.type)?(t=gf,gf=null,ie=t):ie=n):ie=ke?Vn(t.stateNode.nextSibling):null;return!0}function nr(){ie=ke=null,Ut=!1}function Fc(){var t=ia;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ia=null),t}function rl(t){ia===null?ia=[t]:ia.push(t)}var Yc=V(null),ir=null,Di=null;function ra(t,n,a){at(Yc,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=Yc.current,F(Yc)}function Xc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Kc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Xc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Xc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Xr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ct.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Kc(n,t,a,l),n.flags|=262144}function Ho(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ar(t){ir=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Em(ir,t)}function Go(t,n){return ir===null&&ar(t),Em(t,n)}function Em(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(r(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var $0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},W0=s.unstable_scheduleCallback,t1=s.unstable_NormalPriority,Ae={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new $0,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&W0(t1,function(){t.controller.abort()})}var ll=null,Jc=0,Kr=0,Zr=null;function e1(t,n){if(ll===null){var a=ll=[];Jc=0,Kr=tf(),Zr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jc++,n.then(Tm,Tm),n}function Tm(){if(--Jc===0&&ll!==null){Zr!==null&&(Zr.status="fulfilled");var t=ll;ll=null,Kr=0,Zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function n1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Am=L.S;L.S=function(t,n){rp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&e1(t,n),Am!==null&&Am(t,n)};var rr=V(null);function $c(){var t=rr.current;return t!==null?t:ee.pooledCache}function Qo(t,n){n===null?at(rr,rr.current):at(rr,n.pool)}function Sm(){var t=$c();return t===null?null:{parent:Ae._currentValue,pool:t}}var Jr=Error(r(460)),Wc=Error(r(474)),Fo=Error(r(542)),Yo={then:function(){}};function bm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Cm(t),t}throw lr=n,Jr}}function sr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(lr=a,Jr):a}}var lr=null;function wm(){if(lr===null)throw Error(r(459));var t=lr;return lr=null,t}function Cm(t){if(t===Jr||t===Fo)throw Error(r(483))}var $r=null,ol=0;function Xo(t){var n=ol;return ol+=1,$r===null&&($r=[]),Rm($r,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ko(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dm(t){function n(O,I){if(t){var j=O.deletions;j===null?(O.deletions=[I],O.flags|=16):j.push(I)}}function a(O,I){if(!t)return null;for(;I!==null;)n(O,I),I=I.sibling;return null}function l(O){for(var I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function c(O,I){return O=wi(O,I),O.index=0,O.sibling=null,O}function f(O,I,j){return O.index=j,t?(j=O.alternate,j!==null?(j=j.index,j<I?(O.flags|=67108866,I):j):(O.flags|=67108866,I)):(O.flags|=1048576,I)}function g(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function E(O,I,j,Y){return I===null||I.tag!==6?(I=qc(j,O.mode,Y),I.return=O,I):(I=c(I,j),I.return=O,I)}function w(O,I,j,Y){var ht=j.type;return ht===nt?G(O,I,j.props.children,Y,j.key):I!==null&&(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&sr(ht)===I.type)?(I=c(I,j.props),ul(I,j),I.return=O,I):(I=qo(j.type,j.key,j.props,null,O.mode,Y),ul(I,j),I.return=O,I)}function B(O,I,j,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=Pc(j,O.mode,Y),I.return=O,I):(I=c(I,j.children||[]),I.return=O,I)}function G(O,I,j,Y,ht){return I===null||I.tag!==7?(I=er(j,O.mode,Y,ht),I.return=O,I):(I=c(I,j),I.return=O,I)}function X(O,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=qc(""+I,O.mode,j),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Q:return j=qo(I.type,I.key,I.props,null,O.mode,j),ul(j,I),j.return=O,j;case tt:return I=Pc(I,O.mode,j),I.return=O,I;case b:return I=sr(I),X(O,I,j)}if(ut(I)||z(I))return I=er(I,O.mode,j,null),I.return=O,I;if(typeof I.then=="function")return X(O,Xo(I),j);if(I.$$typeof===pt)return X(O,Go(O,I),j);Ko(O,I)}return null}function k(O,I,j,Y){var ht=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ht!==null?null:E(O,I,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===ht?w(O,I,j,Y):null;case tt:return j.key===ht?B(O,I,j,Y):null;case b:return j=sr(j),k(O,I,j,Y)}if(ut(j)||z(j))return ht!==null?null:G(O,I,j,Y,null);if(typeof j.then=="function")return k(O,I,Xo(j),Y);if(j.$$typeof===pt)return k(O,I,Go(O,j),Y);Ko(O,j)}return null}function H(O,I,j,Y,ht){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return O=O.get(j)||null,E(I,O,""+Y,ht);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return O=O.get(Y.key===null?j:Y.key)||null,w(I,O,Y,ht);case tt:return O=O.get(Y.key===null?j:Y.key)||null,B(I,O,Y,ht);case b:return Y=sr(Y),H(O,I,j,Y,ht)}if(ut(Y)||z(Y))return O=O.get(j)||null,G(I,O,Y,ht,null);if(typeof Y.then=="function")return H(O,I,j,Xo(Y),ht);if(Y.$$typeof===pt)return H(O,I,j,Go(I,Y),ht);Ko(I,Y)}return null}function ot(O,I,j,Y){for(var ht=null,Bt=null,ct=I,wt=I=0,Nt=null;ct!==null&&wt<j.length;wt++){ct.index>wt?(Nt=ct,ct=null):Nt=ct.sibling;var kt=k(O,ct,j[wt],Y);if(kt===null){ct===null&&(ct=Nt);break}t&&ct&&kt.alternate===null&&n(O,ct),I=f(kt,I,wt),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt,ct=Nt}if(wt===j.length)return a(O,ct),Ut&&Ci(O,wt),ht;if(ct===null){for(;wt<j.length;wt++)ct=X(O,j[wt],Y),ct!==null&&(I=f(ct,I,wt),Bt===null?ht=ct:Bt.sibling=ct,Bt=ct);return Ut&&Ci(O,wt),ht}for(ct=l(ct);wt<j.length;wt++)Nt=H(ct,O,wt,j[wt],Y),Nt!==null&&(t&&Nt.alternate!==null&&ct.delete(Nt.key===null?wt:Nt.key),I=f(Nt,I,wt),Bt===null?ht=Nt:Bt.sibling=Nt,Bt=Nt);return t&&ct.forEach(function(Sa){return n(O,Sa)}),Ut&&Ci(O,wt),ht}function mt(O,I,j,Y){if(j==null)throw Error(r(151));for(var ht=null,Bt=null,ct=I,wt=I=0,Nt=null,kt=j.next();ct!==null&&!kt.done;wt++,kt=j.next()){ct.index>wt?(Nt=ct,ct=null):Nt=ct.sibling;var Sa=k(O,ct,kt.value,Y);if(Sa===null){ct===null&&(ct=Nt);break}t&&ct&&Sa.alternate===null&&n(O,ct),I=f(Sa,I,wt),Bt===null?ht=Sa:Bt.sibling=Sa,Bt=Sa,ct=Nt}if(kt.done)return a(O,ct),Ut&&Ci(O,wt),ht;if(ct===null){for(;!kt.done;wt++,kt=j.next())kt=X(O,kt.value,Y),kt!==null&&(I=f(kt,I,wt),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt);return Ut&&Ci(O,wt),ht}for(ct=l(ct);!kt.done;wt++,kt=j.next())kt=H(ct,O,wt,kt.value,Y),kt!==null&&(t&&kt.alternate!==null&&ct.delete(kt.key===null?wt:kt.key),I=f(kt,I,wt),Bt===null?ht=kt:Bt.sibling=kt,Bt=kt);return t&&ct.forEach(function(dE){return n(O,dE)}),Ut&&Ci(O,wt),ht}function $t(O,I,j,Y){if(typeof j=="object"&&j!==null&&j.type===nt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:t:{for(var ht=j.key;I!==null;){if(I.key===ht){if(ht=j.type,ht===nt){if(I.tag===7){a(O,I.sibling),Y=c(I,j.props.children),Y.return=O,O=Y;break t}}else if(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&sr(ht)===I.type){a(O,I.sibling),Y=c(I,j.props),ul(Y,j),Y.return=O,O=Y;break t}a(O,I);break}else n(O,I);I=I.sibling}j.type===nt?(Y=er(j.props.children,O.mode,Y,j.key),Y.return=O,O=Y):(Y=qo(j.type,j.key,j.props,null,O.mode,Y),ul(Y,j),Y.return=O,O=Y)}return g(O);case tt:t:{for(ht=j.key;I!==null;){if(I.key===ht)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){a(O,I.sibling),Y=c(I,j.children||[]),Y.return=O,O=Y;break t}else{a(O,I);break}else n(O,I);I=I.sibling}Y=Pc(j,O.mode,Y),Y.return=O,O=Y}return g(O);case b:return j=sr(j),$t(O,I,j,Y)}if(ut(j))return ot(O,I,j,Y);if(z(j)){if(ht=z(j),typeof ht!="function")throw Error(r(150));return j=ht.call(j),mt(O,I,j,Y)}if(typeof j.then=="function")return $t(O,I,Xo(j),Y);if(j.$$typeof===pt)return $t(O,I,Go(O,j),Y);Ko(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,I!==null&&I.tag===6?(a(O,I.sibling),Y=c(I,j),Y.return=O,O=Y):(a(O,I),Y=qc(j,O.mode,Y),Y.return=O,O=Y),g(O)):a(O,I)}return function(O,I,j,Y){try{ol=0;var ht=$t(O,I,j,Y);return $r=null,ht}catch(ct){if(ct===Jr||ct===Fo)throw ct;var Bt=fn(29,ct,null,O.mode);return Bt.lanes=Y,Bt.return=O,Bt}}}var or=Dm(!0),Vm=Dm(!1),sa=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function la(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ko(t),fm(t,null,a),n}return Bo(t,l,n,a),ko(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}function nh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ih=!1;function hl(){if(ih){var t=Zr;if(t!==null)throw t}}function fl(t,n,a,l){ih=!1;var c=t.updateQueue;sa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?f=B:g.next=B,g=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;g=0,G=B=w=null,E=f;do{var k=E.lane&-536870913,H=k!==E.lane;if(H?(xt&k)===k:(l&k)===k){k!==0&&k===Kr&&(ih=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,mt=E;k=n;var $t=a;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){X=ot.call($t,X,k);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,k=typeof ot=="function"?ot.call($t,X,k):ot,k==null)break t;X=S({},X,k);break t;case 2:sa=!0}}k=E.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[k]:H.push(k))}else H={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=H,w=X):G=G.next=H,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);G===null&&(w=X),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),da|=g,t.lanes=g,t.memoizedState=X}}function Im(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function xm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Im(a[t],n)}var Wr=V(null),Zo=V(0);function Nm(t,n){t=ji,at(Zo,t),at(Wr,n),ji=t|n.baseLanes}function ah(){at(Zo,ji),at(Wr,Wr.current)}function rh(){ji=Zo.current,F(Wr),F(Zo)}var dn=V(null),Dn=null;function ua(t){var n=t.alternate;at(me,me.current&1),at(dn,t),Dn===null&&(n===null||Wr.current!==null||n.memoizedState!==null)&&(Dn=t)}function sh(t){at(me,me.current),at(dn,t),Dn===null&&(Dn=t)}function Mm(t){t.tag===22?(at(me,me.current),at(dn,t),Dn===null&&(Dn=t)):ca()}function ca(){at(me,me.current),at(dn,dn.current)}function mn(t){F(dn),Dn===t&&(Dn=null),F(me)}var me=V(0);function Jo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||df(a)||mf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ii=0,Rt=null,Zt=null,Se=null,$o=!1,ts=!1,ur=!1,Wo=0,dl=0,es=null,i1=0;function ce(){throw Error(r(321))}function lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function oh(t,n,a,l,c,f){return Ii=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?pg:Sh,ur=!1,f=a(l,c),ur=!1,ts&&(f=zm(n,a,l,c)),Om(t),f}function Om(t){L.H=pl;var n=Zt!==null&&Zt.next!==null;if(Ii=0,Se=Zt=Rt=null,$o=!1,dl=0,es=null,n)throw Error(r(300));t===null||be||(t=t.dependencies,t!==null&&Ho(t)&&(be=!0))}function zm(t,n,a,l){Rt=t;var c=0;do{if(ts&&(es=null),dl=0,ts=!1,25<=c)throw Error(r(301));if(c+=1,Se=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=yg,f=n(a,l)}while(ts);return f}function a1(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?ml(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function uh(){var t=Wo!==0;return Wo=0,t}function ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hh(t){if($o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$o=!1}Ii=0,Se=Zt=Rt=null,ts=!1,dl=Wo=0,es=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Rt.memoizedState=Se=t:Se=Se.next=t,Se}function ge(){if(Zt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Se===null?Rt.memoizedState:Se.next;if(n!==null)Se=n,Zt=t;else{if(t===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?Rt.memoizedState=Se=t:Se=Se.next=t}return Se}function tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var n=dl;return dl+=1,es===null&&(es=[]),t=Rm(es,t,n),n=Rt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?pg:Sh),t}function eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===pt)return qe(t)}throw Error(r(438,String(t)))}function fh(t){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function nu(t){var n=ge();return dh(n,Zt,t)}function dh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,B=n,G=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(xt&X)===X:(Ii&X)===X){var k=B.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Kr&&(G=!0);else if((Ii&k)===k){B=B.next,k===Kr&&(G=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=X,g=f):w=w.next=X,Rt.lanes|=k,da|=k;X=B.action,ur&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else k={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=k,g=f):w=w.next=k,Rt.lanes|=X,da|=X;B=B.next}while(B!==null&&B!==n);if(w===null?g=f:w.next=E,!hn(f,t.memoizedState)&&(be=!0,G&&(a=Zr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Um(t,n,a){var l=Rt,c=ge(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Zt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,yh(Bm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,ns(9,{destroy:void 0},jm.bind(null,l,c,a,n),null),ee===null)throw Error(r(349));f||(Ii&127)!==0||Lm(l,n,a)}return a}function Lm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=tu(),Rt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function jm(t,n,a,l){n.value=a,n.getSnapshot=l,km(n)&&qm(t)}function Bm(t,n,a){return a(function(){km(n)&&qm(t)})}function km(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function qm(t){var n=tr(t,2);n!==null&&ln(n,t,2)}function gh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),ur){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Pm(t,n,a,l){return t.baseState=a,dh(t,Zt,typeof l=="function"?l:xi)}function r1(t,n,a,l,c){if(ru(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Hm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Hm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=a(c,l),w=L.S;w!==null&&w(g,E),Gm(t,n,E)}catch(B){ph(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=a(c,l),Gm(t,n,f)}catch(B){ph(t,n,B)}}function Gm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qm(t,n,l)},function(l){return ph(t,n,l)}):Qm(t,n,a)}function Qm(t,n,a){n.status="fulfilled",n.value=a,Fm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Hm(t,a)))}function ph(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Fm(n),n=n.next;while(n!==l)}t.action=null}function Fm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ym(t,n){return n}function Xm(t,n){if(Ut){var a=ee.formState;if(a!==null){t:{var l=Rt;if(Ut){if(ie){e:{for(var c=ie,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ie=Vn(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:n},a.queue=l,a=dg.bind(null,Rt,l),l.dispatch=a,l=gh(!1),f=Ah.bind(null,Rt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=r1.bind(null,Rt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Km(t){var n=ge();return Zm(n,Zt,t)}function Zm(t,n,a){if(n=dh(t,n,Ym)[0],t=nu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(g){throw g===Jr?Fo:g}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,ns(9,{destroy:void 0},s1.bind(null,c,a),null)),[l,f,t]}function s1(t,n){t.action=n}function Jm(t){var n=ge(),a=Zt;if(a!==null)return Zm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ns(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=tu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function $m(){return ge().memoizedState}function iu(t,n,a,l){var c=We();Rt.flags|=t,c.memoizedState=ns(1|n,{destroy:void 0},a,l===void 0?null:l)}function au(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Zt!==null&&l!==null&&lh(l,Zt.memoizedState.deps)?c.memoizedState=ns(n,f,a,l):(Rt.flags|=t,c.memoizedState=ns(1|n,f,a,l))}function Wm(t,n){iu(8390656,8,t,n)}function yh(t,n){au(2048,8,t,n)}function l1(t){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=tu(),Rt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function tg(t){var n=ge().memoizedState;return l1({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function eg(t,n){return au(4,2,t,n)}function ng(t,n){return au(4,4,t,n)}function ig(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ag(t,n,a){a=a!=null?a.concat([t]):null,au(4,4,ig.bind(null,n,t),a)}function _h(){}function rg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function sg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),ur){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function vh(t,n,a){return a===void 0||(Ii&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=lp(),Rt.lanes|=t,da|=t,a)}function lg(t,n,a,l){return hn(a,n)?a:Wr.current!==null?(t=vh(t,a,l),hn(t,n)||(be=!0),t):(Ii&42)===0||(Ii&1073741824)!==0&&(xt&261930)===0?(be=!0,t.memoizedState=a):(t=lp(),Rt.lanes|=t,da|=t,n)}function og(t,n,a,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,Ah(t,!1,n,a);try{var w=c(),B=L.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=n1(w,l);gl(t,n,G,yn(t))}else gl(t,n,l,yn(t))}catch(X){gl(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function o1(){}function Eh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=ug(t).queue;og(t,c,n,W,a===null?o1:function(){return cg(t),a(l)})}function ug(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:W},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cg(t){var n=ug(t);n.next===null&&(n=t.alternate.memoizedState),gl(t,n.next.queue,{},yn())}function Th(){return qe(Nl)}function hg(){return ge().memoizedState}function fg(){return ge().memoizedState}function u1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=la(a);var l=oa(n,t,a);l!==null&&(ln(l,n,a),cl(l,n,a)),n={cache:Zc()},t.payload=n;return}n=n.return}}function c1(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ru(t)?mg(n,a):(a=Bc(t,n,a,l),a!==null&&(ln(a,t,l),gg(a,n,l)))}function dg(t,n,a){var l=yn();gl(t,n,a,l)}function gl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ru(t))mg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Bo(t,n,c,0),ee===null&&jo(),!1}catch{}if(a=Bc(t,n,c,l),a!==null)return ln(a,t,l),gg(a,n,l),!0}return!1}function Ah(t,n,a,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(r(479))}else n=Bc(t,a,l,2),n!==null&&ln(n,t,2)}function ru(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function mg(t,n){ts=$o=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function gg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}var pl={readContext:qe,use:eu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};pl.useEffectEvent=ce;var pg={readContext:qe,use:eu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Wm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,iu(4194308,4,ig.bind(null,n,t),a)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(ur){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(ur){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=c1.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,a=dg.bind(null,Rt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(t,n){var a=We();return vh(a,t,n)},useTransition:function(){var t=gh(!1);return t=og.bind(null,Rt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Rt,c=We();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(xt&127)!==0||Lm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Wm(Bm.bind(null,l,f,t),[t]),l.flags|=2048,ns(9,{destroy:void 0},jm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=ee.identifierPrefix;if(Ut){var a=fi,l=hi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=i1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Th,useFormState:Xm,useActionState:Xm,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,Rt,!0,a),a.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return We().memoizedState=u1.bind(null,Rt)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((Pt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Sh={readContext:qe,use:eu,useCallback:rg,useContext:qe,useEffect:yh,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:nu,useRef:$m,useState:function(){return nu(xi)},useDebugValue:_h,useDeferredValue:function(t,n){var a=ge();return lg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=nu(xi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Um,useId:hg,useHostTransitionStatus:Th,useFormState:Km,useActionState:Km,useOptimistic:function(t,n){var a=ge();return Pm(a,Zt,t,n)},useMemoCache:fh,useCacheRefresh:fg};Sh.useEffectEvent=tg;var yg={readContext:qe,use:eu,useCallback:rg,useContext:qe,useEffect:yh,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:sg,useReducer:mh,useRef:$m,useState:function(){return mh(xi)},useDebugValue:_h,useDeferredValue:function(t,n){var a=ge();return Zt===null?vh(a,t,n):lg(a,Zt.memoizedState,t,n)},useTransition:function(){var t=mh(xi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Um,useId:hg,useHostTransitionStatus:Th,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var a=ge();return Zt!==null?Pm(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fh,useCacheRefresh:fg};yg.useEffectEvent=tg;function bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=la(l);c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(ln(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=la(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=oa(t,c,l),n!==null&&(ln(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=la(a);l.tag=2,n!=null&&(l.callback=n),n=oa(t,l,a),n!==null&&(ln(n,t,a),cl(n,t,a))}};function _g(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(c,f):!0}function vg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function cr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Eg(t){Lo(t)}function Tg(t){console.error(t)}function Ag(t){Lo(t)}function su(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){su(t,n)},a}function bg(t){return t=la(t),t.tag=3,t}function Rg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Sg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Sg(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function h1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Xr(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?_u():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Yo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Jh(t,l,c)),!1;case 22:return a.flags|=65536,l===Yo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Jh(t,l,c)),!1}throw Error(r(435,a.tag))}return Jh(t,l,c),_u(),!1}if(Ut)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Qc&&(t=Error(r(422),{cause:l}),rl(bn(t,a)))):(l!==Qc&&(n=Error(r(423),{cause:l}),rl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=wh(t.stateNode,l,c),nh(t,c),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:l});if(f=bn(f,a),bl===null?bl=[f]:bl.push(f),he!==4&&(he=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=wh(a.stateNode,l,t),nh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=bg(c),Rg(c,t,a,l),nh(a,c),!1}a=a.return}while(a!==null);return!1}var Ch=Error(r(461)),be=!1;function Pe(t,n,a,l){n.child=t===null?Vm(n,null,a,l):or(n,t.child,a,l)}function wg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ar(n),l=oh(t,n,a,g,f,c),E=uh(),t!==null&&!be?(ch(t,n,c),Ni(t,n,c)):(Ut&&E&&Hc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Cg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=qo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(g,l)&&t.ref===n.ref)return Ni(t,n,c)}return n.flags|=1,t=wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,zh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Ni(t,n,c)}return Dh(t,n,a,l,c)}function Vg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ig(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?Nm(n,f):ah(),Mm(n);else return l=n.lanes=536870912,Ig(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Qo(n,f.cachePool),Nm(n,f),ca(),n.memoizedState=null):(t!==null&&Qo(n,null),ah(),ca());return Pe(t,n,c,a),n.child}function yl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ig(t,n,a,l,c){var f=$c();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qo(n,null),ah(),Mm(n),t!==null&&Xr(t,n,l,!0),n.childLanes=c,null}function lu(t,n){return n=uu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function xg(t,n,a){return or(n,t.child,null,a),t=lu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function f1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ut){if(l.mode==="hidden")return t=lu(n,l),n.lanes=536870912,yl(null,t);if(sh(n),(t=ie)?(t=Hp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=mm(t),a.return=n,n.child=a,ke=n,ie=null)):t=null,t===null)throw aa(n);return n.lanes=536870912,null}return lu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(sh(n),c)if(n.flags&256)n.flags&=-257,n=xg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||Xr(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=ee,l!==null&&(g=js(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,tr(t,g),ln(l,t,g),Ch;_u(),n=xg(t,n,a)}else t=f.treeContext,ie=Vn(g.nextSibling),ke=n,Ut=!0,ia=null,Cn=!1,t!==null&&ym(n,t),n=lu(n,l),n.flags|=4096;return n}return t=wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Dh(t,n,a,l,c){return ar(n),a=oh(t,n,a,l,void 0,c),l=uh(),t!==null&&!be?(ch(t,n,c),Ni(t,n,c)):(Ut&&l&&Hc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Ng(t,n,a,l,c,f){return ar(n),n.updateQueue=null,a=zm(n,l,a,c),Om(t),l=uh(),t!==null&&!be?(ch(t,n,f),Ni(t,n,f)):(Ut&&l&&Hc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Mg(t,n,a,l,c){if(ar(n),n.stateNode===null){var f=Gr,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Gr,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(bh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rh.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=cr(a,E);f.props=w;var B=f.context,G=a.contextType;g=Gr,typeof G=="object"&&G!==null&&(g=qe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&vg(n,f,l,g),sa=!1;var k=n.memoizedState;f.state=k,fl(n,l,f,c),hl(),B=n.memoizedState,E||k!==B||sa?(typeof X=="function"&&(bh(n,a,X,l),B=n.memoizedState),(w=sa||_g(n,a,w,l,k,B,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),g=n.memoizedProps,G=cr(a,g),f.props=G,X=n.pendingProps,k=f.context,B=a.contextType,w=Gr,typeof B=="object"&&B!==null&&(w=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||k!==w)&&vg(n,f,l,w),sa=!1,k=n.memoizedState,f.state=k,fl(n,l,f,c),hl();var H=n.memoizedState;g!==X||k!==H||sa||t!==null&&t.dependencies!==null&&Ho(t.dependencies)?(typeof E=="function"&&(bh(n,a,E,l),H=n.memoizedState),(G=sa||_g(n,a,G,l,k,H,w)||t!==null&&t.dependencies!==null&&Ho(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=or(n,t.child,null,c),n.child=or(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ni(t,n,c),t}function Og(t,n,a,l){return nr(),n.flags|=256,Pe(t,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(t){return{baseLanes:t,cachePool:Sm()}}function xh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function zg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?ua(n):ca(),(t=ie)?(t=Hp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=mm(t),a.return=n,n.child=a,ke=n,ie=null)):t=null,t===null)throw aa(n);return mf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ca(),c=n.mode,E=uu({mode:"hidden",children:E},c),l=er(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ih(a),l.childLanes=xh(t,g,a),n.memoizedState=Vh,yl(null,l)):(ua(n),Nh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ua(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(ca(),n.child=t.child,n.flags|=128,n=null):(ca(),E=l.fallback,c=n.mode,l=uu({mode:"visible",children:l.children},c),E=er(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,or(n,t.child,null,a),l=n.child,l.memoizedState=Ih(a),l.childLanes=xh(t,g,a),n.memoizedState=Vh,n=yl(null,l));else if(ua(n),mf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,rl({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if(be||Xr(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=ee,g!==null&&(l=js(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,tr(t,l),ln(g,t,l),Ch;df(E)||_u(),n=Mh(t,n,a)}else df(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,ie=Vn(E.nextSibling),ke=n,Ut=!0,ia=null,Cn=!1,t!==null&&ym(n,t),n=Nh(n,l.children),n.flags|=4096);return n}return c?(ca(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=wi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=wi(B,E):(E=er(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,yl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ih(a):(c=E.cachePool,c!==null?(w=Ae._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Sm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=xh(t,g,a),n.memoizedState=Vh,yl(t.child,l)):(ua(n),a=t.child,t=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Nh(t,n){return n=uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Mh(t,n,a){return or(n,t.child,null,a),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ug(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Xc(t.return,n,a)}function Oh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Lg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(me,g),Pe(t,n,l,a),l=Ut?al:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ug(t,a,n);else if(t.tag===19)Ug(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Jo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Oh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Jo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Oh(n,!0,a,null,f,l);break;case"together":Oh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Xr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ho(t)))}function d1(t,n,a){switch(n.tag){case 3:oe(n,n.stateNode.containerInfo),ra(n,Ae,t.memoizedState.cache),nr();break;case 27:case 5:Ti(n);break;case 4:oe(n,n.stateNode.containerInfo);break;case 10:ra(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ua(n),n.flags|=128,null):(a&n.child.childLanes)!==0?zg(t,n,a):(ua(n),t=Ni(t,n,a),t!==null?t.sibling:null);ua(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Xr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Lg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),at(me,me.current),l)break;return null;case 22:return n.lanes=0,Vg(t,n,a,n.pendingProps);case 24:ra(n,Ae,t.memoizedState.cache)}return Ni(t,n,a)}function jg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!zh(t,a)&&(n.flags&128)===0)return be=!1,d1(t,n,a);be=(t.flags&131072)!==0}else be=!1,Ut&&(n.flags&1048576)!==0&&pm(n,al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=sr(n.elementType),n.type=t,typeof t=="function")kc(t)?(l=cr(t,l),n.tag=1,n=Mg(null,n,t,l,a)):(n.tag=0,n=Dh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Ht){n.tag=11,n=wg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Cg(null,n,t,l,a);break t}}throw n=it(t)||t,Error(r(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=cr(l,n.pendingProps),Mg(t,n,l,c,a);case 3:t:{if(oe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),fl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ra(n,Ae,l),l!==f.cache&&Kc(n,[Ae],a,!0),hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Og(t,n,l,a);break t}else if(l!==c){c=bn(Error(r(424)),n),rl(c),n=Og(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ie=Vn(t.firstChild),ke=n,Ut=!0,ia=null,Cn=!0,a=Vm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(nr(),l===c){n=Ni(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return ou(t,n),t===null?(a=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,t=n.pendingProps,l=Ru(_t.current).createElement(a),l[ve]=n,l[Me]=t,He(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ti(n),t===null&&Ut&&(l=n.stateNode=Fp(n.type,n.pendingProps,_t.current),ke=n,Cn=!0,c=ie,_a(n.type)?(gf=c,ie=Vn(l.firstChild)):ie=c),Pe(t,n,n.pendingProps.children,a),ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ut&&((c=l=ie)&&(l=H1(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,ke=n,ie=Vn(l.firstChild),Cn=!1,c=!0):c=!1),c||aa(n)),Ti(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,cf(c,f)?l=null:g!==null&&cf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=oh(t,n,a1,null,null,a),Nl._currentValue=c),ou(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Ut&&((t=a=ie)&&(a=G1(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,ke=n,ie=null,t=!0):t=!1),t||aa(n)),null;case 13:return zg(t,n,a);case 4:return oe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=or(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ra(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ar(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Cg(t,n,n.type,n.pendingProps,a);case 15:return Dg(t,n,n.type,n.pendingProps,a);case 19:return Lg(t,n,a);case 31:return f1(t,n,a);case 22:return Vg(t,n,a,n.pendingProps);case 24:return ar(n),l=qe(Ae),t===null?(c=$c(),c===null&&(c=ee,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},th(n),ra(n,Ae,c)):((t.lanes&a)!==0&&(eh(t,n),fl(n,null,null,a),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ra(n,Ae,l)):(l=f.cache,ra(n,Ae,l),l!==c.cache&&Kc(n,[Ae],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mi(t){t.flags|=4}function Uh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(hp())t.flags|=8192;else throw lr=Yo,Wc}else t.flags&=-16777217}function Bg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ty(n))if(hp())t.flags|=8192;else throw lr=Yo,Wc}function cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?po():536870912,t.lanes|=n,ss|=n)}function _l(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function m1(t,n,a){var l=n.pendingProps;switch(Gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Ae),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yr(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fc())),ae(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Mi(n),f!==null?(ae(n),Bg(n,f)):(ae(n),Uh(n,c,null,l,a))):f?f!==t.memoizedState?(Mi(n),ae(n),Bg(n,f)):(ae(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mi(n),ae(n),Uh(n,c,t,l,a)),null;case 27:if(Rr(n),a=_t.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ae(n),null}t=rt.current,Yr(n)?_m(n):(t=Fp(c,l,a),n.stateNode=t,Mi(n))}return ae(n),null;case 5:if(Rr(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ae(n),null}if(f=rt.current,Yr(n))_m(n);else{var g=Ru(_t.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ve]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Mi(n)}}return ae(n),Uh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=_t.current,Yr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||zp(t.nodeValue,a)),t||aa(n,!0)}else t=Ru(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ae(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Yr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ve]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),t=!1}else a=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ve]=n}else nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),cu(n,n.updateQueue),ae(n),null);case 4:return te(),t===null&&rf(n.stateNode.containerInfo),ae(n),null;case 10:return Vi(n.type),ae(n),null;case 19:if(F(me),l=n.memoizedState,l===null)return ae(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)_l(l,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Jo(t),f!==null){for(n.flags|=128,_l(l,!1),t=f.updateQueue,n.updateQueue=t,cu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)dm(a,t),a=a.sibling;return at(me,me.current&1|2),Ut&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>gu&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304)}else{if(!c)if(t=Jo(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,cu(n,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return ae(n),null}else 2*Je()-l.renderingStartTime>gu&&a!==536870912&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=me.current,at(me,c?a&1|2:a&1),Ut&&Ci(n,l.treeForkCount),t):(ae(n),null);case 22:case 23:return mn(n),rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&cu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&F(rr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Ae),ae(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function g1(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Ae),te(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));nr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(me),null;case 4:return te(),null;case 10:return Vi(n.type),null;case 22:case 23:return mn(n),rh(),t!==null&&F(rr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Ae),null;case 25:return null;default:return null}}function kg(t,n){switch(Gc(n),n.tag){case 3:Vi(Ae),te();break;case 26:case 27:case 5:Rr(n);break;case 4:te();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:F(me);break;case 10:Vi(n.type);break;case 22:case 23:mn(n),rh(),t!==null&&F(rr);break;case 24:Vi(Ae)}}function vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function ha(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(G){Xt(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function qg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xm(n,a)}catch(l){Xt(t,t.return,l)}}}function Pg(t,n,a){a.props=cr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function El(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Hg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Lh(t,n,a){try{var l=t.stateNode;L1(l,t.type,a,n),l[Me]=n}catch(c){Xt(t,t.return,c)}}function Gg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_a(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Gg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,a),t=t.sibling;t!==null;)Bh(t,n,a),t=t.sibling}function hu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hu(t,n,a),t=t.sibling;t!==null;)hu(t,n,a),t=t.sibling}function Qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,a),n[ve]=t,n[Me]=a}catch(f){Xt(t,t.return,f)}}var Oi=!1,Re=!1,kh=!1,Fg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function p1(t,n){if(t=t.containerInfo,of=Nu,t=am(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,B=0,G=0,X=t,k=null;e:for(;;){for(var H;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(w=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)k=X,X=H;for(;;){if(X===t)break e;if(k===a&&++B===c&&(E=g),k===f&&++G===l&&(w=g),(H=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=H}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(uf={focusedElem:t,selectionRange:a},Nu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=cr(a.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Xt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Yg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(t,a),l&4&&vl(5,a);break;case 1:if(Ui(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Xt(a,a.return,g)}else{var c=cr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(a,a.return,g)}}l&64&&qg(a),l&512&&El(a,a.return);break;case 3:if(Ui(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xm(t,n)}catch(g){Xt(a,a.return,g)}}break;case 27:n===null&&l&4&&Qg(a);case 26:case 5:Ui(t,a),n===null&&l&4&&Hg(a),l&512&&El(a,a.return);break;case 12:Ui(t,a);break;case 31:Ui(t,a),l&4&&Zg(t,a);break;case 13:Ui(t,a),l&4&&Jg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=R1.bind(null,a),Q1(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Re,c=Oi;var f=Re;Oi=l,(Re=n)&&!f?Li(t,a,(a.subtreeFlags&8772)!==0):Ui(t,a),Oi=c,Re=f}break;case 30:break;default:Ui(t,a)}}function Xg(t){var n=t.alternate;n!==null&&(t.alternate=null,Xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function zi(t,n,a){for(a=a.child;a!==null;)Kg(t,n,a),a=a.sibling}function Kg(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:Re||di(a,n),zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||di(a,n);var l=le,c=nn;_a(a.type)&&(le=a.stateNode,nn=!1),zi(t,n,a),Vl(a.stateNode),le=l,nn=c;break;case 5:Re||di(a,n);case 6:if(l=le,c=nn,le=null,zi(t,n,a),le=l,nn=c,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:le!==null&&(nn?(t=le,qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ms(t)):qp(le,a.stateNode));break;case 4:l=le,c=nn,le=a.stateNode.containerInfo,nn=!0,zi(t,n,a),le=l,nn=c;break;case 0:case 11:case 14:case 15:ha(2,a,n),Re||ha(4,a,n),zi(t,n,a);break;case 1:Re||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pg(a,n,l)),zi(t,n,a);break;case 21:zi(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,zi(t,n,a),Re=l;break;default:zi(t,n,a)}}function Zg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ms(t)}catch(a){Xt(n,n.return,a)}}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ms(t)}catch(a){Xt(n,n.return,a)}}function y1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Fg),n;default:throw Error(r(435,t.tag))}}function fu(t,n){var a=y1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=w1.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(_a(E.type)){le=E.stateNode,nn=!1;break t}break;case 5:le=E.stateNode,nn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(le===null)throw Error(r(160));Kg(f,g,c),le=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$g(n,t),n=n.sibling}var Hn=null;function $g(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(ha(3,t,t.return),vl(3,t),ha(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(Re||a===null||di(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(an(n,t),rn(t),l&512&&(Re||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var g=$p("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;case"meta":if(g=$p("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else Wp(c,t.type,t.stateNode);else t.stateNode=Jp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Wp(c,t.type,t.stateNode):Jp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(Re||a===null||di(a,a.return)),a!==null&&l&4&&Lh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(Re||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(ot){Xt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Lh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Xt(t,t.return,ot)}}break;case 3:if(Du=null,c=Hn,Hn=wu(n.containerInfo),an(n,t),Hn=c,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ms(n.containerInfo)}catch(ot){Xt(t,t.return,ot)}kh&&(kh=!1,Wg(t));break;case 4:l=Hn,Hn=wu(t.stateNode.containerInfo),an(n,t),rn(t),Hn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Oi,G=Re;if(Oi=B||c,Re=G||w,an(n,t),Re=G,Oi=B,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Oi||Re||hr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ot){Xt(w,w.return,ot)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(ot){Xt(w,w.return,ot)}}}else if(n.tag===18){if(a===null){w=n;try{var H=w.stateNode;c?Pp(H,!0):Pp(w.stateNode,!1)}catch(ot){Xt(w,w.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fu(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fu(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Gg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=jh(t);hu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=jh(t);hu(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,B=jh(t);Bh(t,B,w);break;default:throw Error(r(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ui(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yg(t,n.alternate,n),n=n.sibling}function hr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ha(4,n,n.return),hr(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Pg(n,n.return,a),hr(n);break;case 27:Vl(n.stateNode);case 26:case 5:di(n,n.return),hr(n);break;case 22:n.memoizedState===null&&hr(n);break;case 30:hr(n);break;default:hr(n)}t=t.sibling}}function Li(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Li(c,f,a),vl(4,f);break;case 1:if(Li(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Im(w[c],E)}catch(B){Xt(l,l.return,B)}}a&&g&64&&qg(f),El(f,f.return);break;case 27:Qg(f);case 26:case 5:Li(c,f,a),a&&l===null&&g&4&&Hg(f),El(f,f.return);break;case 12:Li(c,f,a);break;case 31:Li(c,f,a),a&&g&4&&Zg(c,f);break;case 13:Li(c,f,a),a&&g&4&&Jg(c,f);break;case 22:f.memoizedState===null&&Li(c,f,a),El(f,f.return);break;case 30:break;default:Li(c,f,a)}n=n.sibling}}function qh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Ph(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tp(t,n,a,l),n=n.sibling}function tp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&vl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Xt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Tl(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,is(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&qh(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Ph(n.alternate,n);break;default:Gn(t,n,a,l)}}function is(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:is(f,g,E,w,c),vl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?is(f,g,E,w,c):Tl(f,g):(G._visibility|=2,is(f,g,E,w,c)),c&&B&2048&&qh(g.alternate,g);break;case 24:is(f,g,E,w,c),c&&B&2048&&Ph(g.alternate,g);break;default:is(f,g,E,w,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&qh(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Ph(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var Al=8192;function as(t,n,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)ep(t,n,a),t=t.sibling}function ep(t,n,a){switch(t.tag){case 26:as(t,n,a),t.flags&Al&&t.memoizedState!==null&&iE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:as(t,n,a);break;case 3:case 4:var l=Hn;Hn=wu(t.stateNode.containerInfo),as(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,as(t,n,a),Al=l):as(t,n,a));break;default:as(t,n,a)}}function np(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,ap(l,t)}np(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ip(t),t=t.sibling}function ip(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&ha(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Sl(t);break;default:Sl(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,ap(l,t)}np(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ha(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function ap(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ha(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Xg(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var _1={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},v1=typeof WeakMap=="function"?WeakMap:Map,Pt=0,ee=null,Dt=null,xt=0,Yt=0,gn=null,fa=!1,rs=!1,Hh=!1,ji=0,he=0,da=0,fr=0,Gh=0,pn=0,ss=0,bl=null,sn=null,Qh=!1,mu=0,rp=0,gu=1/0,pu=null,ma=null,xe=0,ga=null,ls=null,Bi=0,Fh=0,Yh=null,sp=null,Rl=0,Xh=null;function yn(){return(Pt&2)!==0&&xt!==0?xt&-xt:L.T!==null?tf():yo()}function lp(){if(pn===0)if((xt&536870912)===0||Ut){var t=Ba;Ba<<=1,(Ba&3932160)===0&&(Ba=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===ee&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(os(t,0),pa(t,xt,pn,!1)),ka(t,a),((Pt&2)===0||t!==ee)&&(t===ee&&((Pt&2)===0&&(fr|=a),he===4&&pa(t,xt,pn,!1)),mi(t))}function op(t,n,a){if((Pt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||On(t,n),c=l?A1(t,n):Zh(t,n,!0),f=l;do{if(c===0){rs&&!l&&pa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!E1(a)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=bl;var w=E.current.memoizedState.isDehydrated;if(w&&(os(E,g).flags|=256),g=Zh(E,g,!1),g!==2){if(Hh&&!w){E.errorRecoveryDisabledLanes|=f,fr|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){os(t,0),pa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,pn,!fa);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=mu+300-Je(),10<c)){if(pa(l,n,pn,!fa),Zn(l,0,!0)!==0)break t;Bi=n,l.timeoutHandle=Bp(up.bind(null,l,a,sn,pu,Qh,n,pn,fr,ss,fa,f,"Throttled",-0,0),c);break t}up(l,a,sn,pu,Qh,n,pn,fr,ss,fa,f,null,-0,0)}}break}while(!0);mi(t)}function up(t,n,a,l,c,f,g,E,w,B,G,X,k,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},ep(n,f,X);var ot=(f&62914560)===f?mu-Je():(f&4194048)===f?rp-Je():0;if(ot=aE(X,ot),ot!==null){Bi=f,t.cancelPendingCommit=ot(yp.bind(null,t,n,f,a,l,c,g,E,w,G,X,null,k,H)),pa(t,f,g,!B);return}}yp(t,n,f,a,l,c,g,E,w)}function E1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(t,n,a,l){n&=~Gh,n&=~fr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&qa(t,a,n)}function yu(){return(Pt&6)===0?(wl(0),!1):!0}function Kh(){if(Dt!==null){if(Yt===0)var t=Dt.return;else t=Dt,Di=ir=null,hh(t),$r=null,ol=0,t=Dt;for(;t!==null;)kg(t.alternate,t),t=t.return;Dt=null}}function os(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,k1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bi=0,Kh(),ee=t,Dt=a=wi(t.current,null),xt=n,Yt=0,gn=null,fa=!1,rs=On(t,n),Hh=!1,ss=pn=Gh=fr=da=he=0,sn=bl=null,Qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),f=1<<c;n|=t[c],l&=~f}return ji=n,jo(),a}function cp(t,n){Rt=null,L.H=pl,n===Jr||n===Fo?(n=wm(),Yt=3):n===Wc?(n=wm(),Yt=4):Yt=n===Ch?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Dt===null&&(he=1,su(t,bn(n,t.current)))}function hp(){var t=dn.current;return t===null?!0:(xt&4194048)===xt?Dn===null:(xt&62914560)===xt||(xt&536870912)!==0?t===Dn:!1}function fp(){var t=L.H;return L.H=pl,t===null?pl:t}function dp(){var t=L.A;return L.A=_1,t}function _u(){he=4,fa||(xt&4194048)!==xt&&dn.current!==null||(rs=!0),(da&134217727)===0&&(fr&134217727)===0||ee===null||pa(ee,xt,pn,!1)}function Zh(t,n,a){var l=Pt;Pt|=2;var c=fp(),f=dp();(ee!==t||xt!==n)&&(pu=null,os(t,n)),n=!1;var g=he;t:do try{if(Yt!==0&&Dt!==null){var E=Dt,w=gn;switch(Yt){case 8:Kh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Yt;if(Yt=0,gn=null,us(t,E,w,B),a&&rs){g=0;break t}break;default:B=Yt,Yt=0,gn=null,us(t,E,w,B)}}T1(),g=he;break}catch(G){cp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Di=ir=null,Pt=l,L.H=c,L.A=f,Dt===null&&(ee=null,xt=0,jo()),g}function T1(){for(;Dt!==null;)mp(Dt)}function A1(t,n){var a=Pt;Pt|=2;var l=fp(),c=dp();ee!==t||xt!==n?(pu=null,gu=Je()+500,os(t,n)):rs=On(t,n);t:do try{if(Yt!==0&&Dt!==null){n=Dt;var f=gn;e:switch(Yt){case 1:Yt=0,gn=null,us(t,n,f,1);break;case 2:case 9:if(bm(f)){Yt=0,gn=null,gp(n);break}n=function(){Yt!==2&&Yt!==9||ee!==t||(Yt=7),mi(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:bm(f)?(Yt=0,gn=null,gp(n)):(Yt=0,gn=null,us(t,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?ty(g):E.stateNode.complete){Yt=0,gn=null;var w=E.sibling;if(w!==null)Dt=w;else{var B=E.return;B!==null?(Dt=B,vu(B)):Dt=null}break e}}Yt=0,gn=null,us(t,n,f,5);break;case 6:Yt=0,gn=null,us(t,n,f,6);break;case 8:Kh(),he=6;break t;default:throw Error(r(462))}}S1();break}catch(G){cp(t,G)}while(!0);return Di=ir=null,L.H=l,L.A=c,Pt=a,Dt!==null?0:(ee=null,xt=0,jo(),he)}function S1(){for(;Dt!==null&&!wc();)mp(Dt)}function mp(t){var n=jg(t.alternate,t,ji);t.memoizedProps=t.pendingProps,n===null?vu(t):Dt=n}function gp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ng(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Ng(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:hh(n);default:kg(a,n),n=Dt=dm(n,ji),n=jg(a,n,ji)}t.memoizedProps=t.pendingProps,n===null?vu(t):Dt=n}function us(t,n,a,l){Di=ir=null,hh(n),$r=null,ol=0;var c=n.return;try{if(h1(t,c,n,a,xt)){he=1,su(t,bn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;he=1,su(t,bn(a,t.current)),Dt=null;return}n.flags&32768?(Ut||l===1?t=!0:rs||(xt&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),pp(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){pp(n,fa);return}t=n.return;var a=m1(n.alternate,n,ji);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);he===0&&(he=5)}function pp(t,n){do{var a=g1(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);he=6,Dt=null}function yp(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do Eu();while(xe!==0);if((Pt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=jc,Vc(t,a,f,g,E,w),t===ee&&(Dt=ee=null,xt=0),ls=n,ga=t,Bi=a,Fh=f,Yh=c,sp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,C1(Fi,function(){return Ap(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,c=J.p,J.p=2,g=Pt,Pt|=4;try{p1(t,n,a)}finally{Pt=g,J.p=c,L.T=l}}xe=1,_p(),vp(),Ep()}}function _p(){if(xe===1){xe=0;var t=ga,n=ls,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=J.p;J.p=2;var c=Pt;Pt|=4;try{$g(n,t);var f=uf,g=am(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&im(E.ownerDocument.documentElement,E)){if(w!==null&&Mc(E)){var B=w.start,G=w.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var H=k.getSelection(),ot=E.textContent.length,mt=Math.min(w.start,ot),$t=w.end===void 0?mt:Math.min(w.end,ot);!H.extend&&mt>$t&&(g=$t,$t=mt,mt=g);var O=nm(E,mt),I=nm(E,$t);if(O&&I&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var j=X.createRange();j.setStart(O.node,O.offset),H.removeAllRanges(),mt>$t?(H.addRange(j),H.extend(I.node,I.offset)):(j.setEnd(I.node,I.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Nu=!!of,uf=of=null}finally{Pt=c,J.p=l,L.T=a}}t.current=n,xe=2}}function vp(){if(xe===2){xe=0;var t=ga,n=ls,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=J.p;J.p=2;var c=Pt;Pt|=4;try{Yg(t,n.alternate,n)}finally{Pt=c,J.p=l,L.T=a}}xe=3}}function Ep(){if(xe===4||xe===3){xe=0,uo();var t=ga,n=ls,a=Bi,l=sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,ls=ga=null,Tp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ma=null),Ai(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,c=J.p,J.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,J.p=c}}(Bi&3)!==0&&Eu(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Xh?Rl++:(Rl=0,Xh=t):Rl=0,wl(0)}}function Tp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function Eu(){return _p(),vp(),Ep(),Ap()}function Ap(){if(xe!==5)return!1;var t=ga,n=Fh;Fh=0;var a=Ai(Bi),l=L.T,c=J.p;try{J.p=32>a?32:a,L.T=null,a=Yh,Yh=null;var f=ga,g=Bi;if(xe=0,ls=ga=null,Bi=0,(Pt&6)!==0)throw Error(r(331));var E=Pt;if(Pt|=4,ip(f.current),tp(f,f.current,g,a),Pt=E,wl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{J.p=c,L.T=l,Tp(t,n)}}function Sp(t,n,a){n=bn(a,n),n=wh(t.stateNode,n,2),t=oa(t,n,2),t!==null&&(ka(t,2),mi(t))}function Xt(t,n,a){if(t.tag===3)Sp(t,t,a);else for(;n!==null;){if(n.tag===3){Sp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=bn(a,t),a=bg(2),l=oa(n,a,2),l!==null&&(Rg(a,l,n,t),ka(l,2),mi(l));break}}n=n.return}}function Jh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new v1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Hh=!0,c.add(a),t=b1.bind(null,t,n,a),n.then(t,t))}function b1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ee===t&&(xt&a)===a&&(he===4||he===3&&(xt&62914560)===xt&&300>Je()-mu?(Pt&2)===0&&os(t,0):Gh|=a,ss===xt&&(ss=0)),mi(t)}function bp(t,n){n===0&&(n=po()),t=tr(t,n),t!==null&&(ka(t,n),mi(t))}function R1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),bp(t,a)}function w1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),bp(t,a)}function C1(t,n){return Ie(t,n)}var Tu=null,cs=null,$h=!1,Au=!1,Wh=!1,ya=0;function mi(t){t!==cs&&t.next===null&&(cs===null?Tu=cs=t:cs=cs.next=t),Au=!0,$h||($h=!0,V1())}function wl(t,n){if(!Wh&&Au){Wh=!0;do for(var a=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Dp(l,f))}else f=xt,f=Zn(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||On(l,f)||(a=!0,Dp(l,f));l=l.next}while(a);Wh=!1}}function D1(){Rp()}function Rp(){Au=$h=!1;var t=0;ya!==0&&B1()&&(t=ya);for(var n=Je(),a=null,l=Tu;l!==null;){var c=l.next,f=wp(l,n);f===0?(l.next=null,a===null?Tu=c:a.next=c,c===null&&(cs=a)):(a=l,(t!==0||(f&3)!==0)&&(Au=!0)),l=c}xe!==0&&xe!==5||wl(t),ya!==0&&(ya=0)}function wp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Dc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=ee,a=xt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||On(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Ai(a)){case 2:case 8:a=Us;break;case 32:a=Fi;break;case 268435456:a=co;break;default:a=Fi}return l=Cp.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function Cp(t,n){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eu()&&t.callbackNode!==a)return null;var l=xt;return l=Zn(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(op(t,l,n),wp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Cp.bind(null,t):null)}function Dp(t,n){if(Eu())return null;op(t,n,!0)}function V1(){q1(function(){(Pt&6)!==0?Ie(zs,D1):Rp()})}function tf(){if(ya===0){var t=Kr;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),ya=t}return ya}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Or(""+t)}function Ip(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function I1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Vp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Vp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var w=g?Ip(c,g):new FormData(c);Eh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Ip(c,g):new FormData(c),Eh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var ef=0;ef<Lc.length;ef++){var nf=Lc[ef],x1=nf.toLowerCase(),N1=nf[0].toUpperCase()+nf.slice(1);Pn(x1,"on"+N1)}Pn(lm,"onAnimationEnd"),Pn(om,"onAnimationIteration"),Pn(um,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(X0,"onTransitionRun"),Pn(K0,"onTransitionStart"),Pn(Z0,"onTransitionCancel"),Pn(cm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function xp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Lo(G)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Lo(G)}c.currentTarget=null,f=w}}}}function Vt(t,n){var a=n[Vr];a===void 0&&(a=n[Vr]=new Set);var l=t+"__bubble";a.has(l)||(Np(n,t,2,!1),a.add(l))}function af(t,n,a){var l=0;n&&(l|=4),Np(a,t,l,n)}var Su="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[Su]){t[Su]=!0,Bs.forEach(function(a){a!=="selectionchange"&&(M1.has(a)||af(a,!1,t),af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Su]||(n[Su]=!0,af("selectionchange",!1,n))}}function Np(t,n,a,l){switch(ly(n)){case 2:var c=lE;break;case 8:c=oE;break;default:c=Ef}a=c.bind(null,n,a,t),c=void 0,!Fa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function sf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}$i(function(){var B=f,G=En(a),X=[];t:{var k=hm.get(t);if(k!==void 0){var H=li,ot=t;switch(t){case"keypress":if(Xa(a)===0)break t;case"keydown":case"keyup":H=Oo;break;case"focusin":ot="focus",H=Za;break;case"focusout":ot="blur",H=Za;break;case"beforeblur":case"afterblur":H=Za;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case lm:case om:case um:H=Co;break;case cm:H=T;break;case"scroll":case"scrollend":H=Js;break;case"wheel":H=P;break;case"copy":case"cut":case"paste":H=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ri;break;case"toggle":case"beforetoggle":H=bt}var mt=(n&4)!==0,$t=!mt&&(t==="scroll"||t==="scrollend"),O=mt?k!==null?k+"Capture":null:k;mt=[];for(var I=B,j;I!==null;){var Y=I;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||O===null||(Y=jn(I,O),Y!=null&&mt.push(Dl(I,Y,j))),$t)break;I=I.return}0<mt.length&&(k=new H(k,ot,null,a,G),X.push({event:k,listeners:mt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&a!==Xs&&(ot=a.relatedTarget||a.fromElement)&&(ti(ot)||ot[$n]))break t;if((H||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,H?(ot=a.relatedTarget||a.toElement,H=B,ot=ot?ti(ot):null,ot!==null&&($t=h(ot),mt=ot.tag,ot!==$t||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(H=null,ot=B),H!==ot)){if(mt=$s,Y="onMouseLeave",O="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Ri,Y="onPointerLeave",O="onPointerEnter",I="pointer"),$t=H==null?k:un(H),j=ot==null?k:un(ot),k=new mt(Y,I+"leave",H,a,G),k.target=$t,k.relatedTarget=j,Y=null,ti(G)===B&&(mt=new mt(O,I+"enter",ot,a,G),mt.target=j,mt.relatedTarget=$t,Y=mt),$t=Y,H&&ot)e:{for(mt=O1,O=H,I=ot,j=0,Y=O;Y;Y=mt(Y))j++;Y=0;for(var ht=I;ht;ht=mt(ht))Y++;for(;0<j-Y;)O=mt(O),j--;for(;0<Y-j;)I=mt(I),Y--;for(;j--;){if(O===I||I!==null&&O===I.alternate){mt=O;break e}O=mt(O),I=mt(I)}mt=null}else mt=null;H!==null&&Mp(X,k,H,mt,!1),ot!==null&&$t!==null&&Mp(X,$t,ot,mt,!0)}}t:{if(k=B?un(B):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var Bt=Zd;else if(Xd(k))if(Jd)Bt=Q0;else{Bt=H0;var ct=P0}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Mr(B.elementType)&&(Bt=Zd):Bt=G0;if(Bt&&(Bt=Bt(t,B))){Kd(X,Bt,a,G);break t}ct&&ct(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&Qs(k,"number",k.value)}switch(ct=B?un(B):window,t){case"focusin":(Xd(ct)||ct.contentEditable==="true")&&(qr=ct,Oc=B,il=null);break;case"focusout":il=Oc=qr=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,rm(X,a,G);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":rm(X,a,G)}var wt;if(qt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else kr?Ja(t,a)&&(Nt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(ci&&a.locale!=="ko"&&(kr||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&kr&&(wt=Zs()):(si=G,Ks="value"in si?si.value:si.textContent,kr=!0)),ct=bu(B,Nt),0<ct.length&&(Nt=new ui(Nt,t,null,a,G),X.push({event:Nt,listeners:ct}),wt?Nt.data=wt:(wt=Br(a),wt!==null&&(Nt.data=wt)))),(wt=An?j0(t,a):B0(t,a))&&(Nt=bu(B,"onBeforeInput"),0<Nt.length&&(ct=new ui("onBeforeInput","beforeinput",null,a,G),X.push({event:ct,listeners:Nt}),ct.data=wt)),I1(X,t,B,a,G)}xp(X,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jn(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=jn(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function O1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=jn(a,f),B!=null&&g.unshift(Dl(a,B,w))):c||(B=jn(a,f),B!=null&&g.push(Dl(a,B,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var z1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Op(t){return(typeof t=="string"?t:""+t).replace(z1,`
`).replace(U1,"")}function zp(t,n){return n=Op(n),Op(t)===n}function Jt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Ys(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(t,n,"name",c.name,c,null),Jt(t,n,"formEncType",c.formEncType,c,null),Jt(t,n,"formMethod",c.formMethod,c,null),Jt(t,n,"formTarget",c.formTarget,c,null)):(Jt(t,n,"encType",c.encType,c,null),Jt(t,n,"method",c.method,c,null),Jt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),xr(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bo.get(a)||a,xr(t,a,l))}}function lf(t,n,a,l,c,f){switch(a){case"style":Ys(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):xr(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(t,n,f,g,a,null)}}c&&Jt(t,n,"srcSet",a.srcSet,a,null),l&&Jt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=g=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":w=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Jt(t,n,l,G,a,null)}}To(t,f,E,w,B,g,c,!1);return;case"select":Vt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(t,n,g,E,a,null)}Ki(t,l,c,f);return;case"option":for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null)&&(w==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(t,n,w,l,a,null));return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Vt(Cl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(t,n,B,l,a,null)}return;default:if(Mr(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&lf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Jt(t,n,E,l,a,null))}function L1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,B=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(H)||Jt(t,n,H,null,l,X)}}for(var k in l){var H=l[k];if(X=a[k],l.hasOwnProperty(k)&&(H!=null||X!=null))switch(k){case"type":f=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&Jt(t,n,k,H,l,X)}}Nr(t,g,E,w,B,G,f,c);return;case"select":H=g=E=k=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Jt(t,n,c,f,l,w)}n=E,a=g,l=H,k!=null?Xi(t,!!a,k,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":H=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":k=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Jt(t,n,g,c,l,f)}Ao(t,k,H);return;case"option":for(var ot in a)k=a[ot],a.hasOwnProperty(ot)&&k!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?t.selected=!1:Jt(t,n,ot,null,l,k));for(w in l)k=l[w],H=a[w],l.hasOwnProperty(w)&&k!==H&&(k!=null||H!=null)&&(w==="selected"?t.selected=k&&typeof k!="function"&&typeof k!="symbol":Jt(t,n,w,k,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)k=a[mt],a.hasOwnProperty(mt)&&k!=null&&!l.hasOwnProperty(mt)&&Jt(t,n,mt,null,l,k);for(B in l)if(k=l[B],H=a[B],l.hasOwnProperty(B)&&k!==H&&(k!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Jt(t,n,B,k,l,H)}return;default:if(Mr(n)){for(var $t in a)k=a[$t],a.hasOwnProperty($t)&&k!==void 0&&!l.hasOwnProperty($t)&&lf(t,n,$t,void 0,l,k);for(G in l)k=l[G],H=a[G],!l.hasOwnProperty(G)||k===H||k===void 0&&H===void 0||lf(t,n,G,k,l,H);return}}for(var O in a)k=a[O],a.hasOwnProperty(O)&&k!=null&&!l.hasOwnProperty(O)&&Jt(t,n,O,null,l,k);for(X in l)k=l[X],H=a[X],!l.hasOwnProperty(X)||k===H||k==null&&H==null||Jt(t,n,X,k,l,H)}function Up(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Up(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var G=w.transferSize,X=w.initiatorType;G&&Up(X)&&(w=w.responseEnd,g+=G*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var of=null,uf=null;function Ru(t){return t.nodeType===9?t:t.ownerDocument}function Lp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function B1(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(t){return kp.resolve(null).then(t).catch(P1)}:Bp;function P1(t){setTimeout(function(){throw t})}function _a(t){return t==="head"}function qp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),ms(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);ms(n)}function Pp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ff(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function H1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function G1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Hp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$?"||t.data==="$~"}function mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Q1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var gf=null;function Gp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Qp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Fp(t,n,a){switch(n=Ru(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ir(t)}var In=new Map,Yp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=J.d;J.d={f:F1,r:Y1,D:X1,C:K1,L:Z1,m:J1,X:W1,S:$1,M:tE};function F1(){var t=ki.f(),n=yu();return t||n}function Y1(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?cg(n):ki.r(t)}var hs=typeof document>"u"?null:document;function Xp(t,n,a){var l=hs;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yp.has(c)||(Yp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),Ee(n),l.head.appendChild(n)))}}function X1(t){ki.D(t),Xp("dns-prefetch",t,null)}function K1(t,n){ki.C(t,n),Xp("preconnect",t,n)}function Z1(t,n,a){ki.L(t,n,a);var l=hs;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=fs(t);break;case"script":f=ds(t)}In.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(xl(f))||(n=l.createElement("link"),He(n,"link",t),Ee(n),l.head.appendChild(n)))}}function J1(t,n){ki.m(t,n);var a=hs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ds(t)}if(!In.has(f)&&(t=S({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(f)))return}l=a.createElement("link"),He(l,"link",t),Ee(l),a.head.appendChild(l)}}}function $1(t,n,a){ki.S(t,n,a);var l=hs;if(l&&t){var c=ei(l).hoistableStyles,f=fs(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Il(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&pf(t,a);var w=g=l.createElement("link");Ee(w),He(w,"link",t),w._p=new Promise(function(B,G){w.onload=B,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function W1(t,n){ki.X(t,n);var a=hs;if(a&&t){var l=ei(a).hoistableScripts,c=ds(t),f=l.get(c);f||(f=a.querySelector(xl(c)),f||(t=S({src:t,async:!0},n),(n=In.get(c))&&yf(t,n),f=a.createElement("script"),Ee(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tE(t,n){ki.M(t,n);var a=hs;if(a&&t){var l=ei(a).hoistableScripts,c=ds(t),f=l.get(c);f||(f=a.querySelector(xl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=In.get(c))&&yf(t,n),f=a.createElement("script"),Ee(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,a,l){var c=(c=_t.current)?wu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fs(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fs(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||eE(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function fs(t){return'href="'+tn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Zp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function eE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),Ee(n),t.head.appendChild(n))}function ds(t){return'[src="'+tn(t)+'"]'}function xl(t){return"script[async]"+t}function Jp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),He(l,"style",c),Cu(l,a.precedence,t),n.instance=l;case"stylesheet":c=fs(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Zp(a),(c=In.get(c))&&pf(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",l),n.state.loading|=4,Cu(f,a.precedence,t),n.instance=f;case"script":return f=ds(a.src),(c=t.querySelector(xl(f)))?(n.instance=c,Ee(c),c):(l=a,(c=In.get(f))&&(l=S({},a),yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,a.precedence,t));return n.instance}function Cu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function $p(t,n,a){if(Du===null){var l=new Map,c=Du=new Map;c.set(a,l)}else c=Du,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Wp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function nE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ty(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fs(l.href),f=n.querySelector(Il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Zp(l),(c=In.get(c))&&pf(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var _f=0;function aE(t,n){return t.stylesheets&&t.count===0&&xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&_f===0&&(_f=62500*j1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>_f?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function xu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(rE,t),Iu=null,Vu.call(t))}function rE(t,n){if(!(n.state.loading&4)){var a=Iu.get(t);if(a)var l=a.get(null);else{a=new Map,Iu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Vu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function sE(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ey(t,n,a,l,c,f,g,E,w,B,G,X){return t=new sE(t,n,a,g,w,B,G,X,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},th(f),t}function ny(t){return t?(t=Gr,t):Gr}function iy(t,n,a,l,c,f){c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=la(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=oa(t,l,n),a!==null&&(ln(a,t,n),cl(a,t,n))}function ay(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function vf(t,n){ay(t,n),(t=t.alternate)&&ay(t,n)}function ry(t){if(t.tag===13||t.tag===31){var n=tr(t,67108864);n!==null&&ln(n,t,67108864),vf(t,67108864)}}function sy(t){if(t.tag===13||t.tag===31){var n=yn();n=Pa(n);var a=tr(t,n);a!==null&&ln(a,t,n),vf(t,n)}}var Nu=!0;function lE(t,n,a,l){var c=L.T;L.T=null;var f=J.p;try{J.p=2,Ef(t,n,a,l)}finally{J.p=f,L.T=c}}function oE(t,n,a,l){var c=L.T;L.T=null;var f=J.p;try{J.p=8,Ef(t,n,a,l)}finally{J.p=f,L.T=c}}function Ef(t,n,a,l){if(Nu){var c=Tf(l);if(c===null)sf(t,n,l,Mu,a),oy(t,l);else if(cE(c,t,n,a,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-fe(g);E.entanglements[1]|=w,g&=~w}mi(f),(Pt&6)===0&&(gu=Je()+500,wl(0))}}break;case 31:case 13:E=tr(f,2),E!==null&&ln(E,f,2),yu(),vf(f,2)}if(f=Tf(l),f===null&&sf(t,n,l,Mu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else sf(t,n,l,null,a)}}function Tf(t){return t=En(t),Af(t)}var Mu=null;function Af(t){if(Mu=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mu=t,null}function ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case zs:return 2;case Us:return 8;case Fi:case Cc:return 32;case co:return 268435456;default:return 32}default:return 32}}var Sf=!1,va=null,Ea=null,Ta=null,Ml=new Map,Ol=new Map,Aa=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function zl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cE(t,n,a,l,c){switch(n){case"focusin":return va=zl(va,t,n,a,l,c),!0;case"dragenter":return Ea=zl(Ea,t,n,a,l,c),!0;case"mouseover":return Ta=zl(Ta,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,zl(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,zl(Ol.get(f)||null,t,n,a,l,c)),!0}return!1}function uy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){sy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){sy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Tf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xs=l,a.target.dispatchEvent(l),Xs=null}else return n=vn(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function cy(t,n,a){Ou(t)&&a.delete(n)}function hE(){Sf=!1,va!==null&&Ou(va)&&(va=null),Ea!==null&&Ou(Ea)&&(Ea=null),Ta!==null&&Ou(Ta)&&(Ta=null),Ml.forEach(cy),Ol.forEach(cy)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,Sf||(Sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hE)))}var Uu=null;function hy(t){Uu!==t&&(Uu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Af(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ms(t){function n(w){return zu(w,t)}va!==null&&zu(va,t),Ea!==null&&zu(Ea,t),Ta!==null&&zu(Ta,t),Ml.forEach(n),Ol.forEach(n);for(var a=0;a<Aa.length;a++){var l=Aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Aa.length&&(a=Aa[0],a.blockedOn===null);)uy(a),a.blockedOn===null&&Aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Me]||null;if(typeof f=="function")g||hy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Af(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),hy(a)}}}function fy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function bf(t){this._internalRoot=t}Lu.prototype.render=bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();iy(a,l,t,n,null,null)},Lu.prototype.unmount=bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iy(t.current,2,null,t,null,null),yu(),n[$n]=null}};function Lu(t){this._internalRoot=t}Lu.prototype.unstable_scheduleHydration=function(t){if(t){var n=yo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Aa.length&&n!==0&&n<Aa[a].priority;a++);Aa.splice(a,0,t),a===0&&uy(t)}};var dy=e.version;if(dy!=="19.2.3")throw Error(r(527,dy,"19.2.3"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var fE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Mn=ju.inject(fE),je=ju}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Eg,f=Tg,g=Ag;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ey(t,1,!1,null,null,a,l,null,c,f,g,fy),t[$n]=n.current,rf(t),new bf(n)},Ll.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Eg,g=Tg,E=Ag,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=ey(t,1,!0,n,a??null,l,c,w,f,g,E,fy),n.context=ny(null),a=n.current,l=yn(),l=Pa(l),c=la(l),c.callback=null,oa(a,c,l),a=l,n.current.lanes=a,ka(n,a),mi(n),t[$n]=n.current,rf(t),new Lu(n)},Ll.version="19.2.3",Ll}var Sy;function SE(){if(Sy)return Cf.exports;Sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cf.exports=AE(),Cf.exports}var bE=SE();const RE=k_(bE);async function q_(s){const e=new Blob([s],{type:"text/javascript"}),i=URL.createObjectURL(e);try{const o=(await import(i)).default,h=typeof o?.init=="function",d=typeof o?.render=="function";if(!h&&!d)throw new Error("El archivo no es vlido. Debe exportar 'init' (nuevo) o 'render' (formato compaeros).");return d&&!o.meta&&(o.meta={id:"legacy_"+Date.now(),name:"Simulador Importado",version:"0.0.0",inputs:[]}),o}catch(r){throw console.error("Error cargando simulador:",r),r}finally{URL.revokeObjectURL(i)}}const hd=({code:s,params:e})=>{const i=Gt.useRef(null),[r,o]=Gt.useState(null),[h,d]=Gt.useState(null),[y,v]=Gt.useState(!1);if(Gt.useEffect(()=>{let A=!0;return(async()=>{try{o(null);const N=await q_(s);A&&d(N)}catch(N){A&&o(N.message)}})(),()=>{A=!1}},[s]),Gt.useEffect(()=>{if(!h||!i.current||!y)return;const A=i.current;A.innerHTML="";try{if(h.init)h.init(A,e),h.update&&h.update(A,e);else if(h.render){const S=h.meta?.name||"Simulador",N=h.render(e,S),Q=/<script>([\s\S]*?)<\/script>/,tt=N.match(Q),nt=N.replace(Q,""),$=tt?tt[1]:null;if(A.innerHTML=nt,$){const dt=document.createElement("script");dt.textContent=$,document.body.appendChild(dt),setTimeout(()=>dt.remove(),10)}}}catch(S){console.error("Error ejecucin:",S),A.innerHTML=`<div class="feedback-incorrect">Error: ${S.message}</div>`}return()=>{h.destroy&&h.destroy(A),A.innerHTML=""}},[h,e,y]),r)return q.jsxs("div",{className:"feedback-incorrect",children:["Error: ",r]});if(!h)return q.jsx("div",{className:"loading",children:"Cargando..."});const _=h.meta?.name||"Simulador";return q.jsxs("div",{className:"my-4",children:[q.jsx("button",{className:`btn-sim ${y?"btn-sim-rojo":""}`,onClick:()=>v(!y),children:y?`Ocultar ${_}`:`Abrir ${_}`}),y&&q.jsxs("div",{className:"simulador-box fade-in",children:[q.jsx("div",{ref:i,style:{minHeight:"50px"}}),q.jsxs("div",{className:"text-muted text-sm mt-2",style:{fontSize:"0.8em",fontStyle:"italic"},children:["Formato: ",h.init?"Nativo V2":"Legacy V1"]})]})]})};const wE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CE=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),by=s=>{const e=CE(s);return e.charAt(0).toUpperCase()+e.slice(1)},P_=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),DE=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var VE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IE=Gt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...y},v)=>Gt.createElement("svg",{ref:v,...VE,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:P_("lucide",o),...!h&&!DE(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Gt.createElement(_,A)),...Array.isArray(h)?h:[h]]));const Le=(s,e)=>{const i=Gt.forwardRef(({className:r,...o},h)=>Gt.createElement(IE,{ref:h,iconNode:e,className:P_(`lucide-${wE(by(s))}`,`lucide-${s}`,r),...o}));return i.displayName=by(s),i};const xE=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],H_=Le("arrow-down",xE);const NE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],G_=Le("arrow-up",NE);const ME=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],OE=Le("circle-check-big",ME);const zE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UE=Le("circle-question-mark",zE);const LE=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],jE=Le("cloud-upload",LE);const BE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kE=Le("download",BE);const qE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PE=Le("eye",qE);const HE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],GE=Le("file-text",HE);const QE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],FE=Le("folder-open",QE);const YE=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],XE=Le("gamepad-2",YE);const KE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Ry=Le("moon",KE);const ZE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JE=Le("save",ZE);const $E=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wy=Le("sun",$E);const WE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Q_=Le("trash-2",WE);const tT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eT=Le("triangle-alert",tT);const nT=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],iT=Le("undo",nT);const aT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rT=Le("upload",aT);const sT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lT=Le("x",sT),oT=({block:s,availableSimulators:e,onUpdate:i,onDelete:r,onMoveUp:o,onMoveDown:h,isFirst:d,isLast:y})=>{const v=S=>{i({...s,content:S.target.value})},_=S=>{const N=S.target.value;i({...s,simulatorId:N,simConfig:{}})},A=e.find(S=>S.id===s.simulatorId);return q.jsxs("div",{className:"paper-container fade-in",style:{position:"relative",padding:"1rem",border:"1px solid var(--border-color)",marginBottom:"1rem"},children:[q.jsxs("div",{className:"toolbar-line",style:{justifyContent:"space-between",marginBottom:"0.5rem"},children:[q.jsx("span",{className:"badge",children:s.type==="simulator"?" Simulador":" Texto / LaTeX"}),q.jsxs("div",{style:{display:"flex",gap:"4px"},children:[q.jsx("button",{onClick:o,disabled:d,title:"Subir",children:q.jsx(G_,{size:16})}),q.jsx("button",{onClick:h,disabled:y,title:"Bajar",children:q.jsx(H_,{size:16})}),q.jsx("button",{onClick:r,className:"delete-btn",style:{color:"var(--brand-error)",borderColor:"var(--brand-error)"},title:"Eliminar",children:q.jsx(Q_,{size:16})})]})]}),s.type==="text"&&q.jsx("textarea",{value:s.content,onChange:v,placeholder:"Escribe aqu tu contenido... (Soporta LaTeX entre \\( \\))",rows:4,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid var(--border-color)"}}),s.type==="simulator"&&q.jsxs("div",{children:[q.jsxs("div",{className:"row",style:{marginBottom:"1rem"},children:[q.jsx("label",{style:{fontWeight:"bold",fontSize:"0.9rem",display:"block",marginBottom:"5px"},children:"Elige un Simulador:"}),q.jsxs("select",{value:s.simulatorId||"",onChange:_,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid var(--border-color)"},children:[q.jsx("option",{value:"",children:"-- Selecciona un simulador --"}),e.map(S=>q.jsxs("option",{value:S.id,children:[S.name," (v",S.version,")"]},S.id))]})]}),A?q.jsxs("div",{style:{border:"2px dashed var(--brand-secondary)",padding:"10px",borderRadius:"8px",background:"#f8fafc"},children:[q.jsx("p",{style:{fontSize:"0.8em",color:"var(--text-muted)",textAlign:"center",margin:"0 0 10px 0"},children:" Vista Previa en Vivo "}),q.jsx(hd,{code:A.code,params:s.simConfig||{}})]}):s.simulatorId&&q.jsx("p",{className:"text-muted",children:" Simulador no encontrado (fue borrado?)"})]})]})},uT=({page:s,availableSimulators:e,onUpdatePage:i})=>{const r=(_,A)=>{const S=s.blocks.map(N=>N.id===_?A:N);i({...s,blocks:S})},o=_=>{if(!confirm("Eliminar este bloque?"))return;const A=s.blocks.filter(S=>S.id!==_);i({...s,blocks:A})},h=(_,A)=>{const S=[...s.blocks],N=_+A;[S[_],S[N]]=[S[N],S[_]],i({...s,blocks:S})},d=_=>{const A={id:crypto.randomUUID(),type:_,content:"",simulatorId:"",simConfig:{}};i({...s,blocks:[...s.blocks,A]})},y=_=>{i({...s,title:_.target.value})},v=_=>{i({...s,type:_.target.value})};return q.jsxs("div",{className:"page-editor",children:[q.jsxs("div",{style:{marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[q.jsxs("div",{style:{marginBottom:"0.5rem"},children:[q.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginRight:"10px"},children:"Tipo de Pgina"}),q.jsxs("select",{value:s.type||"seccion",onChange:v,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid var(--border-color)",fontWeight:"bold",color:"var(--brand-primary)"},children:[q.jsx("option",{value:"portada",children:"Portada"}),q.jsx("option",{value:"capitulo",children:"Captulo"}),q.jsx("option",{value:"seccion",children:"Seccin"}),q.jsx("option",{value:"subseccion",children:"Subseccin"})]})]}),q.jsx("input",{type:"text",value:s.title,onChange:y,placeholder:"Ttulo de la Pgina",style:{fontSize:"1.8rem",fontWeight:"bold",width:"100%",padding:"0.5rem 0",border:"none",borderBottom:"2px solid var(--brand-primary)",background:"transparent",color:"var(--text-primary)",outline:"none"}})]}),q.jsxs("div",{className:"blocks-list",children:[s.blocks.length===0&&q.jsx("div",{className:"empty-state",children:"Esta pgina est vaca. Aade contenido abajo."}),s.blocks.map((_,A)=>q.jsx(oT,{block:_,availableSimulators:e,onUpdate:S=>r(_.id,S),onDelete:()=>o(_.id),onMoveUp:()=>h(A,-1),onMoveDown:()=>h(A,1),isFirst:A===0,isLast:A===s.blocks.length-1},_.id))]}),q.jsxs("div",{className:"actions-area",style:{marginTop:"2rem",paddingTop:"1rem",borderTop:"1px dashed var(--border-color)",display:"flex",gap:"1rem",justifyContent:"center"},children:[q.jsxs("button",{onClick:()=>d("text"),style:{display:"flex",alignItems:"center",gap:"8px"},children:[q.jsx(GE,{size:18})," Aadir Texto"]}),q.jsxs("button",{onClick:()=>d("simulator"),style:{display:"flex",alignItems:"center",gap:"8px",borderColor:"var(--brand-accent)"},children:[q.jsx(XE,{size:18})," Aadir Simulador"]})]})]})},cT=()=>{};var Cy={};const F_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},hT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,S=(h&3)<<4|y>>4;let N=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(N=64)),r.push(i[A],i[S],i[N],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(F_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):hT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||S==null)throw new fT;const N=h<<2|y>>4;if(r.push(N),_!==64){const Q=y<<4&240|_>>2;if(r.push(Q),S!==64){const tt=_<<6&192|S;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class fT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dT=function(s){const e=F_(s);return Y_.encodeByteArray(e,!0)},Zu=function(s){return dT(s).replace(/\./g,"")},mT=function(s){try{return Y_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pT=()=>gT().__FIREBASE_DEFAULTS__,yT=()=>{if(typeof process>"u"||typeof Cy>"u")return;const s=Cy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_T=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&mT(s[1]);return e&&JSON.parse(e)},fd=()=>{try{return cT()||pT()||yT()||_T()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vT=s=>fd()?.emulatorHosts?.[s],ET=s=>{const e=vT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},X_=()=>fd()?.config;class TT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function dd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AT(s){return(await fetch(s,{credentials:"include"})).ok}function ST(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(d)),""].join(".")}const Pl={};function bT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?s.emulator.push(e):s.prod.push(e);return s}function RT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Dy=!1;function wT(s,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||Pl[s]===e||Pl[s]||Dy)return;Pl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=bT().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function y(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,Q){N.setAttribute("width","24"),N.setAttribute("id",Q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Dy=!0,d()},N}function A(N,Q){N.setAttribute("id",Q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=RT(r),Q=i("text"),tt=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),St=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const pt=N.element;y(pt),A($,nt);const Ht=_();v(St,dt),pt.append(St,tt,$,Ht),document.body.appendChild(pt)}h?(tt.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function CT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DT(){const s=fd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VT(){return!DT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IT(){try{return typeof indexedDB=="object"}catch{return!1}}function xT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const NT="FirebaseError";class Cs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=NT,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K_.prototype.create)}}class K_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?MT(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,y,r)}}function MT(s,e){return s.replace(OT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const OT=/\{\$([^}]+)}/g;function Ju(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Vy(h)&&Vy(d)){if(!Ju(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Vy(s){return s!==null&&typeof s=="object"}function yr(s){return s&&s._delegate?s._delegate:s}class Xl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const dr="[DEFAULT]";class zT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new TT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LT(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dr){return this.instances.has(e)}getOptions(e=dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dr){return this.component?this.component.multipleInstances?e:dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UT(s){return s===dr?void 0:s}function LT(s){return s.instantiationMode==="EAGER"}class jT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const BT={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},kT=jt.INFO,qT={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},PT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=qT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z_{constructor(e){this.name=e,this._logLevel=kT,this._logHandler=PT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const HT=(s,e)=>e.some(i=>s instanceof i);let Iy,xy;function GT(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QT(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,kf=new WeakMap,$_=new WeakMap,xf=new WeakMap,md=new WeakMap;function FT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ra(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&J_.set(i,s)}).catch(()=>{}),md.set(e,s),e}function YT(s){if(kf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});kf.set(s,e)}let qf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return kf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||$_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ra(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XT(s){qf=s(qf)}function KT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Nf(this),e,...i);return $_.set(r,e.sort?e.sort():[e]),Ra(r)}:QT().includes(s)?function(...e){return s.apply(Nf(this),e),Ra(J_.get(this))}:function(...e){return Ra(s.apply(Nf(this),e))}}function ZT(s){return typeof s=="function"?KT(s):(s instanceof IDBTransaction&&YT(s),HT(s,GT())?new Proxy(s,qf):s)}function Ra(s){if(s instanceof IDBRequest)return FT(s);if(xf.has(s))return xf.get(s);const e=ZT(s);return e!==s&&(xf.set(s,e),md.set(e,s)),e}const Nf=s=>md.get(s);function JT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=Ra(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ra(d.result),v.oldVersion,v.newVersion,Ra(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const $T=["get","getKey","getAll","getAllKeys","count"],WT=["put","add","delete","clear"],Mf=new Map;function Ny(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=WT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||$T.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Mf.set(e,h),h}XT(s=>({...s,get:(e,i,r)=>Ny(e,i)||s.get(e,i,r),has:(e,i)=>!!Ny(e,i)||s.has(e,i)}));class tA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function eA(s){return s.getComponent()?.type==="VERSION"}const Pf="@firebase/app",My="0.14.6";const Pi=new Z_("@firebase/app"),nA="@firebase/app-compat",iA="@firebase/analytics-compat",aA="@firebase/analytics",rA="@firebase/app-check-compat",sA="@firebase/app-check",lA="@firebase/auth",oA="@firebase/auth-compat",uA="@firebase/database",cA="@firebase/data-connect",hA="@firebase/database-compat",fA="@firebase/functions",dA="@firebase/functions-compat",mA="@firebase/installations",gA="@firebase/installations-compat",pA="@firebase/messaging",yA="@firebase/messaging-compat",_A="@firebase/performance",vA="@firebase/performance-compat",EA="@firebase/remote-config",TA="@firebase/remote-config-compat",AA="@firebase/storage",SA="@firebase/storage-compat",bA="@firebase/firestore",RA="@firebase/ai",wA="@firebase/firestore-compat",CA="firebase",DA="12.6.0";const Hf="[DEFAULT]",VA={[Pf]:"fire-core",[nA]:"fire-core-compat",[aA]:"fire-analytics",[iA]:"fire-analytics-compat",[sA]:"fire-app-check",[rA]:"fire-app-check-compat",[lA]:"fire-auth",[oA]:"fire-auth-compat",[uA]:"fire-rtdb",[cA]:"fire-data-connect",[hA]:"fire-rtdb-compat",[fA]:"fire-fn",[dA]:"fire-fn-compat",[mA]:"fire-iid",[gA]:"fire-iid-compat",[pA]:"fire-fcm",[yA]:"fire-fcm-compat",[_A]:"fire-perf",[vA]:"fire-perf-compat",[EA]:"fire-rc",[TA]:"fire-rc-compat",[AA]:"fire-gcs",[SA]:"fire-gcs-compat",[bA]:"fire-fst",[wA]:"fire-fst-compat",[RA]:"fire-vertex","fire-js":"fire-js",[CA]:"fire-js-all"};const $u=new Map,IA=new Map,Gf=new Map;function Oy(s,e){try{s.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wu(s){const e=s.name;if(Gf.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,s);for(const i of $u.values())Oy(i,s);for(const i of IA.values())Oy(i,s);return!0}function xA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function NA(s){return s==null?!1:s.settings!==void 0}const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new K_("app","Firebase",MA);class OA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}const zA=DA;function W_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Hf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw wa.create("bad-app-name",{appName:String(o)});if(i||(i=X_()),!i)throw wa.create("no-options");const h=$u.get(o);if(h){if(Ju(i,h.options)&&Ju(r,h.config))return h;throw wa.create("duplicate-app",{appName:o})}const d=new jT(o);for(const v of Gf.values())d.addComponent(v);const y=new OA(i,r,d);return $u.set(o,y),y}function UA(s=Hf){const e=$u.get(s);if(!e&&s===Hf&&X_())return W_();if(!e)throw wa.create("no-app",{appName:s});return e}function vs(s,e,i){let r=VA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}Wu(new Xl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const LA="firebase-heartbeat-database",jA=1,Kl="firebase-heartbeat-store";let Of=null;function tv(){return Of||(Of=JT(LA,jA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw wa.create("idb-open",{originalErrorMessage:s.message})})),Of}async function BA(s){try{const i=(await tv()).transaction(Kl),r=await i.objectStore(Kl).get(ev(s));return await i.done,r}catch(e){if(e instanceof Cs)Pi.warn(e.message);else{const i=wa.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(i.message)}}}async function zy(s,e){try{const r=(await tv()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,ev(s)),await r.done}catch(i){if(i instanceof Cs)Pi.warn(i.message);else{const r=wa.create("idb-set",{originalErrorMessage:i?.message});Pi.warn(r.message)}}}function ev(s){return`${s.name}!${s.options.appId}`}const kA=1024,qA=30;class PA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>qA){const o=QA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uy(),{heartbeatsToSend:i,unsentEntries:r}=HA(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pi.warn(e),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function HA(s,e=kA){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ly(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ly(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class GA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IT()?xT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ly(s){return Zu(JSON.stringify({version:2,heartbeats:s})).length}function QA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function FA(s){Wu(new Xl("platform-logger",e=>new tA(e),"PRIVATE")),Wu(new Xl("heartbeat",e=>new PA(e),"PRIVATE")),vs(Pf,My,s),vs(Pf,My,"esm2020"),vs("fire-js","")}FA("");var YA="firebase",XA="12.7.0";vs(YA,XA,"app");var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ca,nv;(function(){var s;function e(D,b){function C(){}C.prototype=b.prototype,D.F=b.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(M,x,z){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return b.prototype[x].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)M[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;x<16;++x)M[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=D.g[0],C=D.g[1],x=D.g[2];let z=D.g[3],R;R=b+(z^C&(x^z))+M[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=z+(x^b&(C^x))+M[1]+3905402710&4294967295,z=b+(R<<12&4294967295|R>>>20),R=x+(C^z&(b^C))+M[2]+606105819&4294967295,x=z+(R<<17&4294967295|R>>>15),R=C+(b^x&(z^b))+M[3]+3250441966&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(z^C&(x^z))+M[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=z+(x^b&(C^x))+M[5]+1200080426&4294967295,z=b+(R<<12&4294967295|R>>>20),R=x+(C^z&(b^C))+M[6]+2821735955&4294967295,x=z+(R<<17&4294967295|R>>>15),R=C+(b^x&(z^b))+M[7]+4249261313&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(z^C&(x^z))+M[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=z+(x^b&(C^x))+M[9]+2336552879&4294967295,z=b+(R<<12&4294967295|R>>>20),R=x+(C^z&(b^C))+M[10]+4294925233&4294967295,x=z+(R<<17&4294967295|R>>>15),R=C+(b^x&(z^b))+M[11]+2304563134&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(z^C&(x^z))+M[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=z+(x^b&(C^x))+M[13]+4254626195&4294967295,z=b+(R<<12&4294967295|R>>>20),R=x+(C^z&(b^C))+M[14]+2792965006&4294967295,x=z+(R<<17&4294967295|R>>>15),R=C+(b^x&(z^b))+M[15]+1236535329&4294967295,C=x+(R<<22&4294967295|R>>>10),R=b+(x^z&(C^x))+M[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=z+(C^x&(b^C))+M[6]+3225465664&4294967295,z=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(z^b))+M[11]+643717713&4294967295,x=z+(R<<14&4294967295|R>>>18),R=C+(z^b&(x^z))+M[0]+3921069994&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^z&(C^x))+M[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=z+(C^x&(b^C))+M[10]+38016083&4294967295,z=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(z^b))+M[15]+3634488961&4294967295,x=z+(R<<14&4294967295|R>>>18),R=C+(z^b&(x^z))+M[4]+3889429448&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^z&(C^x))+M[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=z+(C^x&(b^C))+M[14]+3275163606&4294967295,z=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(z^b))+M[3]+4107603335&4294967295,x=z+(R<<14&4294967295|R>>>18),R=C+(z^b&(x^z))+M[8]+1163531501&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(x^z&(C^x))+M[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=z+(C^x&(b^C))+M[2]+4243563512&4294967295,z=b+(R<<9&4294967295|R>>>23),R=x+(b^C&(z^b))+M[7]+1735328473&4294967295,x=z+(R<<14&4294967295|R>>>18),R=C+(z^b&(x^z))+M[12]+2368359562&4294967295,C=x+(R<<20&4294967295|R>>>12),R=b+(C^x^z)+M[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=z+(b^C^x)+M[8]+2272392833&4294967295,z=b+(R<<11&4294967295|R>>>21),R=x+(z^b^C)+M[11]+1839030562&4294967295,x=z+(R<<16&4294967295|R>>>16),R=C+(x^z^b)+M[14]+4259657740&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^z)+M[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=z+(b^C^x)+M[4]+1272893353&4294967295,z=b+(R<<11&4294967295|R>>>21),R=x+(z^b^C)+M[7]+4139469664&4294967295,x=z+(R<<16&4294967295|R>>>16),R=C+(x^z^b)+M[10]+3200236656&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^z)+M[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=z+(b^C^x)+M[0]+3936430074&4294967295,z=b+(R<<11&4294967295|R>>>21),R=x+(z^b^C)+M[3]+3572445317&4294967295,x=z+(R<<16&4294967295|R>>>16),R=C+(x^z^b)+M[6]+76029189&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(C^x^z)+M[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=z+(b^C^x)+M[12]+3873151461&4294967295,z=b+(R<<11&4294967295|R>>>21),R=x+(z^b^C)+M[15]+530742520&4294967295,x=z+(R<<16&4294967295|R>>>16),R=C+(x^z^b)+M[2]+3299628645&4294967295,C=x+(R<<23&4294967295|R>>>9),R=b+(x^(C|~z))+M[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=z+(C^(b|~x))+M[7]+1126891415&4294967295,z=b+(R<<10&4294967295|R>>>22),R=x+(b^(z|~C))+M[14]+2878612391&4294967295,x=z+(R<<15&4294967295|R>>>17),R=C+(z^(x|~b))+M[5]+4237533241&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~z))+M[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=z+(C^(b|~x))+M[3]+2399980690&4294967295,z=b+(R<<10&4294967295|R>>>22),R=x+(b^(z|~C))+M[10]+4293915773&4294967295,x=z+(R<<15&4294967295|R>>>17),R=C+(z^(x|~b))+M[1]+2240044497&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~z))+M[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=z+(C^(b|~x))+M[15]+4264355552&4294967295,z=b+(R<<10&4294967295|R>>>22),R=x+(b^(z|~C))+M[6]+2734768916&4294967295,x=z+(R<<15&4294967295|R>>>17),R=C+(z^(x|~b))+M[13]+1309151649&4294967295,C=x+(R<<21&4294967295|R>>>11),R=b+(x^(C|~z))+M[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=z+(C^(b|~x))+M[11]+3174756917&4294967295,z=b+(R<<10&4294967295|R>>>22),R=x+(b^(z|~C))+M[2]+718787259&4294967295,x=z+(R<<15&4294967295|R>>>17),R=C+(z^(x|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const C=b-this.blockSize,M=this.C;let x=this.h,z=0;for(;z<b;){if(x==0)for(;z<=C;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<b;)if(M[x++]=D.charCodeAt(z++),x==this.blockSize){o(this,M),x=0;break}}else for(;z<b;)if(M[x++]=D[z++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)D[b++]=this.g[C]>>>M&255;return D};function h(D,b){var C=y;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=b(D)}function d(D,b){this.h=b;const C=[];let M=!0;for(let x=D.length-1;x>=0;x--){const z=D[x]|0;M&&z==b||(C[x]=z,M=!1)}this.g=C}var y={};function v(D){return-128<=D&&D<128?h(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return $(_(-D));const b=[];let C=1;for(let M=0;D>=C;M++)b[M]=D/C|0,C*=4294967296;return new d(b,0)}function A(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return $(A(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let M=S;for(let z=0;z<D.length;z+=8){var x=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+x),b);x<8?(x=_(Math.pow(b,x)),M=M.j(x).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var S=v(0),N=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();let D=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(tt(this))return"0";if(nt(this))return"-"+$(this).toString(D);const b=_(Math.pow(D,6));var C=this;let M="";for(;;){const x=Ht(C,b).g;C=dt(C,x.j(b));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=x,tt(C))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function tt(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function nt(D){return D.h==-1}s.l=function(D){return D=dt(this,D),nt(D)?-1:tt(D)?0:1};function $(D){const b=D.g.length,C=[];for(let M=0;M<b;M++)C[M]=~D.g[M];return new d(C,~D.h).add(N)}s.abs=function(){return nt(this)?$(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),C=[];let M=0;for(let x=0;x<=b;x++){let z=M+(this.i(x)&65535)+(D.i(x)&65535),R=(z>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);M=R>>>16,z&=65535,R&=65535,C[x]=R<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(D,b){return D.add($(b))}s.j=function(D){if(tt(this)||tt(D))return S;if(nt(this))return nt(D)?$(this).j($(D)):$($(this).j(D));if(nt(D))return $(this.j($(D)));if(this.l(Q)<0&&D.l(Q)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<D.g.length;x++){const z=this.i(M)>>>16,R=this.i(M)&65535,it=D.i(x)>>>16,ut=D.i(x)&65535;C[2*M+2*x]+=R*ut,St(C,2*M+2*x),C[2*M+2*x+1]+=z*ut,St(C,2*M+2*x+1),C[2*M+2*x+1]+=R*it,St(C,2*M+2*x+1),C[2*M+2*x+2]+=z*it,St(C,2*M+2*x+2)}for(D=0;D<b;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=b;D<2*b;D++)C[D]=0;return new d(C,0)};function St(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function pt(D,b){this.g=D,this.h=b}function Ht(D,b){if(tt(b))throw Error("division by zero");if(tt(D))return new pt(S,S);if(nt(D))return b=Ht($(D),b),new pt($(b.g),$(b.h));if(nt(b))return b=Ht(D,$(b)),new pt($(b.g),b.h);if(D.g.length>30){if(nt(D)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=N,M=b;M.l(D)<=0;)C=Wt(C),M=Wt(M);var x=It(C,1),z=It(M,1);for(M=It(M,2),C=It(C,2);!tt(M);){var R=z.add(M);R.l(D)<=0&&(x=x.add(C),z=R),M=It(M,1),C=It(C,1)}return b=dt(D,x.j(b)),new pt(x,b)}for(x=S;D.l(b)>=0;){for(C=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=_(C),R=z.j(b);nt(R)||R.l(D)>0;)C-=M,z=_(C),R=z.j(b);tt(z)&&(z=N),x=x.add(z),D=dt(D,R)}return new pt(x,D)}s.B=function(D){return Ht(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&D.i(M);return new d(C,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|D.i(M);return new d(C,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^D.i(M);return new d(C,this.h^D.h)};function Wt(D){const b=D.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(C,D.h)}function It(D,b){const C=b>>5;b%=32;const M=D.g.length-C,x=[];for(let z=0;z<M;z++)x[z]=b>0?D.i(z+C)>>>b|D.i(z+C+1)<<32-b:D.i(z+C);return new d(x,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ca=d}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iv,jl,av,Gu,Qf,rv,sv,lv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,U,P){for(var et=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)et[bt-2]=arguments[bt];return m.prototype[U].apply(T,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=u.length||0;const P=U.length||0;u.length=p+P;for(let et=0;et<P;et++)u[p+et]=U[et]}else u.push(U)}}class nt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,p){const T=pt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new nt(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,It=!1,D=new St,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(p){$(p)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function it(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(it,x),it.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),L=0;function J(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function W(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Et(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function zt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function V(u){const m={};for(const p in u)m[p]=u[p];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let P=0;P<F.length;P++)p=F[P],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,p,T,U){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const et=_t(u,m,T,U);return et>-1?(m=u[et],p||(m.fa=!1)):(m=new J(m,this.src,P,!!T,U),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),P;(P=U>=0)&&Array.prototype.splice.call(T,U,1),P&&(W(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function _t(u,m,p,T){for(let U=0;U<u.length;++U){const P=u[U];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return U}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),oe={};function te(u,m,p,T,U){if(Array.isArray(m)){for(let P=0;P<m.length;P++)te(u,m[P],p,T,U);return null}return p=Os(p),u&&u[ut]?u.J(m,p,y(T)?!!T.capture:!1,U):Ti(u,m,p,!1,T,U)}function Ti(u,m,p,T,U,P){if(!m)throw Error("Invalid event type");const et=y(U)?!!U.capture:!!U;let bt=La(u);if(bt||(u[Ct]=bt=new rt(u)),p=bt.add(m,p,T,et,P),p.proxy)return p;if(T=Rr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)z||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rr(){function u(p){return m.call(u.src,u.listener,p)}const m=Ns;return u}function wr(u,m,p,T,U){if(Array.isArray(m))for(var P=0;P<m.length;P++)wr(u,m[P],p,T,U);else T=y(T)?!!T.capture:!!T,p=Os(p),u&&u[ut]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],p=_t(m,p,T,U),p>-1&&(W(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=La(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_t(m,p,T,U)),(p=u>-1?m[u]:null)&&Cr(p))}function Cr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ut])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=La(m))?(gt(p,u),p.h==0&&(p.src=null,m[Ct]=null)):W(u)}}}function Yn(u){return u in oe?oe[u]:oe[u]="on"+u}function Ns(u,m){if(u.da)u=!0;else{m=new it(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Cr(u),u=p.call(T,m)}return u}function La(u){return u=u[Ct],u instanceof rt?u:null}var Ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(m){return u.handleEvent(m)}),u[Ms])}function ye(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ye,M),ye.prototype[ut]=!0,ye.prototype.removeEventListener=function(u,m,p,T){wr(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var U=m;m=new x(T,u),at(m,U)}U=!0;let P,et;if(p)for(et=p.length-1;et>=0;et--)P=m.g=p[et],U=Qi(P,T,!0,m)&&U;if(P=m.g=u,U=Qi(P,T,!0,m)&&U,U=Qi(P,T,!1,m)&&U,p)for(et=0;et<p.length;et++)P=m.g=p[et],U=Qi(P,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)W(p[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ye.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Qi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let P=0;P<m.length;++P){const et=m[P];if(et&&!et.da&&et.capture==p){const bt=et.listener,de=et.ha||et.src;et.fa&&gt(u.i,et),U=bt.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function wc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function uo(u){u.g=wc(()=>{u.g=null,u.i&&(u.i=!1,uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(u){M.call(this),this.h=u,this.g={}}S(ja,M);var zs=[];function Us(u){Et(u.g,function(m,p){this.g.hasOwnProperty(p)&&Cr(m)},u),u.g={}}ja.prototype.N=function(){ja.Z.N.call(this),Us(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=d.JSON.stringify,Cc=d.JSON.parse,co=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ho(){}function fo(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){x.call(this,"d")}S(je,x);function _n(){x.call(this,"c")}S(_n,x);var fe={},mo=null;function Dr(){return mo=mo||new ye}fe.Ia="serverreachability";function go(u){x.call(this,fe.Ia,u)}S(go,x);function Xn(u){const m=Dr();Ie(m,new go(m))}fe.STAT_EVENT="statevent";function Ba(u,m){x.call(this,fe.STAT_EVENT,u),this.stat=m}S(Ba,x);function _e(u){const m=Dr();Ie(m,new Ba(m,u))}fe.Ja="timingevent";function Kn(u,m){x.call(this,fe.Ja,u),this.size=m}S(Kn,x);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Dc(u,m,p,T,U,P){u.info(function(){if(u.g)if(P){var et="",bt=P.split("&");for(let qt=0;qt<bt.length;qt++){var de=bt[qt].split("=");if(de.length>1){const se=de[0];de=de[1];const An=se.split("_");et=An.length>=2&&An[1]=="type"?et+(se+"="+de+"&"):et+(se+"=redacted&")}}}else et=null;else et=P;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+et})}function po(u,m,p,T,U,P,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+P+" "+et})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vc(u,p)+(T?" "+T:"")})}function ka(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Vc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var p=P[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Fi(P)}catch{return m}}var qa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},js;function Pa(){}S(Pa,ho),Pa.prototype.g=function(){return new XMLHttpRequest},js=new Pa;function Ai(u){return encodeURIComponent(String(u))}function yo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function zn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new ja(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function $n(u,m,p){u.M=1,u.A=Ha(Te(m)),u.u=p,u.R=!0,Vr(u,null)}function Vr(u,m){u.F=Date.now(),Wn(u),u.B=Te(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Mr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=No(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(zs[0]=U.toString()),U=zs);for(let P=0;P<U.length;P++){const et=te(p,U[P],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),Dc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Bn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||de==7||(de==8||qt<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var p=Ic(this);if(this.o=m==200,po(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(u=P)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,_e(12),un(this),vn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<p.length;)if(se=vo(this,p),se==Me){bt==4&&(this.m=4,_e(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,se,null),ei(this,se);if(_o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||p.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ws(et),et.P=!0,_e(11))}}else Jn(this.i,this.l,p,null),ei(this,p);bt==4&&un(this),this.o&&!this.K&&(bt==4?Do(this.j,this):(this.o=!1,Wn(this)))}else bi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),un(this),vn(this)}}}catch{}};function Ic(u){if(!_o(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,U=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,p+=u.h.i.decode(m[P],{stream:!(U&&P==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function _o(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?ve:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),u.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Ir(u,u.H)}function Ir(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ka(this.i,this.B),this.M!=2&&(Xn(),_e(17)),un(this),this.m=2,vn(this)):Ir(this,this.T-u)};function vn(u){u.j.I==0||u.K||Do(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Us(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ii(p.h,u))){if(!u.L&&ii(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)jr(p),ta(p);else break t;Za(p),_e(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(_(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((u.L||p.g==u)&&jr(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const se=qt[0];if(!(se<=p.K))if(p.K=se,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const An=qt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ci=qt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const kn=qt[5];kn!=null&&typeof kn=="number"&&kn>0&&(T=1.5*kn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=u.g;if(qn){const Ja=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var P=T.h;P.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(qs(P,P.h),P.h=null))}if(T.G){const Br=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Br&&(T.wa=Br,Ft(T.J,T.G,Br))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var et=u;if(T.na=xo(T,T.L?T.ba:null,T.W),et.L){Ps(T.h,et);var bt=et,de=T.O;de&&(bt.H=de),bt.D&&(ti(bt),Wn(bt)),T.g=et}else wo(T);p.i.length>0&&oi(p)}else qt[0]!="stop"&&qt[0]!="close"||ui(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ui(p,7):Js(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}Xn(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Bs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ks(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qs(u,m){u.g?u.g.add(m):u.h=m}function Ps(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bs.prototype.cancel=function(){if(this.i=Hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Q(u.i)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let U,P=null;T>=0?(U=u[p].substring(0,T),P=u[p].substring(T+1)):U=u[p],m(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Oe(this,u.j),this.o=u.o,this.g=u.g,Yi(this,u.u),this.h=u.h,Gs(this,bo(u.i)),this.m=u.m):u&&(m=String(u).match(Eo))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Yi(this,m[4]),this.h=ai(m[5]||"",!0),Gs(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ga(m,Nr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ga(m,Nr,!0),"@"),u.push(Ai(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ga(p,p.charAt(0)=="/"?Qs:To,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ga(p,Ao)),u.join("")},cn.prototype.resolve=function(u){const m=Te(this);let p=!!u.j;p?Oe(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Yi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const P=[];for(let et=0;et<U.length;){const bt=U[et++];bt=="."?T&&et==U.length&&P.push(""):bt==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&et==U.length&&P.push("")):(P.push(bt),T=!0)}T=P.join("/")}else T=U}return p?m.h=T:p=u.i.toString()!=="",p?Gs(m,bo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Te(u){return new cn(u)}function Oe(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Gs(u,m,p){m instanceof Ki?(u.i=m,Or(u.i,u.l)):(p||(m=Ga(m,Xi)),u.i=new Ki(m,u.l))}function Ft(u,m,p){u.i.set(m,p)}function Ha(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ga(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Nr=/[#\/\?@]/g,To=/[#\?:]/g,Qs=/[#\?]/g,Xi=/[#\?@]/g,Ao=/#/g;function Ki(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&xr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Ki.prototype,s.add=function(u,m){en(this),this.i=null,u=Zi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function So(u,m){en(u),m=Zi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fs(u,m){return en(u),m=Zi(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ys(u,m){en(u);let p=[];if(typeof m=="string")Fs(u,m)&&(p=p.concat(u.g.get(Zi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return en(this),this.i=null,u=Zi(this,u),Fs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ys(this,u),u.length>0?String(u[0]):m):m};function Mr(u,m,p){So(u,m),p.length>0&&(u.i=null,u.g.set(Zi(u,m),Q(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ai(p);p=Ys(this,p);for(let P=0;P<p.length;P++){let et=U;p[P]!==""&&(et+="="+Ai(p[P])),u.push(et)}}return this.i=u.join("&")};function bo(u){const m=new Ki;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Zi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Or(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(So(this,T),Mr(this,U,p))},u)),u.j=m}function Ln(u,m){const p=new On;if(d.Image){const T=new Image;T.onload=A(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,p,"TestLoadImage: error",!1,m,T),T.onabort=A(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Xs(u,m){const p=new On,T=new AbortController,U=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(U),P.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ji(){this.g=new co}function ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ri,ho),ri.prototype.g=function(){return new Qa(this.i,this.h)};function Qa(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Qa,ye),s=Qa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?$i(this):jn(this),this.readyState==3&&zr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,$i(this))},s.Na=function(u){this.g&&(this.response=u,$i(this))},s.ga=function(){this.g&&$i(this)};function $i(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return Et(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Fa(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof u=="string"?p!=null&&Ai(p):Ft(u,m,p))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ye);var si=/^https?$/i,Ks=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():js.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){Ya(this,P);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ks,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,et]of p)this.g.setRequestHeader(P,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){Ya(this,P)}};function Ya(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Zs(u),Si(u)}function Zs(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Si(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Xa(this):this.Xa())},s.Xa=function(){Xa(this)};function Xa(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let et=String(u.D).match(Eo)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!si.test(et?et.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var U=Bn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Zs(u)}}finally{Si(u)}}}}function Si(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=yo(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[U]||[];m[U]=P,P.push(p)}zt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Wi(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Bs(u&&u.concurrentRequestLimit),this.Ba=new Ji,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Wi.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){_e(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=xo(this,null,this.W),oi(this)};function Js(u){if(Ur(u),u.I==3){var m=u.V++,p=Te(u.J);if(Ft(p,"SID",u.M),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Ka(u,p),m=new zn(u,u.j,m),m.M=2,m.A=Ha(Te(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=No(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Io(u)}function ta(u){u.g&&(Ws(u),u.g.cancel(),u.g=null)}function Ur(u){ta(u),u.v&&(d.clearTimeout(u.v),u.v=null),jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!ks(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),It||(Wt(),It=!0),D.add(m,u),u.D=0}}function Lr(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),Vo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=V(P),at(P,this.U)):P=this.U),this.u!==null||this.R||(U.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ro(this,U,m),p=Te(this.J),Ft(p,"RID",u),Ft(p,"CVER",22),this.G&&Ft(p,"X-HTTP-Session-Id",this.G),Ka(this,p),P&&(this.R?m="headers="+Ai(Tn(P))+"&"+m:this.u&&Fa(p,this.u,P)),qs(this.h,U),this.Ra&&Ft(p,"TYPE","init"),this.S?(Ft(p,"$req",m),Ft(p,"SID","null"),U.U=!0,$n(U,p,null)):$n(U,p,m),this.I=2}}else this.I==3&&(u?$s(this,u):this.i.length==0||ks(this.h)||$s(this))};function $s(u,m){var p;m?p=m.l:p=u.V++;const T=Te(u.J);Ft(T,"SID",u.M),Ft(T,"RID",p),Ft(T,"AID",u.K),Ka(u,T),u.u&&u.o&&Fa(T,u.u,u.o),p=new zn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ro(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qs(u.h,p),$n(p,T,m)}function Ka(u,m){u.H&&Et(u.H,function(p,T){Ft(m,T,p)}),u.l&&Et({},function(p,T){Ft(m,T,p)})}function Ro(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const de=["count="+p];bt==-1?p>0?(bt=U[0].g,de.push("ofs="+bt)):bt=0:de.push("ofs="+bt);let qt=!0;for(let se=0;se<p;se++){var P=U[se].g;const An=U[se].map;if(P-=bt,P<0)bt=Math.max(0,U[se].g-100),qt=!1;else try{P="req"+P+"_"||"";try{var et=An instanceof Map?An:Object.entries(An);for(const[ci,kn]of et){let qn=kn;y(kn)&&(qn=Fi(kn)),de.push(P+ci+"="+encodeURIComponent(qn))}}catch(ci){throw de.push(P+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(An)}}if(qt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,p),m.G=u,et}function wo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),It||(Wt(),It=!0),D.add(m,u),u.A=0}}function Za(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),Vo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Co(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ta(this),Co(this))};function Ws(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Co(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),Ka(u,m),u.u&&u.o&&Fa(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ha(Te(m)),p.u=null,p.R=!0,Vr(p,u)}s.Va=function(){this.C!=null&&(this.C=null,ta(this),Za(this),_e(19))};function jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Do(u,m){var p=null;if(u.g==m){jr(u),Ws(u),u.g=null;var T=2}else if(ii(u.h,m))p=m.G,Ps(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Dr(),Ie(T,new Kn(T,p)),oi(u)}else wo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Lr(u,m)||T==2&&Za(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),U){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Vo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const U=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Ha(T),U?Ln(T.toString(),p):Xs(T.toString(),p)}else _e(2);u.I=0,u.l&&u.l.pa(m),Io(u),Ur(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Io(u){if(u.I=0,u.ja=[],u.l){const m=Hs(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function xo(u,m,p){var T=p instanceof cn?Te(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const P=new cn(null);T&&Oe(P,T),m&&(P.g=m),U&&Yi(P,U),p&&(P.h=p),T=P}return p=u.G,m=u.wa,p&&m&&Ft(T,p,m),Ft(T,"VER",u.ka),Ka(u,T),T}function No(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ri({ab:p})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}s=Mo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ea(){}ea.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ye.call(this),this.g=new Wi(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ri(this)}S($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Js(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Fi(u),u=p);m.i.push(new Ee(m.Ya++,u)),m.I==3&&oi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,$e.Z.N.call(this)};function Oo(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Oo,je);function zo(){_n.call(this),this.status=1}S(zo,_n);function Ri(u){this.g=u}S(Ri,Mo),Ri.prototype.ra=function(){Ie(this.g,"a")},Ri.prototype.qa=function(u){Ie(this.g,new Oo(u))},Ri.prototype.pa=function(u){Ie(this.g,new zo)},Ri.prototype.oa=function(){Ie(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,lv=function(){return new ea},sv=function(){return Dr()},rv=fe,Qf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,Gu=qa,Ls.COMPLETE="complete",av=Ls,fo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,jl=fo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,iv=Kt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const By="@firebase/firestore",ky="4.9.3";class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Ds="12.7.0";const _r=new Z_("@firebase/firestore");function gs(){return _r.logLevel}function st(s,...e){if(_r.logLevel<=jt.DEBUG){const i=e.map(gd);_r.debug(`Firestore (${Ds}): ${s}`,...i)}}function Hi(s,...e){if(_r.logLevel<=jt.ERROR){const i=e.map(gd);_r.error(`Firestore (${Ds}): ${s}`,...i)}}function Ts(s,...e){if(_r.logLevel<=jt.WARN){const i=e.map(gd);_r.warn(`Firestore (${Ds}): ${s}`,...i)}}function gd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,ov(s,r,i)}function ov(s,e,i){let r=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Hi(r),new Error(r)}function Qt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||ov(e,o,r)}function At(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Da{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class uv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class ZA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class JA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Da,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Da)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new uv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class $A{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new $A(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,NA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0,3512);const r=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=eS(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Mt(s,e){return s<e?-1:s>e?1:0}function Ff(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return zf(o)===zf(h)?Mt(o,h):zf(o)?1:-1}return Mt(s.length,e.length)}const nS=55296,iS=57343;function zf(s){const e=s.charCodeAt(0);return e>=nS&&e<=iS}function As(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Py="__name__";class gi{constructor(e,i,r){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&yt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const r=gi.isNumericId(e),o=gi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Ff(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class ne extends gi{construct(e,i,r){return new ne(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const aS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends gi{construct(e,i,r){return new Qe(e,i,r)}static isValidIdentifier(e){return aS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new Qe([Py])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new lt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new lt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ne.fromString(e))}static fromName(e){return new ft(ne.fromString(e).popFirst(5))}static empty(){return new ft(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ne(e.slice()))}}function cv(s,e,i){if(!i)throw new lt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function rS(s,e,i,r){if(e===!0&&r===!0)throw new lt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Hy(s){if(!ft.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gy(s){if(ft.isDocumentKey(s))throw new lt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Va(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new lt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function De(s,e){const i={typeString:s};return e&&(i.value=e),i}function io(s,e){if(!hv(s))throw new lt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt(K.INVALID_ARGUMENT,i);return!0}const Qy=-62135596800,Fy=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Fy);return new re(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Qy)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(io(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:De("string",re._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new re(0,0))}static max(){return new vt(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function sS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new xa(o,ft.empty(),e)}function lS(s){return new xa(s.readTime,s.key,Zl)}class xa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new xa(vt.min(),ft.empty(),Zl)}static max(){return new xa(vt.max(),ft.empty(),Zl)}}function oS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}const uS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==uS)throw s;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function hS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(s){return s.name==="IndexedDbTransactionError"}class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;const yd=-1;function mc(s){return s==null}function tc(s){return s===0&&1/s==-1/0}function fS(s){return typeof s=="number"&&Number.isInteger(s)&&!tc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const fv="";function dS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Yy(e)),e=mS(s.get(i),e);return Yy(e)}function mS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case fv:i+="";break;default:i+=h}}return i}function Yy(s){return s+fv+""}function Xy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Er(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function dv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ue{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ge(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ne{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ky(this.data.getIterator())}getIteratorFrom(e){return new Ky(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class Ky{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new Ne(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class mv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new mv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const gS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(s){if(Qt(!!s,39018),typeof s=="string"){let e=0;const i=gS.exec(s);if(Qt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ma(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const gv="server_timestamp",pv="__type__",yv="__previous_value__",_v="__local_write_time__";function _d(s){return(s?.mapValue?.fields||{})[pv]?.stringValue===gv}function gc(s){const e=s.mapValue.fields[yv];return _d(e)?gc(e):e}function Jl(s){const e=Na(s.mapValue.fields[_v].timestampValue);return new re(e.seconds,e.nanos)}class pS{constructor(e,i,r,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ec="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||ec}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const vv="__type__",yS="__max__",qu={mapValue:{}},Ev="__vector__",nc="value";function Oa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_d(s)?4:vS(s)?9007199254740991:_S(s)?10:11:yt(28295,{value:s})}function Ei(s,e){if(s===e)return!0;const i=Oa(s);if(i!==Oa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Na(o.timestampValue),y=Na(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Ma(o.bytesValue).isEqual(Ma(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return pe(o.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return pe(o.integerValue)===pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=pe(o.doubleValue),y=pe(h.doubleValue);return d===y?tc(d)===tc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return As(s.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Xy(d)!==Xy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ei(d[v],y[v])))return!1;return!0})(s,e);default:return yt(52216,{left:s})}}function Wl(s,e){return(s.values||[]).find((i=>Ei(i,e)))!==void 0}function Ss(s,e){if(s===e)return 0;const i=Oa(s),r=Oa(e);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=pe(h.integerValue||h.doubleValue),v=pe(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Zy(s.timestampValue,e.timestampValue);case 4:return Zy(Jl(s),Jl(e));case 5:return Ff(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=Ma(h),v=Ma(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Mt(y[_],v[_]);if(A!==0)return A}return Mt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Mt(pe(h.latitude),pe(d.latitude));return y!==0?y:Mt(pe(h.longitude),pe(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Jy(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[nc]?.arrayValue,A=v[nc]?.arrayValue,S=Mt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Jy(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qu.mapValue&&d===qu.mapValue)return 0;if(h===qu.mapValue)return 1;if(d===qu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const N=Ff(v[S],A[S]);if(N!==0)return N;const Q=Ss(y[v[S]],_[A[S]]);if(Q!==0)return Q}return Mt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function Zy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=Na(s),r=Na(e),o=Mt(i.seconds,r.seconds);return o!==0?o:Mt(i.nanos,r.nanos)}function Jy(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ss(i[o],r[o]);if(h)return h}return Mt(i.length,r.length)}function bs(s){return Yf(s)}function Yf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Na(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ma(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Yf(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Yf(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function Qu(s){switch(Oa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(s);return e?16+Qu(e):16;case 5:return 2*s.stringValue.length;case 6:return Ma(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Qu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Er(r.fields,((h,d)=>{o+=h.length+Qu(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function $y(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Xf(s){return!!s&&"integerValue"in s}function vd(s){return!!s&&"arrayValue"in s}function Wy(s){return!!s&&"nullValue"in s}function t_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fu(s){return!!s&&"mapValue"in s}function _S(s){return(s?.mapValue?.fields||{})[vv]?.stringValue===Ev}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Hl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function vS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yS}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Fu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Qe.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Hl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Fu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Fu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Er(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new xn(Hl(this.value))}}function Tv(s){const e=[];return Er(s.fields,((i,r)=>{const o=new Qe([i]);if(Fu(r)){const h=Tv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Qn(e)}class Ze{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ze(e,0,vt.min(),vt.min(),vt.min(),xn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ze(e,1,i,vt.min(),r,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,vt.min(),vt.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,vt.min(),vt.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ic{constructor(e,i){this.position=e,this.inclusive=i}}function e_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Ss(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],e.position[i]))return!1;return!0}class ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function ES(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Av{}class Ce extends Av{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new AS(e,i,r):i==="array-contains"?new RS(e,r):i==="in"?new wS(e,r):i==="not-in"?new CS(e,r):i==="array-contains-any"?new DS(e,r):new Ce(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new SS(e,r):new bS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ss(i,this.value)):i!==null&&Oa(this.value)===Oa(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Av{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return Sv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(s){return s.op==="and"}function bv(s){return TS(s)&&Sv(s)}function TS(s){for(const e of s.filters)if(e instanceof Fn)return!1;return!0}function Kf(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+bs(s.value);if(bv(s))return s.filters.map((e=>Kf(e))).join(",");{const e=s.filters.map((i=>Kf(i))).join(",");return`${s.op}(${e})`}}function Rv(s,e){return s instanceof Ce?(function(r,o){return o instanceof Ce&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(s,e):s instanceof Fn?(function(r,o){return o instanceof Fn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&Rv(d,o.filters[y])),!0):!1})(s,e):void yt(19439)}function wv(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(wv).join(" ,")+"}"})(s):"Filter"}class AS extends Ce{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class SS extends Ce{constructor(e,i){super(e,"in",i),this.keys=Cv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class bS extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=Cv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Cv(s,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class RS extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return vd(i)&&Wl(i.arrayValue,this.value)}}class wS extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class CS extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class DS extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Wl(this.value.arrayValue,r)))}}class VS{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function i_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new VS(s,e,i,r,o,h,d)}function Ed(s){const e=At(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Kf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>bs(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>bs(r))).join(",")),e.Te=i}return e.Te}function Td(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ES(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Rv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!n_(s.startAt,e.startAt)&&n_(s.endAt,e.endAt)}function Zf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ao{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IS(s,e,i,r,o,h,d,y){return new ao(s,e,i,r,o,h,d,y)}function Ad(s){return new ao(s)}function a_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Dv(s){return s.collectionGroup!==null}function Gl(s){const e=At(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ne(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ac(h,r))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new ac(Qe.keyField(),r))}return e.Ie}function pi(s){const e=At(s);return e.Ee||(e.Ee=xS(e,Gl(s))),e.Ee}function xS(s,e){if(s.limitType==="F")return i_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ac(o.field,h)}));const i=s.endAt?new ic(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ic(s.startAt.position,s.startAt.inclusive):null;return i_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Jf(s,e){const i=s.filters.concat([e]);return new ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function $f(s,e,i){return new ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function pc(s,e){return Td(pi(s),pi(e))&&s.limitType===e.limitType}function Vv(s){return`${Ed(pi(s))}|lt:${s.limitType}`}function ps(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>wv(o))).join(", ")}]`),mc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>bs(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>bs(o))).join(",")),`Target(${r})`})(pi(s))}; limitType=${s.limitType})`}function yc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Gl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=e_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Gl(r),o)||r.endAt&&!(function(d,y,v){const _=e_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Gl(r),o))})(s,e)}function NS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Iv(s){return(e,i)=>{let r=!1;for(const o of Gl(s)){const h=MS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function MS(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ss(v,_):yt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}class Tr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return dv(this.inner)}size(){return this.innerSize}}const OS=new ue(ft.comparator);function Gi(){return OS}const xv=new ue(ft.comparator);function Bl(...s){let e=xv;for(const i of s)e=e.insert(i.key,i);return e}function Nv(s){let e=xv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function mr(){return Ql()}function Mv(){return Ql()}function Ql(){return new Tr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const zS=new ue(ft.comparator),US=new Ne(ft.comparator);function Ot(...s){let e=US;for(const i of s)e=e.add(i);return e}const LS=new Ne(Mt);function jS(){return LS}function Sd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function Ov(s){return{integerValue:""+s}}function BS(s,e){return fS(e)?Ov(e):Sd(s,e)}class _c{constructor(){this._=void 0}}function kS(s,e,i){return s instanceof rc?(function(o,h){const d={fields:{[pv]:{stringValue:gv},[_v]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&_d(h)&&(h=gc(h)),h&&(d.fields[yv]=h),{mapValue:d}})(i,e):s instanceof to?Uv(s,e):s instanceof eo?Lv(s,e):(function(o,h){const d=zv(o,h),y=r_(d)+r_(o.Ae);return Xf(d)&&Xf(o.Ae)?Ov(y):Sd(o.serializer,y)})(s,e)}function qS(s,e,i){return s instanceof to?Uv(s,e):s instanceof eo?Lv(s,e):i}function zv(s,e){return s instanceof sc?(function(r){return Xf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class rc extends _c{}class to extends _c{constructor(e){super(),this.elements=e}}function Uv(s,e){const i=jv(e);for(const r of s.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class eo extends _c{constructor(e){super(),this.elements=e}}function Lv(s,e){let i=jv(e);for(const r of s.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class sc extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function r_(s){return pe(s.integerValue||s.doubleValue)}function jv(s){return vd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function PS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof to&&o instanceof to||r instanceof eo&&o instanceof eo?As(r.elements,o.elements,Ei):r instanceof sc&&o instanceof sc?Ei(r.Ae,o.Ae):r instanceof rc&&o instanceof rc})(s.transform,e.transform)}class HS{constructor(e,i){this.version=e,this.transformResults=i}}class qi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class vc{}function Bv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qv(s.key,qi.none()):new ro(s.key,s.data,qi.none());{const i=s.data,r=xn.empty();let o=new Ne(Qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ar(s.key,r,new Qn(o.toArray()),qi.none())}}function GS(s,e,i){s instanceof ro?(function(o,h,d){const y=o.value.clone(),v=l_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ar?(function(o,h,d){if(!Yu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=l_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(kv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,r){return s instanceof ro?(function(h,d,y,v){if(!Yu(h.precondition,d))return y;const _=h.value.clone(),A=o_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ar?(function(h,d,y,v){if(!Yu(h.precondition,d))return y;const _=o_(h.fieldTransforms,v,d),A=d.data;return A.setAll(kv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(h,d,y){return Yu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function QS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=zv(r.transform,o||null);h!=null&&(i===null&&(i=xn.empty()),i.set(r.field,h))}return i||null}function s_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&As(r,o,((h,d)=>PS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ro extends vc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ar extends vc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function kv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function l_(s,e,i){const r=new Map;Qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,qS(d,y,i[o]))}return r}function o_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,kS(h,d,e))}return r}class qv extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FS extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&GS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Fl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Mv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=Bv(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,((i,r)=>s_(i,r)))&&As(this.baseMutations,e.baseMutations,((i,r)=>s_(i,r)))}}class bd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Qt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return zS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new bd(e,i,r,o)}}class XS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KS{constructor(e,i){this.count=e,this.unchangedNames=i}}var we,Lt;function ZS(s){switch(s){case K.OK:return yt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function Pv(s){if(s===void 0)return Hi("GRPC error has no .code"),K.UNKNOWN;switch(s){case we.OK:return K.OK;case we.CANCELLED:return K.CANCELLED;case we.UNKNOWN:return K.UNKNOWN;case we.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case we.INTERNAL:return K.INTERNAL;case we.UNAVAILABLE:return K.UNAVAILABLE;case we.UNAUTHENTICATED:return K.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case we.NOT_FOUND:return K.NOT_FOUND;case we.ALREADY_EXISTS:return K.ALREADY_EXISTS;case we.PERMISSION_DENIED:return K.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case we.ABORTED:return K.ABORTED;case we.OUT_OF_RANGE:return K.OUT_OF_RANGE;case we.UNIMPLEMENTED:return K.UNIMPLEMENTED;case we.DATA_LOSS:return K.DATA_LOSS;default:return yt(39323,{code:s})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function JS(){return new TextEncoder}const $S=new Ca([4294967295,4294967295],0);function u_(s){const e=JS().encode(s),i=new nv;return i.update(e),new Uint8Array(i.digest())}function c_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ca([i,r],0),new Ca([o,h],0)]}class Rd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ca.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ca.fromNumber(r)));return o.compare($S)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=u_(e),[r,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Rd(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=u_(e),[r,o]=c_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ec{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ec(vt.min(),o,new ue(Mt),Gi(),Ot())}}class so{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new so(r,i,Ot(),Ot(),Ot())}}class Xu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Hv{constructor(e,i){this.targetId=e,this.Ce=i}}class Gv{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:h})}})),new so(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=Pu(),this.He=Pu(),this.Ye=new ue(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Zf(h))if(r===0){const d=new ft(h.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Ma(r).toUint8Array()}catch(v){if(v instanceof mv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Rd(d,o,h)}catch(v){return Ts(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Zf(y.target)){const v=new ft(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Ot();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ec(e,i,this.Ye,this.je,r);return this.je=Gi(),this.Je=Pu(),this.He=Pu(),this.Ye=new ue(Mt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new h_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ne(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ne(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new h_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new ue(ft.comparator)}function f_(){return new ue(ft.comparator)}const tb={asc:"ASCENDING",desc:"DESCENDING"},eb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nb={and:"AND",or:"OR"};class ib{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Wf(s,e){return s.useProto3Json||mc(e)?e:{value:e}}function lc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ab(s,e){return lc(s,e.toTimestamp())}function yi(s){return Qt(!!s,49232),vt.fromTimestamp((function(i){const r=Na(i);return new re(r.seconds,r.nanos)})(s))}function wd(s,e){return td(s,e).canonicalString()}function td(s,e){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Fv(s){const e=ne.fromString(s);return Qt(Jv(e),10190,{key:e.toString()}),e}function ed(s,e){return wd(s.databaseId,e.path)}function Uf(s,e){const i=Fv(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(Xv(i))}function Yv(s,e){return wd(s.databaseId,e)}function rb(s){const e=Fv(s);return e.length===4?ne.emptyPath():Xv(e)}function nd(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Xv(s){return Qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function d_(s,e,i){return{name:ed(s,e),fields:i.value.mapValue.fields}}function sb(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:Pv(_.code);return new lt(A,_.message||"")})(d);i=new Gv(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Uf(s,r.document.name),h=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):vt.min(),y=new xn({mapValue:{fields:r.document.fields}}),v=Ze.newFoundDocument(o,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Xu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Uf(s,r.document),h=r.readTime?yi(r.readTime):vt.min(),d=Ze.newNoDocument(o,h),y=r.removedTargetIds||[];i=new Xu([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Uf(s,r.document),h=r.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new KS(o,h),y=r.targetId;i=new Hv(y,d)}}return i}function lb(s,e){let i;if(e instanceof ro)i={update:d_(s,e.key,e.value)};else if(e instanceof qv)i={delete:ed(s,e.key)};else if(e instanceof Ar)i={update:d_(s,e.key,e.data),updateMask:pb(e.fieldMask)};else{if(!(e instanceof FS))return yt(16599,{Vt:e.type});i={verify:ed(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof to)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof sc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:ab(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(s,e.precondition)),i}function ob(s,e){return s&&s.length>0?(Qt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?yi(o.updateTime):yi(h);return d.isEqual(vt.min())&&(d=yi(h)),new HS(d,o.transformResults||[])})(i,e)))):[]}function ub(s,e){return{documents:[Yv(s,e.path)]}}function cb(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Yv(s,o);const h=(function(_){if(_.length!==0)return Zv(Fn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:ys(N.field),direction:db(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Wf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function hb(s){let e=rb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Qt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const N=Kv(S);return N instanceof Fn&&bv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(tt){return new ac(_s(tt.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(N)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let N;return N=typeof S=="object"?S.value:S,mc(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(S){const N=!!S.before,Q=S.values||[];return new ic(Q,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,Q=S.values||[];return new ic(Q,N)})(i.endAt)),IS(e,o,d,h,y,"F",v,_)}function fb(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Kv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=_s(i.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(_s(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((r=>Kv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function db(s){return tb[s]}function mb(s){return eb[s]}function gb(s){return nb[s]}function ys(s){return{fieldPath:s.canonicalString()}}function _s(s){return Qe.fromServerFormat(s.fieldPath)}function Zv(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(t_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(Wy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(t_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(Wy(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:mb(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const r=i.getFilters().map((o=>Zv(o)));return r.length===1?r[0]:{compositeFilter:{op:gb(i.op),filters:r}}})(s):yt(54877,{filter:s})}function pb(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Jv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ba{constructor(e,i,r,o,h=vt.min(),d=vt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yb{constructor(e){this.yt=e}}function _b(s){const e=hb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$f(e,e.limit,"L"):e}class vb{constructor(){this.Cn=new Eb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(xa.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Eb{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ne(ne.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ne(ne.comparator)).toArray()}}const m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on($v,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Rs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rs(0)}static cr(){return new Rs(-1)}}const g_="LruGarbageCollector",Tb=1048576;function p_([s,e],[i,r]){const o=Mt(s,i);return o===0?Mt(e,r):o}class Ab{constructor(e){this.Ir=e,this.buffer=new Ne(p_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();p_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Sb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(g_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?st(g_,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.Vr(3e5)}))}}class bb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(dc.ce);const r=new Ab(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(m_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,y=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),gs()<=jt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function Rb(s,e){return new bb(s,e)}class wb{constructor(){this.changes=new Tr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Db{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Fl(r.mutation,o,Qn.empty(),re.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ot()){const o=mr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Bl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=mr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ot())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Gi();const d=Ql(),y=(function(){return Ql()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ar)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),re.now())):d.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new Cb(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Ql();let o=new ue(((d,y)=>d-y)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Qn.empty();A=y.applyToLocalView(_,A),r.set(v,A);const S=(o.get(y.batchId)||Ot()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,S=Mv();A.forEach((N=>{if(!h.has(N)){const Q=Bv(i.get(N),r.get(N));Q!==null&&S.set(N,Q),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Dv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(mr());let y=Zl,v=h;return d.next((_=>Z.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Ot()))).next((A=>({batchId:y,changes:Nv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(S,N){return new ao(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let y=Bl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,Qn.empty(),re.now()),yc(i,_)&&(y=y.insert(v,_))})),y}))}}class Vb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:_b(o.bundledQuery),readTime:yi(o.readTime)}})(i)),Z.resolve()}}class Ib{constructor(){this.overlays=new ue(ft.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=mr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=mr(),h=i.length+1,d=new ft(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ue(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=mr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=mr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new XS(i,r));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class xb{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Cd{constructor(){this.Qr=new Ne(Ue.$r),this.Ur=new Ne(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ft(new ne([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new ne([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Ot();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}class Nb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(Ue.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YS(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?yd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ne(Mt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ft(h),0);let y=new Ne(Mt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Mb{constructor(e){this.ri=e,this.docs=(function(){return new ue(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let r=Gi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Gi();const d=i.path,y=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||oS(lS(A),r)<=0||(o.has(A.key)||yc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){yt(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Ob(this)}getSize(e){return Z.resolve(this.size)}}class Ob extends wb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class zb{constructor(e){this.persistence=e,this.si=new Tr((i=>Ed(i)),Td),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Cd,this.targetCount=0,this.ai=Rs.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class Wv{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new xb,this.referenceDelegate=e(this),this.Pi=new zb(this),this.indexManager=new vb,this.remoteDocumentCache=(function(o){return new Mb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yb(i),this.Ii=new Vb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Ib,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Nb(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new Ub(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Ub extends cS{constructor(e){super(),this.currentSequenceNumber=e}}class Dd{constructor(e){this.persistence=e,this.Ri=new Cd,this.Vi=null}static mi(e){return new Dd(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=ft.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new Tr((r=>dS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Rb(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Vd(e,i.fromCache,r,o)}}class Lb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return VT()?8:hS(CT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Lb;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(gs()<=jt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(gs()<=jt.DEBUG&&st("QueryEngine","Query:",ps(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(gs()<=jt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):Z.resolve())}ys(e,i){if(a_(i))return Z.resolve(null);let r=pi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=$f(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,$f(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return a_(i)||o.isEqual(vt.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(gs()<=jt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.vs(e,d,i,sS(o,Zl)).next((y=>y)))}))}Ds(e,i){let r=new Ne(Iv(e));return i.forEach(((o,h)=>{yc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return gs()<=jt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ps.getDocumentsMatchingQuery(e,i,xa.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Id="LocalStore",Bb=3e8;class kb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ue(Mt),this.xs=new Tr((h=>Ed(h)),Td),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Db(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function qb(s,e,i,r){return new kb(s,e,i,r)}async function t0(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Pb(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const S=_.batch,N=S.keys();let Q=Z.resolve();return N.forEach((tt=>{Q=Q.next((()=>A.getEntry(v,tt))).next((nt=>{const $=_.docVersions.get(tt);Qt($!==null,48541),nt.version.compareTo($)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Ot();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function e0(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Hb(s,e){const i=At(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const N=o.get(S);if(!N)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let Q=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Fe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),o=o.insert(S,Q),(function(nt,$,dt){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Bb?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(N,Q,A)&&y.push(i.Pi.updateTargetData(h,Q))}));let v=Gi(),_=Ot();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(Gb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function Gb(s,e,i){let r=Ot(),o=Ot();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Gi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):st(Id,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Qb(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Fb(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new ba(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function id(s,e,i){const r=At(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Is(d))throw d;st(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function y_(s,e,i){const r=At(s);let o=vt.min(),h=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=At(v),N=S.xs.get(A);return N!==void 0?Z.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,A)})(r,d,pi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?h:Ot()))).next((y=>(Yb(r,NS(e),y),{documents:y,Qs:h})))))}function Yb(s,e,i){let r=s.Os.get(e)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class __{constructor(){this.activeTargetIds=jS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xb{constructor(){this.Mo=new __,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new __,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kb{Oo(e){}shutdown(){}}const v_="ConnectivityMonitor";class E_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hu=null;function ad(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}const Lf="RestConnection",Zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ec?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=ad(),y=this.zo(e,i.toUriEncodedString());st(Lf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=dd(_);return this.Jo(e,y,v,r,A).then((S=>(st(Lf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ts(Lf,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ds})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=Zb[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class $b{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class Wb extends Jb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=ad();return new Promise(((y,v)=>{const _=new iv;_.setWithCredentials(!0),_.listenOnce(av.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Gu.NO_ERROR:const S=_.getResponseJson();st(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Gu.TIMEOUT:st(Xe,`RPC '${e}' ${d} timed out`),v(new lt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const N=_.getStatus();if(st(Xe,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const tt=Q?.error;if(tt&&tt.status&&tt.message){const nt=(function(dt){const St=dt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(St)>=0?St:K.UNKNOWN})(tt.status);v(new lt(nt,tt.message))}else v(new lt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(K.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Xe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=ad(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=lv(),y=sv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");st(Xe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let N=!1,Q=!1;const tt=new $b({Yo:$=>{Q?st(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(N||(st(Xe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),st(Xe,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Zo:()=>S.close()}),nt=($,dt,St)=>{$.listen(dt,(pt=>{try{St(pt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return nt(S,jl.EventType.OPEN,(()=>{Q||(st(Xe,`RPC '${e}' stream ${o} transport opened.`),tt.o_())})),nt(S,jl.EventType.CLOSE,(()=>{Q||(Q=!0,st(Xe,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(S))})),nt(S,jl.EventType.ERROR,($=>{Q||(Q=!0,Ts(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),tt.a_(new lt(K.UNAVAILABLE,"The operation could not be completed")))})),nt(S,jl.EventType.MESSAGE,($=>{if(!Q){const dt=$.data[0];Qt(!!dt,16349);const St=dt,pt=St?.error||St[0]?.error;if(pt){st(Xe,`RPC '${e}' stream ${o} received error:`,pt);const Ht=pt.status;let Wt=(function(b){const C=we[b];if(C!==void 0)return Pv(C)})(Ht),It=pt.message;Wt===void 0&&(Wt=K.INTERNAL,It="Unknown error status: "+Ht+" with message "+pt.message),Q=!0,tt.a_(new lt(Wt,It)),S.close()}else st(Xe,`RPC '${e}' stream ${o} received:`,dt),tt.u_(dt)}})),nt(y,rv.STAT_EVENT,($=>{$.stat===Qf.PROXY?st(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Qf.NOPROXY&&st(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function jf(){return typeof document<"u"?document:null}function Tc(s){return new ib(s,!0)}class n0{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const T_="PersistentStream";class i0{constructor(e,i,r,o,h,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new lt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(T_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(T_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t2 extends i0{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=sb(this.serializer,e),r=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?yi(d.readTime):vt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=nd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Zf(v)?{documents:ub(h,v)}:{query:cb(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Qv(h,d.resumeToken);const _=Wf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){y.readTime=lc(h,d.snapshotVersion.toTimestamp());const _=Wf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=fb(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=nd(this.serializer),i.removeTarget=e,this.q_(i)}}class e2 extends i0{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ob(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=nd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>lb(this.serializer,r)))};this.q_(i)}}class n2{}class i2 extends n2{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,td(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,td(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vr="RemoteStore";class r2{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Sr(this)&&(st(vr,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await lo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ac(_)})(this))}))})),this.Ra=new a2(r,o)}}async function Ac(s){if(Sr(s))for(const e of s.da)await e(!0)}async function lo(s){for(const e of s.da)await e(!1)}function a0(s,e){const i=At(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Od(i)?Md(i):xs(i).O_()&&Nd(i,e))}function xd(s,e){const i=At(s),r=xs(i);i.Ia.delete(e),r.O_()&&r0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Sr(i)&&i.Ra.set("Unknown"))}function Nd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xs(s).Y_(e)}function r0(s,e){s.Va.Ue(e),xs(s).Z_(e)}function Md(s){s.Va=new WS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xs(s).start(),s.Ra.ua()}function Od(s){return Sr(s)&&!xs(s).x_()&&s.Ia.size>0}function Sr(s){return At(s).Ea.size===0}function s0(s){s.Va=void 0}async function s2(s){s.Ra.set("Online")}async function l2(s){s.Ia.forEach(((e,i)=>{Nd(s,e)}))}async function o2(s,e){s0(s),Od(s)?(s.Ra.ha(e),Md(s)):s.Ra.set("Unknown")}async function u2(s,e,i){if(s.Ra.set("Online"),e instanceof Gv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){st(vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uc(s,r)}else if(e instanceof Xu?s.Va.Ze(e):e instanceof Hv?s.Va.st(e):s.Va.tt(e),!i.isEqual(vt.min()))try{const r=await e0(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),r0(h,v);const S=new ba(A.target,v,_,A.sequenceNumber);Nd(h,S)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){st(vr,"Failed to raise snapshot:",r),await uc(s,r)}}async function uc(s,e,i){if(!Is(e))throw e;s.Ea.add(1),await lo(s),s.Ra.set("Offline"),i||(i=()=>e0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(vr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ac(s)}))}function l0(s,e){return e().catch((i=>uc(s,i,e)))}async function Sc(s){const e=At(s),i=za(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yd;for(;c2(e);)try{const o=await Qb(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,h2(e,o)}catch(o){await uc(e,o)}o0(e)&&u0(e)}function c2(s){return Sr(s)&&s.Ta.length<10}function h2(s,e){s.Ta.push(e);const i=za(s);i.O_()&&i.X_&&i.ea(e.mutations)}function o0(s){return Sr(s)&&!za(s).x_()&&s.Ta.length>0}function u0(s){za(s).start()}async function f2(s){za(s).ra()}async function d2(s){const e=za(s);for(const i of s.Ta)e.ea(i.mutations)}async function m2(s,e,i){const r=s.Ta.shift(),o=bd.from(r,e,i);await l0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Sc(s)}async function g2(s,e){e&&za(s).X_&&await(async function(r,o){if((function(d){return ZS(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();za(r).B_(),await l0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Sc(r)}})(s,e),o0(s)&&u0(s)}async function A_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),st(vr,"RemoteStore received new credentials");const r=Sr(i);i.Ea.add(3),await lo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function p2(s,e){const i=At(s);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await lo(i),i.Ra.set("Unknown"))}function xs(s){return s.ma||(s.ma=(function(i,r,o){const h=At(i);return h.sa(),new t2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:s2.bind(null,s),t_:l2.bind(null,s),r_:o2.bind(null,s),H_:u2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Od(s)?Md(s):s.Ra.set("Unknown")):(await s.ma.stop(),s0(s))}))),s.ma}function za(s){return s.fa||(s.fa=(function(i,r,o){const h=At(i);return h.sa(),new e2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:f2.bind(null,s),r_:g2.bind(null,s),ta:d2.bind(null,s),na:m2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Sc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(vr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class zd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new zd(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(s,e){if(Hi("AsyncQueue",`${e}: ${s}`),Is(s))return new lt(K.UNAVAILABLE,`${e}: ${s}`);throw s}class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Bl(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class S_{constructor(){this.ga=new ue(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class ws{constructor(e,i,r,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new ws(e,i,Es.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class y2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _2{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=At(i),h=o.queries;o.queries=b_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new lt(K.ABORTED,"Firestore shutting down"))}}function b_(){return new Tr((s=>Vv(s)),pc)}async function c0(s,e){const i=At(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new y2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Ud(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ld(i)}async function h0(s,e){const i=At(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function v2(s,e){const i=At(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&Ld(i)}function E2(s,e,i){const r=At(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Ld(s){s.Ca.forEach((e=>{e.next()}))}var rd,R_;(R_=rd||(rd={})).Ma="default",R_.Cache="cache";class f0{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rd.Cache}}class d0{constructor(e){this.key=e}}class m0{constructor(e){this.key=e}}class T2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=Iv(e),this.tu=new Es(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new S_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const N=o.get(A),Q=yc(this.query,S)?S:null,tt=!!N&&this.mutatedKeys.has(N.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let $=!1;N&&Q?N.data.isEqual(Q.data)?tt!==nt&&(r.track({type:3,doc:Q}),$=!0):this.su(N,Q)||(r.track({type:2,doc:Q}),$=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!N&&Q?(r.track({type:0,doc:Q}),$=!0):N&&!Q&&(r.track({type:1,doc:N}),$=!0,(v||_)&&(y=!0)),$&&(Q?(d=d.add(Q),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,tt){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return nt(Q)-nt(tt)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new ws(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new m0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new d0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jd="SyncEngine";class A2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class S2{constructor(e){this.key=e,this.hu=!1}}class b2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Tr((y=>Vv(y)),pc),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ft.comparator),this.Au=new Map,this.Ru=new Cd,this.Vu={},this.mu=new Map,this.fu=Rs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R2(s,e,i=!0){const r=E0(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await g0(r,e,i,!0),o}async function w2(s,e){const i=E0(s);await g0(i,e,!0,!1)}async function g0(s,e,i,r){const o=await Fb(s.localStore,pi(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await C2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&a0(s.remoteStore,o),y}async function C2(s,e,i,r,o){s.pu=(S,N,Q)=>(async function(nt,$,dt,St){let pt=$.view.ru(dt);pt.Cs&&(pt=await y_(nt.localStore,$.query,!1).then((({documents:D})=>$.view.ru(D,pt))));const Ht=St&&St.targetChanges.get($.targetId),Wt=St&&St.targetMismatches.get($.targetId)!=null,It=$.view.applyChanges(pt,nt.isPrimaryClient,Ht,Wt);return C_(nt,$.targetId,It.au),It.snapshot})(s,S,N,Q);const h=await y_(s.localStore,e,!0),d=new T2(e,h.Qs),y=d.ru(h.documents),v=so.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);C_(s,i,_.au);const A=new A2(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function D2(s,e,i){const r=At(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!pc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await id(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&xd(r.remoteStore,o.targetId),sd(r,o.targetId)})).catch(Vs)):(sd(r,o.targetId),await id(r.localStore,o.targetId,!0))}async function V2(s,e){const i=At(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),xd(i.remoteStore,r.targetId))}async function I2(s,e,i){const r=L2(s);try{const o=await(function(d,y){const v=At(d),_=re.now(),A=y.reduce(((Q,tt)=>Q.add(tt.key)),Ot());let S,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let tt=Gi(),nt=Ot();return v.Ns.getEntries(Q,A).next(($=>{tt=$,tt.forEach(((dt,St)=>{St.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,tt))).next(($=>{S=$;const dt=[];for(const St of y){const pt=QS(St,S.get(St.key).overlayedDocument);pt!=null&&dt.push(new Ar(St.key,pt,Tv(pt.value.mapValue),qi.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,dt,y)})).next(($=>{N=$;const dt=$.applyToLocalDocumentSet(S,nt);return v.documentOverlayCache.saveOverlays(Q,$.batchId,dt)}))})).then((()=>({batchId:N.batchId,changes:Nv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Mt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await oo(r,o.changes),await Sc(r.remoteStore)}catch(o){const h=Ud(o,"Failed to persist write");i.reject(h)}}async function p0(s,e){const i=At(s);try{const r=await Hb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qt(d.hu,14607):o.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await oo(i,r,e)}catch(r){await Vs(r)}}function w_(s,e,i){const r=At(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=At(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,S)=>{for(const N of S.Sa)N.va(y)&&(_=!0)})),_&&Ld(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x2(s,e,i){const r=At(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ue(ft.comparator);d=d.insert(h,Ze.newNoDocument(h,vt.min()));const y=Ot().add(h),v=new Ec(vt.min(),new Map,new ue(Mt),d,y);await p0(r,v),r.du=r.du.remove(h),r.Au.delete(e),Bd(r)}else await id(r.localStore,e,!1).then((()=>sd(r,e,i))).catch(Vs)}async function N2(s,e){const i=At(s),r=e.batch.batchId;try{const o=await Pb(i.localStore,e);_0(i,r,null),y0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await oo(i,o)}catch(o){await Vs(o)}}async function M2(s,e,i){const r=At(s);try{const o=await(function(d,y){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(Qt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);_0(r,e,i),y0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await oo(r,o)}catch(o){await Vs(o)}}function y0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function _0(s,e,i){const r=At(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function sd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||v0(s,r)}))}function v0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(xd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Bd(s))}function C_(s,e,i){for(const r of i)r instanceof d0?(s.Ru.addReference(r.key,e),O2(s,r)):r instanceof m0?(st(jd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||v0(s,r.key)):yt(19791,{wu:r})}function O2(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(st(jd,"New document in limbo: "+i),s.Eu.add(r),Bd(s))}function Bd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(ne.fromString(e)),r=s.fu.next();s.Au.set(r,new S2(i)),s.du=s.du.insert(i,r),a0(s.remoteStore,new ba(pi(Ad(i.path)),r,"TargetPurposeLimboResolution",dc.ce))}}async function oo(s,e,i){const r=At(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Vd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(N=>Z.forEach(N.Es,(Q=>A.persistence.referenceDelegate.addReference(S,N.targetId,Q))).next((()=>Z.forEach(N.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,N.targetId,Q)))))))))}catch(S){if(!Is(S))throw S;st(Id,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const Q=A.Ms.get(N),tt=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(N,nt)}}})(r.localStore,h))}async function z2(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){st(jd,"User change. New user:",e.toKey());const r=await t0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new lt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oo(i,r.Ls)}}function U2(s,e){const i=At(s),r=i.Au.get(e);if(r&&r.hu)return Ot().add(r.key);{let o=Ot();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function E0(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=p0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x2.bind(null,e),e.Pu.H_=v2.bind(null,e.eventManager),e.Pu.yu=E2.bind(null,e.eventManager),e}function L2(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return qb(this.persistence,new jb,e.initialUser,this.serializer)}Cu(e){return new Wv(Dd.mi,this.serializer)}Du(e){return new Xb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class j2 extends cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qt(this.persistence.referenceDelegate instanceof oc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Sb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Wv((r=>oc.mi(r,i)),this.serializer)}}class ld{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=z2.bind(null,this.syncEngine),await p2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _2})()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),r=(function(h){return new Wb(h)})(e.databaseInfo);return(function(h,d,y,v){return new i2(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new r2(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>w_(this.syncEngine,i,0)),(function(){return E_.v()?new E_:new Kb})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const S=new b2(o,h,d,y,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=At(i);st(vr,"RemoteStore shutting down."),r.Ea.add(5),await lo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ld.provider={build:()=>new ld};class T0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ua="FirestoreClient";class B2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{st(Ua,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(Ua,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ud(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bf(s,e){s.asyncQueue.verifyOperationInProgress(),st(Ua,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await t0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function D_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await k2(s);st(Ua,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>A_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>A_(e.remoteStore,o))),s._onlineComponents=e}async function k2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Ua,"Using user provided OfflineComponentProvider");try{await Bf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Bf(s,new cc)}}else st(Ua,"Using default OfflineComponentProvider"),await Bf(s,new j2(void 0));return s._offlineComponents}async function A0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Ua,"Using user provided OnlineComponentProvider"),await D_(s,s._uninitializedComponentsProvider._online)):(st(Ua,"Using default OnlineComponentProvider"),await D_(s,new ld))),s._onlineComponents}function q2(s){return A0(s).then((e=>e.syncEngine))}async function od(s){const e=await A0(s),i=e.eventManager;return i.onListen=R2.bind(null,e.syncEngine),i.onUnlisten=D2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=w2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=V2.bind(null,e.syncEngine),i}function P2(s,e,i={}){const r=new Da;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new T0({next:N=>{A.Nu(),d.enqueueAndForget((()=>h0(h,S))),N.fromCache&&v.source==="server"?_.reject(new lt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new f0(y,A,{includeMetadataChanges:!0,qa:!0});return c0(h,S)})(await od(s),s.asyncQueue,e,i,r))),r.promise}function S0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const V_=new Map;const b0="firestore.googleapis.com",I_=!0;class x_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b0,this.ssl=I_}else this.host=e.host,this.ssl=e.ssl??I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tb)throw new lt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KA;switch(r.type){case"firstParty":return new WA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=V_.get(i);r&&(st("ComponentProvider","Removing Datastore"),V_.delete(i),r.terminate())})(this),Promise.resolve()}}function H2(s,e,i,r={}){s=Va(s,bc);const o=dd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(AT(`https://${y}`),wT("Firestore",!0)),h.host!==b0&&h.host!==y&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:r};if(!Ju(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ke.MOCK_USER;else{_=ST(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new lt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(S)}s._authCredentials=new ZA(new uv(_,A))}}class br{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new br(this.firestore,e,this._query)}}class Ve{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ve(this.firestore,e,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(io(i,Ve._jsonSchema))return new Ve(e,r||null,new ft(ne.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:De("string",Ve._jsonSchemaVersion),referencePath:De("string")};class Ia extends br{constructor(e,i,r){super(e,i,Ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new ft(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function R0(s,e,...i){if(s=yr(s),cv("collection","path",e),s instanceof bc){const r=ne.fromString(e,...i);return Gy(r),new Ia(s,null,r)}{if(!(s instanceof Ve||s instanceof Ia))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(e,...i));return Gy(r),new Ia(s.firestore,null,r)}}function ud(s,e,...i){if(s=yr(s),arguments.length===1&&(e=pd.newId()),cv("doc","path",e),s instanceof bc){const r=ne.fromString(e,...i);return Hy(r),new Ve(s,null,new ft(r))}{if(!(s instanceof Ve||s instanceof Ia))throw new lt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(e,...i));return Hy(r),new Ve(s.firestore,s instanceof Ia?s.converter:null,new ft(r))}}const N_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n0(this,"async_queue_retry"),this._c=()=>{const r=jf();r&&st(N_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Is(e))throw e;st(N_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",O_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=zd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function O_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function z_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class no extends bc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new M_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function G2(s,e){const i=typeof s=="object"?s:UA(),r=typeof s=="string"?s:ec,o=xA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=ET("firestore");h&&H2(o,...h)}return o}function kd(s){if(s._terminated)throw new lt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Q2(s),s._firestoreClient}function Q2(s){const e=s._freezeSettings(),i=(function(o,h,d,y){return new pS(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,S0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new B2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Fe.fromBase64String(e))}catch(i){throw new lt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Nn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(io(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:De("string",Nn._jsonSchemaVersion),bytes:De("string")};class qd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w0{constructor(e){this._methodName=e}}class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(io(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:De("string",_i._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(io(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new lt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:De("string",vi._jsonSchemaVersion),vectorValues:De("object")};const F2=/^__.*__$/;class Y2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new ro(e,this.data,i,this.fieldTransforms)}}function C0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Pd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C0(this.Ac)&&F2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class X2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Tc(e)}Cc(e,i,r,o=!1){return new Pd({Ac:e,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D0(s){const e=s._freezeSettings(),i=Tc(s._databaseId);return new X2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function K2(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);x0("Data must be an object, but it was:",d,r);const y=V0(r,d);let v,_;if(h.merge)v=new Qn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const N=J2(e,S,i);if(!d.contains(N))throw new lt(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);W2(A,N)||A.push(N)}v=new Qn(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new Y2(new xn(y),v,_)}function Z2(s,e,i,r=!1){return Hd(i,s.Cc(r?4:3,e))}function Hd(s,e){if(I0(s=yr(s)))return x0("Unsupported field value:",e,s),V0(s,e);if(s instanceof w0)return(function(r,o){if(!C0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let v=Hd(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=yr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=re.fromDate(r);return{timestampValue:lc(o.serializer,h)}}if(r instanceof re){const h=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:Qv(o.serializer,r._byteString)};if(r instanceof Ve){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:wd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return(function(d,y){return{mapValue:{fields:{[vv]:{stringValue:Ev},[nc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Sd(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fc(r)}`)})(s,e)}function V0(s,e){const i={};return dv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,((r,o)=>{const h=Hd(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function I0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof _i||s instanceof Nn||s instanceof Ve||s instanceof w0||s instanceof vi)}function x0(s,e,i){if(!I0(i)||!hv(i)){const r=fc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function J2(s,e,i){if((e=yr(e))instanceof qd)return e._internalPath;if(typeof e=="string")return N0(s,e);throw hc("Field path arguments must be of type string or ",s,!1,void 0,i)}const $2=new RegExp("[~\\*/\\[\\]]");function N0(s,e,i){if(e.search($2)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new qd(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new lt(K.INVALID_ARGUMENT,y+s+v)}function W2(s,e){return s.some((i=>i.isEqual(e)))}class M0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Gd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tR extends M0{data(){return super.data()}}function Gd(s,e){return typeof e=="string"?N0(s,e):e instanceof qd?e._internalPath:e._delegate._internalPath}function O0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}class eR extends Qd{}function z0(s,e,...i){let r=[];e instanceof Qd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof Fd)).length,y=h.filter((v=>v instanceof Rc)).length;if(d>1||d>0&&y>0)throw new lt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Rc extends eR{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Rc(e,i,r)}_apply(e){const i=this._parse(e);return U0(e._query,i),new br(e.firestore,e.converter,Jf(e._query,i))}_parse(e){const i=D0(e.firestore);return(function(h,d,y,v,_,A,S){let N;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){L_(S,A);const tt=[];for(const nt of S)tt.push(U_(v,h,nt));N={arrayValue:{values:tt}}}else N=U_(v,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||L_(S,A),N=Z2(y,d,S,A==="in"||A==="not-in");return Ce.create(_,A,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function nR(s,e,i){const r=e,o=Gd("where",s);return Rc._create(o,r,i)}class Fd extends Qd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const v of y)U0(d,v),d=Jf(d,v)})(e._query,i),new br(e.firestore,e.converter,Jf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function U_(s,e,i){if(typeof(i=yr(i))=="string"){if(i==="")throw new lt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dv(e)&&i.indexOf("/")!==-1)throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ne.fromString(i));if(!ft.isDocumentKey(r))throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $y(s,new ft(r))}if(i instanceof Ve)return $y(s,i._key);throw new lt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function L_(s,e){if(!Array.isArray(s)||s.length===0)throw new lt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U0(s,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class iR{convertValue(e,i="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Er(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[nc].arrayValue?.values?.map((r=>pe(r.doubleValue)));return new vi(i)}convertGeoPoint(e){return new _i(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=gc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Na(e);return new re(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ne.fromString(e);Qt(Jv(r),9688,{name:e});const o=new $l(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return o.isEqual(i)||Hi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function aR(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gr extends M0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Gd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",gr._jsonSchema={type:De("string",gr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Ku extends gr{data(e={}){return super.data(e)}}class pr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Ku(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Ku(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ql(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Ku(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ql(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:rR(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}pr._jsonSchemaVersion="firestore/querySnapshot/1.0",pr._jsonSchema={type:De("string",pr._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class Yd extends iR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function sR(s){s=Va(s,br);const e=Va(s.firestore,no),i=kd(e),r=new Yd(e);return O0(s._query),P2(i,s._query).then((o=>new pr(e,r,s,o)))}function L0(s,e,i){s=Va(s,Ve);const r=Va(s.firestore,no),o=aR(s.converter,e);return lR(r,[K2(D0(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,qi.none())])}function j_(s,...e){s=yr(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||z_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(z_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,d,y;if(s instanceof Ve)d=Va(s.firestore,no),y=Ad(s._key.path),h={next:v=>{e[r]&&e[r](oR(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Va(s,br);d=Va(v.firestore,no),y=v._query;const _=new Yd(d);h={next:A=>{e[r]&&e[r](new pr(d,_,v,A))},error:e[r+1],complete:e[r+2]},O0(s._query)}return(function(_,A,S,N){const Q=new T0(N),tt=new f0(A,Q,S);return _.asyncQueue.enqueueAndForget((async()=>c0(await od(_),tt))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>h0(await od(_),tt)))}})(kd(d),y,o,h)}function lR(s,e){return(function(r,o){const h=new Da;return r.asyncQueue.enqueueAndForget((async()=>I2(await q2(r),o,h))),h.promise})(kd(s),e)}function oR(s,e,i){const r=i.docs.get(e._key),o=new Yd(s);return new gr(s,o,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ds=o})(zA),Wu(new Xl("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new no(new JA(r.getProvider("auth-internal")),new tS(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),vs(By,ky,e),vs(By,ky,"esm2020")})();const uR={apiKey:"AIzaSyClukiCJsusdmwkaQHepGsILMfczgPrDhU",authDomain:"mathbook-engine.firebaseapp.com",projectId:"mathbook-engine",storageBucket:"mathbook-engine.firebasestorage.app",messagingSenderId:"469440264696",appId:"1:469440264696:web:6f91558beb97f8a2797e0d"},cR=W_(uR),Yl=G2(cR),hR=({isOpen:s,onClose:e})=>{const[i,r]=Gt.useState(""),[o,h]=Gt.useState(null),[d,y]=Gt.useState("idle"),[v,_]=Gt.useState("");if(!s)return null;const A=async Q=>{const tt=Q.target.files?.[0];if(tt){i||r(tt.name.replace(".js","").replace(/_/g," ")),y("validating");try{const nt=await tt.text();await q_(nt),h(nt),y("valid"),_("")}catch(nt){y("error"),_(nt.message||"El archivo no es un simulador vlido."),h(null)}}},S=async()=>{if(o&&i){y("validating");try{const Q=z0(R0(Yl,"simuladores"),nR("name","==",i)),tt=await sR(Q);let nt="sim_"+crypto.randomUUID().slice(0,8);if(!tt.empty&&(nt=tt.docs[0].id,!confirm(`El simulador "${i}" ya existe en la nube. Quieres actualizarlo para TODOS los usuarios?`))){y("idle");return}await L0(ud(Yl,"simuladores",nt),{id:nt,name:i,code:o,version:"1.0",timestamp:Date.now()}),alert("Simulador guardado en la nube! Todos los usuarios lo vern al instante."),N()}catch(Q){console.error(Q),_("Error al conectar con la base de datos."),y("error")}}},N=()=>{r(""),h(null),y("idle"),_(""),e()};return q.jsx("div",{className:"modal-bg",style:{display:"flex"},children:q.jsxs("div",{className:"modal fade-in",style:{width:"800px",maxHeight:"90vh",overflowY:"auto"},children:[q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[q.jsxs("h2",{children:[q.jsx(rT,{size:24})," Subir Simulador"]}),q.jsx("button",{onClick:N,style:{border:"none",background:"transparent",padding:0},children:q.jsx(lT,{size:24})})]}),q.jsxs("div",{className:"row",children:[q.jsx("label",{style:{fontWeight:"bold"},children:"Nombre para el Men:"}),q.jsx("input",{type:"text",value:i,onChange:Q=>r(Q.target.value),placeholder:"Ej: Permutaciones Agrupadas"})]}),q.jsxs("div",{className:"row",children:[q.jsx("label",{style:{fontWeight:"bold"},children:"Archivo JavaScript (.js):"}),q.jsx("input",{type:"file",accept:".js,text/javascript",onChange:A,style:{padding:"10px",background:"var(--bg-tertiary)",borderRadius:"var(--radius)"}})]}),q.jsxs("div",{style:{marginTop:"1rem",minHeight:"60px"},children:[d==="validating"&&q.jsx("p",{className:"loading",children:"Analizando cdigo..."}),d==="error"&&q.jsxs("div",{className:"feedback-incorrect",style:{display:"flex",gap:"10px",alignItems:"center"},children:[q.jsx(eT,{size:20}),q.jsxs("div",{children:[q.jsx("strong",{children:"Error:"})," ",v]})]}),d==="valid"&&o&&q.jsxs("div",{className:"fade-in",children:[q.jsxs("div",{className:"feedback-correct",style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"1rem"},children:[q.jsx(OE,{size:20}),q.jsxs("div",{children:[q.jsx("strong",{children:"Cdigo Vlido!"})," Listo para subir."]})]}),q.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"8px",padding:"15px",background:"var(--bg-secondary)"},children:[q.jsxs("h4",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)"},children:[q.jsx(PE,{size:16})," Vista Previa del Simulador"]}),q.jsx(hd,{code:o,params:{}})]})]})]}),q.jsxs("div",{className:"buttons",children:[q.jsx("button",{onClick:N,children:"Cancelar"}),q.jsx("button",{id:"btnGuardar",disabled:d!=="valid"||!i,onClick:S,children:"Subir y Guardar"})]})]})})};function fR(s){const e=`
    :root { 
        --bg-primary: #ffffff; --text-primary: #1a202c; --brand-primary: #2563eb; 
        --bg-secondary: #f8fafc; --border-color: #e2e8f0;
    }
    body { font-family: system-ui, sans-serif; line-height: 1.6; color: var(--text-primary); margin: 0; background: #f1f5f9; }
    .book-container { max-width: 800px; margin: 40px auto; background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
    h1, h2 { color: var(--brand-primary); border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
    .page-content { display: none; animation: fadeIn 0.3s ease; }
    .page-content.active { display: block; }
    .nav-buttons { display: flex; justify-content: space-between; margin-top: 40px; border-top: 1px solid #e2e8f0; padding-top: 20px; }
    button { background: var(--brand-primary); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; }
    button:disabled { background: #cbd5e1; cursor: not-allowed; }
    
    /* Estilos del Simulador (Copiados de tu CSS) */
    .simulador-wrapper { margin: 20px 0; border: 1px solid #e2e8f0; border-radius: 8px; padding: 10px; background: #f8fafc; }
    .btn-sim { background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; width: 100%; text-align: left; }
    .btn-sim-rojo { background: #dc2626; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  `,i=`window.BOOK_DATA = ${JSON.stringify(s)};`;return`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${s.meta.title}</title>
    <style>${e}</style>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
</head>
<body>
    <div class="book-container">
        <h1 style="text-align:center">${s.meta.title}</h1>
        <hr/>
        
        <div id="book-content">
            </div>

        <div class="nav-buttons">
            <button id="btn-prev">Anterior</button>
            <span id="page-num" style="align-self:center; color:#64748b;">Pgina 1</span>
            <button id="btn-next">Siguiente</button>
        </div>
    </div>

    <script>${i}<\/script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const data = window.BOOK_DATA;
        const container = document.getElementById('book-content');
        const prevBtn = document.getElementById('btn-prev');
        const nextBtn = document.getElementById('btn-next');
        const pageNum = document.getElementById('page-num');
        
        let currentPageIdx = 0;

        // --- MOTOR DE SIMULADORES (Versin Ligera) ---
        const simulators = {};
        data.assets.simulators.forEach(sim => {
            simulators[sim.id] = sim;
        });

        function renderBlock(block) {
            if (block.type === 'text') {
                const div = document.createElement('div');
                div.className = 'text-block';
                // Convertir saltos de lnea y LaTeX bsico
                div.innerHTML = block.content
                    .replace(/\\n/g, '<br>')
                    // Un hack simple para renderizar simuladores Legacy en texto si quedaron huerfanos
                    .replace(/\\[simulador:(.*?)\\]/g, ''); 
                return div;
            }
            if (block.type === 'simulator') {
                const wrapper = document.createElement('div');
                wrapper.className = 'simulador-wrapper';
                const simAsset = simulators[block.simulatorId || block.simulatorId?.replace('legacy_', '')];
                
                if (!simAsset) {
                    wrapper.innerHTML = '<p style="color:red">Simulador no encontrado: ' + block.simulatorId + '</p>';
                    return wrapper;
                }

                // Inyeccin del cdigo JS
                // NOTA: Para exportacin real, usamos Blob URL igual que en el editor
                const blob = new Blob([simAsset.code], { type: 'text/javascript' });
                const url = URL.createObjectURL(blob);

                import(url).then(module => {
                    const sim = module.default;
                    // Detectar formato (Igual que en tu editor)
                    if (sim.init) {
                        const container = document.createElement('div');
                        wrapper.appendChild(container);
                        sim.init(container, block.simConfig || {});
                    } else if (sim.render) {
                        // Legacy Support
                        const html = sim.render(block.simConfig || {}, simAsset.name);
                        const scriptRegex = /<script>([\\s\\S]*?)<\\/script>/;
                        const match = html.match(scriptRegex);
                        const htmlOnly = html.replace(scriptRegex, '');
                        
                        const div = document.createElement('div');
                        div.innerHTML = htmlOnly;
                        wrapper.appendChild(div);

                        if (match && match[1]) {
                            const script = document.createElement('script');
                            script.textContent = match[1];
                            document.body.appendChild(script);
                        }
                    }
                }).catch(err => {
                    wrapper.innerHTML = 'Error cargando simulador: ' + err.message;
                });

                return wrapper;
            }
            return document.createElement('div');
        }

        function showPage(index) {
            container.innerHTML = '';
            const page = data.pages[index];
            
            const title = document.createElement('h2');
            title.textContent = page.title;
            container.appendChild(title);

            page.blocks.forEach(block => {
                container.appendChild(renderBlock(block));
            });

            // Actualizar controles
            pageNum.textContent = \`Pgina \${index + 1} de \${data.pages.length}\`;
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === data.pages.length - 1;
            
            // Renderizar Matemticas (MathJax) si existe
            if (window.MathJax) {
                window.MathJax.typesetPromise([container]);
            }
        }

        // Event Listeners
        prevBtn.onclick = () => { if(currentPageIdx > 0) showPage(--currentPageIdx); };
        nextBtn.onclick = () => { if(currentPageIdx < data.pages.length - 1) showPage(++currentPageIdx); };

        // Iniciar
        showPage(0);
    });
  <\/script>
</body>
</html>
  `}const dR={meta:{title:"Libro Interactivo",author:"Anon",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:[]},B_="libro_curso_principal";function mR(){const[s,e]=Gt.useState(dR),[i,r]=Gt.useState([]),[o,h]=Gt.useState(null),[d,y]=Gt.useState(!1),[v,_]=Gt.useState(!1),[A,S]=Gt.useState(!0),[N,Q]=Gt.useState(!1),[tt,nt]=Gt.useState([]),[$,dt]=Gt.useState(0);Gt.useEffect(()=>{const ut=new URLSearchParams(window.location.search).get("admin")==="profe123";S(!ut);const L=j_(ud(Yl,"projects",B_),J=>{if(J.exists()){const W=J.data();console.log(" Sincronizado desde la nube"),e(W),dt(0)}else ut&&console.log("Listo para crear el primer libro en la nube.")});return()=>L()},[]),Gt.useEffect(()=>{const it=z0(R0(Yl,"simuladores")),ut=j_(it,L=>{const J=L.docs.map(W=>({id:W.id,...W.data()}));console.log(" Lista de Nube cargada:",J.length,J),nt(J)});return()=>ut()},[]),Gt.useEffect(()=>{document.body.setAttribute("data-theme",v?"dark":"light")},[v]);const St=async()=>{if(!A){Q(!0);try{await L0(ud(Yl,"projects",B_),s),alert(" Publicado! Todos los alumnos tienen la ltima versin.")}catch(it){console.error(it),alert(" Error al subir a la nube.")}finally{Q(!1)}}},pt=()=>{const it="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s)),ut=document.createElement("a");ut.setAttribute("href",it),ut.setAttribute("download",s.meta.title+"_backup.json"),document.body.appendChild(ut),ut.click(),ut.remove()},Ht=it=>{const ut=it.target.files?.[0];if(!ut)return;const L=new FileReader;L.onload=J=>{try{const W=JSON.parse(J.target?.result);if(W.meta&&W.pages&&!Array.isArray(W)){e(W),h(W.pages[0]?.id||null),alert("Proyecto V2 cargado. Dale a 'PUBLICAR' para subirlo a la nube.");return}if(Array.isArray(W)){console.log("Detectado formato Legacy. Convirtiendo...");const Et=W.map(V=>{const F=[],at=V.contenido||"",rt=/\[simulador:([a-zA-Z0-9_]+)\]/g;let gt=0,_t;for(;(_t=rt.exec(at))!==null;){const te=at.slice(gt,_t.index).trim();te&&F.push({id:crypto.randomUUID(),type:"text",content:te});const Ti=_t[1];F.push({id:crypto.randomUUID(),type:"simulator",content:"",simulatorId:"legacy_"+Ti,simConfig:{}}),gt=rt.lastIndex}const Ct=at.slice(gt).trim();Ct&&F.push({id:crypto.randomUUID(),type:"text",content:Ct});let oe="seccion";return V.tipo==="capitulo"&&(oe="capitulo"),V.tipo==="portada"&&(oe="portada"),{id:V.id||crypto.randomUUID(),type:oe,title:V.titulo||"Sin Ttulo",blocks:F.length>0?F:[{id:crypto.randomUUID(),type:"text",content:""}]}}),zt={meta:{title:"Libro Importado",author:"Usuario",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:Et};e(zt),h(Et[0]?.id||null),alert(` Archivo antiguo convertido. 

PASO SIGUIENTE:
1. Revisa que el texto est bien.
2. Sube los simuladores (.js) que falten.
3. Dale a 'PUBLICAR' para guardarlo en la nube.`)}else alert("Formato no reconocido.")}catch(W){console.error(W),alert("Error al leer el archivo JSON.")}},L.readAsText(ut),it.target.value=""},Wt=()=>{if(i.length===0)return;const it=i[i.length-1];r(ut=>ut.slice(0,-1)),e(it)},It=(it,ut,L)=>{L.stopPropagation();const J=s.pages.findIndex(zt=>zt.id===it);if(J<0)return;const W=J+ut;if(W<0||W>=s.pages.length)return;const Et=[...s.pages];[Et[J],Et[W]]=[Et[W],Et[J]],e(zt=>({...zt,pages:Et}))},D=(it,ut)=>{ut.stopPropagation(),confirm(` Ests seguro de eliminar esta pgina?
Se perder todo el texto y simuladores que tenga dentro.`)&&(e(L=>({...L,pages:L.pages.filter(J=>J.id!==it)})),o===it&&h(null))},b=(it="seccion")=>{r(L=>[...L,s]);const ut={id:crypto.randomUUID(),type:it,title:it==="capitulo"?"Nuevo Captulo":"Nueva Seccin",blocks:[]};e(L=>({...L,pages:[...L.pages,ut]})),h(ut.id)},C=it=>{e(ut=>({...ut,pages:ut.pages.map(L=>L.id===it.id?it:L)}))},M=(it,ut)=>{const L={id:"sim_"+crypto.randomUUID().slice(0,8),name:it,code:ut,version:"1.0",timestamp:Date.now()};e(J=>({...J,assets:{...J.assets,simulators:[...J.assets.simulators,L]}}))},x=it=>{if(!it)return"";const ut=it.replace("legacy_",""),L=s.assets.simulators.find(J=>J.id===it||J.id.includes(ut));return L?L.code:""},z=()=>{const it=fR(s),ut=new Blob([it],{type:"text/html"}),L=URL.createObjectURL(ut),J=document.createElement("a");J.href=L,J.download=`${s.meta.title.replace(/\s+/g,"_")}_offline.html`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(L)},R=it=>{switch(it){case"capitulo":return{fontWeight:"bold",borderLeft:"4px solid var(--brand-primary)",paddingLeft:"8px",marginTop:"10px"};case"subseccion":return{paddingLeft:"30px",fontSize:"0.9em",borderLeft:"1px solid var(--border-color)"};case"portada":return{fontStyle:"italic",color:"var(--brand-accent)"};default:return{paddingLeft:"15px"}}};if(A){const it=s.pages[$],ut=s.pages.length;Gt.useEffect(()=>{if(window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],packages:["base","ams"]},startup:{typeset:!1}},!document.getElementById("mathjax-script")){const W=document.createElement("script");W.id="mathjax-script",W.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",W.async=!0,document.head.appendChild(W)}},[]),Gt.useEffect(()=>{it&&window.MathJax&&window.MathJax.typesetPromise&&setTimeout(()=>{const W=document.getElementById("book-content-area");W&&(window.MathJax.typesetClear([W]),window.MathJax.typesetPromise([W]).catch(Et=>console.error(Et)))},50)},[$,it]);const L=()=>{$<ut-1&&(dt(W=>W+1),window.scrollTo(0,0))},J=()=>{$>0&&(dt(W=>W-1),window.scrollTo(0,0))};return q.jsxs("div",{style:{minHeight:"100vh",width:"100%",backgroundColor:"#f1f5f9",padding:"40px 20px",fontFamily:"system-ui, -apple-system, sans-serif",boxSizing:"border-box",position:"absolute",top:0,left:0,zIndex:9999,overflowY:"auto"},children:[q.jsx("div",{style:{maxWidth:"800px",margin:"0 auto 20px auto",display:"flex",justifyContent:"flex-end"},children:q.jsx("button",{onClick:()=>_(!v),style:{background:"white",border:"1px solid #cbd5e1",padding:"8px",borderRadius:"6px",cursor:"pointer"},children:v?q.jsx(wy,{size:18,color:"#333"}):q.jsx(Ry,{size:18,color:"#333"})})}),q.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",background:"white",padding:"50px",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",color:"#1a202c"},children:[q.jsx("h1",{style:{textAlign:"center",color:"#2563eb",borderBottom:"2px solid #f1f5f9",paddingBottom:"15px",marginTop:0},children:s.meta.title}),q.jsx("div",{id:"book-content-area",style:{minHeight:"400px",marginTop:"30px"},children:it?q.jsxs("div",{children:[it.type==="capitulo"&&q.jsx("h2",{style:{color:"#2563eb",borderBottom:"2px solid #f1f5f9",paddingBottom:"10px",fontSize:"1.8em"},children:it.title}),it.type==="seccion"&&q.jsx("h3",{style:{marginTop:"20px",fontSize:"1.5em",color:"#1e293b"},children:it.title}),it.type==="portada"&&q.jsx("h1",{style:{textAlign:"center",fontSize:"3em",margin:"60px 0",color:"#2563eb"},children:it.title}),q.jsx("div",{style:{lineHeight:"1.8",fontSize:"1.1rem",textAlign:"justify"},children:it.blocks.map(W=>q.jsxs("div",{style:{margin:"20px 0"},children:[W.type==="text"&&q.jsx("div",{dangerouslySetInnerHTML:{__html:W.content.replace(/\n/g,"<br/>")}}),W.type==="simulator"&&q.jsx("div",{style:{margin:"25px 0",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"15px",background:"#f8fafc"},children:q.jsx(hd,{code:x(W.simulatorId),params:W.simConfig||{}})})]},W.id))})]},it.id):q.jsx("div",{style:{textAlign:"center",padding:"50px",color:"gray"},children:"Cargando..."})}),ut>0&&q.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"50px",borderTop:"1px solid #e2e8f0",paddingTop:"30px"},children:[q.jsx("button",{onClick:J,disabled:$===0,style:{background:$===0?"#e2e8f0":"#fff",color:$===0?"#94a3b8":"#2563eb",border:"1px solid #cbd5e1",padding:"10px 25px",borderRadius:"6px",cursor:$===0?"not-allowed":"pointer",fontWeight:"bold"},children:" Anterior"}),q.jsxs("span",{style:{alignSelf:"center",color:"#64748b",fontSize:"0.9rem"},children:["Pgina ",$+1," de ",ut]}),q.jsx("button",{onClick:L,disabled:$===ut-1,style:{background:$===ut-1?"#e2e8f0":"#2563eb",color:$===ut-1?"#94a3b8":"white",border:"none",padding:"10px 25px",borderRadius:"6px",cursor:$===ut-1?"not-allowed":"pointer",fontWeight:"bold"},children:"Siguiente "})]})]})]})}return q.jsxs("div",{className:"app-container",children:[q.jsxs("header",{children:[q.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[q.jsx("h1",{children:s.meta.title}),q.jsx("span",{style:{fontSize:"0.7em",background:"var(--brand-error)",color:"white",padding:"2px 6px",borderRadius:"4px"},children:"EDITOR"})]}),q.jsx("div",{className:"header-sep"}),q.jsxs("a",{href:"ayuda.html",target:"_blank",className:"button-link",title:"Ver Ayuda",children:[q.jsx(UE,{size:18,style:{marginRight:5}})," Ayuda"]}),q.jsx("button",{className:"icon-button",onClick:()=>_(!v),children:v?q.jsx(wy,{size:18}):q.jsx(Ry,{size:18})}),q.jsx("button",{className:"icon-button",onClick:Wt,disabled:i.length===0,title:"Deshacer",children:q.jsx(iT,{size:18})}),q.jsx("div",{className:"header-sep"}),q.jsxs("div",{className:"local-actions-group",children:[q.jsxs("label",{className:"icon-button",title:"Importar JSON viejo",children:[q.jsx(FE,{size:18}),q.jsx("input",{type:"file",accept:".json",onChange:Ht,style:{display:"none"}})]}),q.jsx("button",{className:"icon-button",onClick:pt,title:"Guardar Respaldo Local (JSON)",children:q.jsx(JE,{size:18})})]}),q.jsx("button",{onClick:St,disabled:N,style:{background:"var(--brand-success)",color:"white",border:"none",padding:"8px 15px",borderRadius:"6px",fontWeight:"bold",marginLeft:"auto",display:"flex",alignItems:"center",cursor:"pointer"},children:N?"Subiendo...":q.jsxs(q.Fragment,{children:[q.jsx(jE,{size:18,style:{marginRight:5}})," PUBLICAR"]})}),q.jsx("button",{className:"icon-button",onClick:z,title:"Descargar HTML Offline",style:{marginLeft:"10px"},children:q.jsx(kE,{size:18})})]}),q.jsxs("div",{className:"layout",children:[q.jsxs("aside",{className:"toc",children:[q.jsx("h2",{children:"Contenido"}),q.jsxs("div",{className:"toolbar",style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:[q.jsx("button",{onClick:()=>b("capitulo"),children:"+ Cap"}),q.jsx("button",{onClick:()=>b("seccion"),children:"+ Sec"}),q.jsx("button",{onClick:()=>y(!0),style:{flexBasis:"100%"},children:"+ Simulador"})]}),q.jsx("ul",{style:{marginTop:"1rem",listStyle:"none",padding:0},children:s.pages.map((it,ut)=>q.jsxs("li",{className:it.id===o?"selected":"",style:R(it.type),onClick:()=>h(it.id),children:[q.jsx("span",{className:"page-title-span",title:it.title,children:it.title||"Sin ttulo"}),!A&&q.jsxs("div",{className:"page-actions",children:[q.jsx("button",{className:"mini-btn",onClick:L=>It(it.id,-1,L),disabled:ut===0,title:"Subir",children:q.jsx(G_,{size:14})}),q.jsx("button",{className:"mini-btn",onClick:L=>It(it.id,1,L),disabled:ut===s.pages.length-1,title:"Bajar",children:q.jsx(H_,{size:14})}),q.jsx("button",{className:"mini-btn danger",onClick:L=>D(it.id,L),title:"Eliminar Pgina",children:q.jsx(Q_,{size:14})})]})]},it.id))})]}),q.jsx("main",{className:"main",children:o?(()=>{const it=s.pages.find(L=>L.id===o);if(!it)return q.jsx("p",{children:"Error cargando pgina"});const ut=[...tt];return q.jsx(uT,{page:it,availableSimulators:ut,onUpdatePage:C})})():q.jsx("div",{className:"empty-state",children:q.jsx("p",{children:"Selecciona una pgina o carga un proyecto."})})})]}),q.jsx(hR,{isOpen:d,onClose:()=>y(!1),onSave:M})]})}RE.createRoot(document.getElementById("root")).render(q.jsx(yE.StrictMode,{children:q.jsx(mR,{})}));
