(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function q_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Cf={exports:{}},Ll={};var gy;function pE(){if(gy)return Ll;gy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var py;function yE(){return py||(py=1,Cf.exports=pE()),Cf.exports}var k=yE(),wf={exports:{}},_t={};var yy;function _E(){if(yy)return _t;yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function ht(M,Y,nt){this.props=M,this.context=Y,this.refs=$,this.updater=nt||J}ht.prototype.isReactComponent={},ht.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ht.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function dt(M,Y,nt){this.props=M,this.context=Y,this.refs=$,this.updater=nt||J}var kt=dt.prototype=new Et;kt.constructor=dt,tt(kt,ht.prototype),kt.isPureReactComponent=!0;var $t=Array.isArray;function xt(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function V(M,Y,nt){var it=nt.ref;return{$$typeof:s,type:M,key:Y,ref:it!==void 0?it:null,props:nt}}function w(M,Y){return V(M.type,Y,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function N(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return Y[nt]})}var b=/\/+/g;function pt(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):Y.toString(36)}function Yt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(xt,xt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,Y,nt,it,mt){var Tt=typeof M;(Tt==="undefined"||Tt==="boolean")&&(M=null);var Ot=!1;if(M===null)Ot=!0;else switch(Tt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(M.$$typeof){case s:case e:Ot=!0;break;case A:return Ot=M._init,H(Ot(M._payload),Y,nt,it,mt)}}if(Ot)return mt=mt(M),Ot=it===""?"."+pt(M,0):it,$t(mt)?(nt="",Ot!=null&&(nt=Ot.replace(b,"$&/")+"/"),H(mt,Y,nt,"",function(La){return La})):mt!=null&&(C(mt)&&(mt=w(mt,nt+(mt.key==null||M&&M.key===mt.key?"":(""+mt.key).replace(b,"$&/")+"/")+Ot)),Y.push(mt)),1;Ot=0;var Ve=it===""?".":it+":";if($t(M))for(var re=0;re<M.length;re++)it=M[re],Tt=Ve+pt(it,re),Ot+=H(it,Y,nt,Tt,mt);else if(re=Q(M),typeof re=="function")for(M=re.call(M),re=0;!(it=M.next()).done;)it=it.value,Tt=Ve+pt(it,re++),Ot+=H(it,Y,nt,Tt,mt);else if(Tt==="object"){if(typeof M.then=="function")return H(Yt(M),Y,nt,it,mt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function et(M,Y,nt){if(M==null)return M;var it=[],mt=0;return H(M,it,"","",function(Tt){return Y.call(nt,Tt,mt++)}),it}function ot(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Rt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Lt={map:et,forEach:function(M,Y,nt){et(M,function(){Y.apply(this,arguments)},nt)},count:function(M){var Y=0;return et(M,function(){Y++}),Y},toArray:function(M){return et(M,function(Y){return Y})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return _t.Activity=S,_t.Children=Lt,_t.Component=ht,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=dt,_t.StrictMode=r,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_t.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},_t.cache=function(M){return function(){return M.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(M,Y,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=tt({},M.props),mt=M.key;if(Y!=null)for(Tt in Y.key!==void 0&&(mt=""+Y.key),Y)!R.call(Y,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Y.ref===void 0||(it[Tt]=Y[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=nt;else if(1<Tt){for(var Ot=Array(Tt),Ve=0;Ve<Tt;Ve++)Ot[Ve]=arguments[Ve+2];it.children=Ot}return V(M.type,mt,it)},_t.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},_t.createElement=function(M,Y,nt){var it,mt={},Tt=null;if(Y!=null)for(it in Y.key!==void 0&&(Tt=""+Y.key),Y)R.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=Y[it]);var Ot=arguments.length-2;if(Ot===1)mt.children=nt;else if(1<Ot){for(var Ve=Array(Ot),re=0;re<Ot;re++)Ve[re]=arguments[re+2];mt.children=Ve}if(M&&M.defaultProps)for(it in Ot=M.defaultProps,Ot)mt[it]===void 0&&(mt[it]=Ot[it]);return V(M,Tt,mt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(M){return{$$typeof:y,render:M}},_t.isValidElement=C,_t.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ot}},_t.memo=function(M,Y){return{$$typeof:_,type:M,compare:Y===void 0?null:Y}},_t.startTransition=function(M){var Y=I.T,nt={};I.T=nt;try{var it=M(),mt=I.S;mt!==null&&mt(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(xt,Rt)}catch(Tt){Rt(Tt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),I.T=Y}},_t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_t.use=function(M){return I.H.use(M)},_t.useActionState=function(M,Y,nt){return I.H.useActionState(M,Y,nt)},_t.useCallback=function(M,Y){return I.H.useCallback(M,Y)},_t.useContext=function(M){return I.H.useContext(M)},_t.useDebugValue=function(){},_t.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},_t.useEffect=function(M,Y){return I.H.useEffect(M,Y)},_t.useEffectEvent=function(M){return I.H.useEffectEvent(M)},_t.useId=function(){return I.H.useId()},_t.useImperativeHandle=function(M,Y,nt){return I.H.useImperativeHandle(M,Y,nt)},_t.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},_t.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},_t.useMemo=function(M,Y){return I.H.useMemo(M,Y)},_t.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},_t.useReducer=function(M,Y,nt){return I.H.useReducer(M,Y,nt)},_t.useRef=function(M){return I.H.useRef(M)},_t.useState=function(M){return I.H.useState(M)},_t.useSyncExternalStore=function(M,Y,nt){return I.H.useSyncExternalStore(M,Y,nt)},_t.useTransition=function(){return I.H.useTransition()},_t.version="19.2.3",_t}var _y;function hd(){return _y||(_y=1,wf.exports=_E()),wf.exports}var te=hd();const vE=q_(te);var Df={exports:{}},jl={},Vf={exports:{}},If={};var vy;function EE(){return vy||(vy=1,(function(s){function e(H,et){var ot=H.length;H.push(et);t:for(;0<ot;){var Rt=ot-1>>>1,Lt=H[Rt];if(0<o(Lt,et))H[Rt]=et,H[ot]=Lt,ot=Rt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],ot=H.pop();if(ot!==et){H[0]=ot;t:for(var Rt=0,Lt=H.length,M=Lt>>>1;Rt<M;){var Y=2*(Rt+1)-1,nt=H[Y],it=Y+1,mt=H[it];if(0>o(nt,ot))it<Lt&&0>o(mt,nt)?(H[Rt]=mt,H[it]=ot,Rt=it):(H[Rt]=nt,H[Y]=ot,Rt=Y);else if(it<Lt&&0>o(mt,ot))H[Rt]=mt,H[it]=ot,Rt=it;else break t}}return et}function o(H,et){var ot=H.sortIndex-et.sortIndex;return ot!==0?ot:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,S=null,O=3,Q=!1,J=!1,tt=!1,$=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function kt(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function $t(H){if(tt=!1,kt(H),!J)if(i(v)!==null)J=!0,xt||(xt=!0,N());else{var et=i(_);et!==null&&Yt($t,et.startTime-H)}}var xt=!1,I=-1,R=5,V=-1;function w(){return $?!0:!(s.unstable_now()-V<R)}function C(){if($=!1,xt){var H=s.unstable_now();V=H;var et=!0;try{t:{J=!1,tt&&(tt=!1,Et(I),I=-1),Q=!0;var ot=O;try{e:{for(kt(H),S=i(v);S!==null&&!(S.expirationTime>H&&w());){var Rt=S.callback;if(typeof Rt=="function"){S.callback=null,O=S.priorityLevel;var Lt=Rt(S.expirationTime<=H);if(H=s.unstable_now(),typeof Lt=="function"){S.callback=Lt,kt(H),et=!0;break e}S===i(v)&&r(v),kt(H)}else r(v);S=i(v)}if(S!==null)et=!0;else{var M=i(_);M!==null&&Yt($t,M.startTime-H),et=!1}}break t}finally{S=null,O=ot,Q=!1}et=void 0}}finally{et?N():xt=!1}}}var N;if(typeof dt=="function")N=function(){dt(C)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,pt=b.port2;b.port1.onmessage=C,N=function(){pt.postMessage(null)}}else N=function(){ht(C,0)};function Yt(H,et){I=ht(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var et=3;break;default:et=O}var ot=O;O=et;try{return H()}finally{O=ot}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=O;O=H;try{return et()}finally{O=ot}},s.unstable_scheduleCallback=function(H,et,ot){var Rt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Rt+ot:Rt):ot=Rt,H){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=ot+Lt,H={id:A++,callback:et,priorityLevel:H,startTime:ot,expirationTime:Lt,sortIndex:-1},ot>Rt?(H.sortIndex=ot,e(_,H),i(v)===null&&H===i(_)&&(tt?(Et(I),I=-1):tt=!0,Yt($t,ot-Rt))):(H.sortIndex=Lt,e(v,H),J||Q||(J=!0,xt||(xt=!0,N()))),H},s.unstable_shouldYield=w,s.unstable_wrapCallback=function(H){var et=O;return function(){var ot=O;O=et;try{return H.apply(this,arguments)}finally{O=ot}}}})(If)),If}var Ey;function TE(){return Ey||(Ey=1,Vf.exports=EE()),Vf.exports}var Nf={exports:{}},Ye={};var Ty;function AE(){if(Ty)return Ye;Ty=1;var s=hd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ye.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Q}):A==="script"&&r.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Ye.requestFormReset=function(v){r.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var Ay;function SE(){if(Ay)return Nf.exports;Ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Nf.exports=AE(),Nf.exports}var Sy;function bE(){if(Sy)return jl;Sy=1;var s=TE(),e=hd(),i=SE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ht:return"Profiler";case $:return"StrictMode";case $t:return"Suspense";case xt:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case dt:return t.displayName||"Context";case Et:return(t._context.displayName||"Context")+".Consumer";case kt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:pt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return pt(t(n))}catch{}}return null}var Yt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Rt=[],Lt=-1;function M(t){return{current:t}}function Y(t){0>Lt||(t.current=Rt[Lt],Rt[Lt]=null,Lt--)}function nt(t,n){Lt++,Rt[Lt]=t.current,t.current=n}var it=M(null),mt=M(null),Tt=M(null),Ot=M(null);function Ve(t,n){switch(nt(Tt,n),nt(mt,t),nt(it,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(it),nt(it,t)}function re(){Y(it),Y(mt),Y(Tt)}function La(t){t.memoizedState!==null&&nt(Ot,t);var n=it.current,a=Bp(n,t.type);n!==a&&(nt(mt,t),nt(it,a))}function Rr(t){mt.current===t&&(Y(it),Y(mt)),Ot.current===t&&(Y(Ot),Ml._currentValue=ot)}var Cr,wr;function Yn(t){if(Cr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cr=n&&n[1]||"",wr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cr+t+wr}var Ms=!1;function ja(t,n){if(!t||Ms)return"";Ms=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(P){var B=P}Reflect.construct(t,[],X)}else{try{X.call()}catch(P){B=P}t.call(X.prototype)}}else{try{throw Error()}catch(P){B=P}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var D=g.split(`
`),j=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===j.length)for(l=D.length-1,c=j.length-1;1<=l&&0<=c&&D[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==j[c]){var G=`
`+D[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Ms=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function Os(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return ja(t.type,!1);case 11:return ja(t.type.render,!1);case 1:return ja(t.type,!0);case 31:return Yn("Activity");default:return""}}function zs(t){try{var n="",a=null;do n+=Os(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,Gi=s.unstable_cancelCallback,wc=s.unstable_shouldYield,co=s.unstable_requestPaint,Je=s.unstable_now,Ba=s.unstable_getCurrentPriorityLevel,Us=s.unstable_ImmediatePriority,Ls=s.unstable_UserBlockingPriority,Qi=s.unstable_NormalPriority,Dc=s.unstable_LowPriority,ho=s.unstable_IdlePriority,fo=s.log,mo=s.unstable_setDisableYieldValue,Mn=null,je=null;function _n(t){if(typeof fo=="function"&&mo(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Mn,t)}catch{}}var he=Math.clz32?Math.clz32:po,go=Math.log,Dr=Math.LN2;function po(t){return t>>>=0,t===0?32:31-(go(t)/Dr|0)|0}var Xn=256,ka=262144,ye=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function On(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ic(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-he(a),X=1<<G;E[G]=0,D[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var P=B[G];P!==null&&(P.lane&=-536870913)}a&=~X}l!==0&&Pa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Pa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Bs(t,n){var a=n&-n;return a=(a&42)!==0?1:Ha(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _o(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:oy(t.type))}function zn(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Un=Math.random().toString(36).slice(2),_e="__reactFiber$"+Un,Me="__reactProps$"+Un,$n="__reactContainer$"+Un,Vr="__reactEvents$"+Un,Nc="__reactListeners$"+Un,vo="__reactHandles$"+Un,Eo="__reactResources$"+Un,Wn="__reactMarker$"+Un;function Ir(t){delete t[_e],delete t[Me],delete t[Vr],delete t[Nc],delete t[vo]}function ti(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Fp(t);t!==null;){if(a=t[_e])return a;t=Fp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[_e]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ei(t){var n=t[Eo];return n||(n=t[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[Wn]=!0}var ks=new Set,qs={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(qs[t]=n,t=0;t<n.length;t++)ks.add(n[t])}var Ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hs={},Gs={};function To(t){return pe.call(Gs,t)?!0:pe.call(Hs,t)?!1:Ps.test(t)?Gs[t]=!0:(Hs[t]=!0,!1)}function Nr(t,n,a){if(To(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Fi(t)?"checked":"value";t._valueTracker=Qs(t,n,""+t[n])}}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qa=/[\n"\\]/g;function tn(t){return t.replace(Qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xr(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Fs(t,g,Oe(n)):a!=null?Fs(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function Ao(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function Fs(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function So(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Xi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Yt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ys(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||bo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xs(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Ys(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ys(t,f,n[f])}function Mr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var Ks=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,ri=null;function Fa(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(xr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(r(90));xr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ga(l)}break t;case"textarea":So(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Yi(t,!!a.multiple,n,!1)}}}var zr=!1;function Ji(t,n,a){if(zr)return t(n,a);zr=!0;try{var l=t(n);return l}finally{if(zr=!1,(Zi!==null||ri!==null)&&(_u(),Zi&&(n=Zi,t=ri,ri=Zi=null,Fa(n),t)))for(n=0;n<t.length;n++)Fa(t[n])}}function jn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Tn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Ya=!1}var si=null,Zs=null,Xa=null;function Js(){if(Xa)return Xa;var t,n=Zs,a=n.length,l,c="value"in si?si.value:si.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Xa=c.slice(t,1<l?1-l:void 0)}function Ka(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ai(){return!0}function Bn(){return!1}function Be(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ai:Bn,this.isPropagationStopped=Bn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Be(Si),$i=S({},Si,{view:0,detail:0}),$s=Be($i),Wi,Ur,oi,Lr=S({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(Wi=t.screenX-oi.screenX,Ur=t.screenY-oi.screenY):Ur=Wi=0,oi=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Ur}}),Ws=Be(Lr),Za=S({},Lr,{dataTransfer:0}),Co=Be(Za),wo=S({},$i,{relatedTarget:0}),Ja=Be(wo),tl=S({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=Be(tl),jr=S({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vo=Be(jr),Io=S({},Si,{data:0}),ui=Be(Io),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function ta(){return Oo}var $e=S({},$i,{key:function(t){if(t.key){var n=No[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zo=Be($e),Uo=S({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=Be(Uo),u=S({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),m=Be(u),p=S({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),U=S({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(U),W=S({},Si,{newState:0,oldState:0}),At=Be(W),fe=[9,13,27,32],qt=Tn&&"CompositionEvent"in window,se=null;Tn&&"documentMode"in document&&(se=document.documentMode);var An=Tn&&"TextEvent"in window&&!se,ci=Tn&&(!qt||se&&8<se&&11>=se),kn=" ",qn=!1;function $a(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function k0(t,n){switch(t){case"compositionend":return Br(n);case"keypress":return n.which!==32?null:(qn=!0,kn);case"textInput":return t=n.data,t===kn&&qn?null:t;default:return null}}function q0(t,n){if(kr)return t==="compositionend"||!qt&&$a(t,n)?(t=Js(),Xa=Zs=si=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var P0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!P0[t.type]:n==="textarea"}function Zd(t,n,a,l){Zi?ri?ri.push(l):ri=[l]:Zi=l,n=Ru(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var el=null,nl=null;function H0(t){xp(t,0)}function Lo(t){var n=un(t);if(Ga(n))return t}function Jd(t,n){if(t==="change")return n}var $d=!1;if(Tn){var xc;if(Tn){var Mc="oninput"in document;if(!Mc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Mc=typeof Wd.oninput=="function"}xc=Mc}else xc=!1;$d=xc&&(!document.documentMode||9<document.documentMode)}function tm(){el&&(el.detachEvent("onpropertychange",em),nl=el=null)}function em(t){if(t.propertyName==="value"&&Lo(nl)){var n=[];Zd(n,nl,t,En(t)),Ji(H0,n)}}function G0(t,n,a){t==="focusin"?(tm(),el=n,nl=a,el.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function Q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(nl)}function F0(t,n){if(t==="click")return Lo(n)}function Y0(t,n){if(t==="input"||t==="change")return Lo(n)}function X0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:X0;function il(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!pe.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var a=nm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=nm(a)}}function am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var K0=Tn&&"documentMode"in document&&11>=document.documentMode,qr=null,zc=null,al=null,Uc=!1;function sm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uc||qr==null||qr!==ai(l)||(l=qr,"selectionStart"in l&&Oc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Ru(zc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qr)))}function Wa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Pr={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Lc={},lm={};Tn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function tr(t){if(Lc[t])return Lc[t];if(!Pr[t])return t;var n=Pr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in lm)return Lc[t]=n[a];return t}var om=tr("animationend"),um=tr("animationiteration"),cm=tr("animationstart"),Z0=tr("transitionrun"),J0=tr("transitionstart"),$0=tr("transitioncancel"),hm=tr("transitionend"),fm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function Pn(t,n){fm.set(t,n),ni(n,[t])}var jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Hr=0,Bc=0;function Bo(){for(var t=Hr,n=Bc=Hr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&dm(a,c,f)}}function ko(t,n,a,l){Sn[Hr++]=t,Sn[Hr++]=n,Sn[Hr++]=a,Sn[Hr++]=l,Bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kc(t,n,a,l){return ko(t,n,a,l),qo(t)}function er(t,n){return ko(t,null,null,n),qo(t)}function dm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-he(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function qo(t){if(50<Cl)throw Cl=0,Kh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gr={};function W0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new W0(t,n,a,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Po(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")qc(t)&&(g=1);else if(typeof t=="string")g=aE(t,a,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=fn(31,a,n,c),t.elementType=V,t.lanes=f,t;case tt:return nr(a.children,c,f,n);case $:g=8,c|=24;break;case ht:return t=fn(12,a,n,c|2),t.elementType=ht,t.lanes=f,t;case $t:return t=fn(13,a,n,c),t.elementType=$t,t.lanes=f,t;case xt:return t=fn(19,a,n,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case Et:g=9;break t;case kt:g=11;break t;case I:g=14;break t;case R:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function nr(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Pc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function gm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Hc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var pm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=pm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:zs(n)},pm.set(t,n),n)}return{value:t,source:n,stack:zs(n)}}var Qr=[],Fr=0,Ho=null,rl=0,Rn=[],Cn=0,ea=null,hi=1,fi="";function Ci(t,n){Qr[Fr++]=rl,Qr[Fr++]=Ho,Ho=t,rl=n}function ym(t,n,a){Rn[Cn++]=hi,Rn[Cn++]=fi,Rn[Cn++]=ea,ea=t;var l=hi;t=fi;var c=32-he(l)-1;l&=~(1<<c),a+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-he(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Gc(t){t.return!==null&&(Ci(t,1),ym(t,1,0))}function Qc(t){for(;t===Ho;)Ho=Qr[--Fr],Qr[Fr]=null,rl=Qr[--Fr],Qr[Fr]=null;for(;t===ea;)ea=Rn[--Cn],Rn[Cn]=null,fi=Rn[--Cn],Rn[Cn]=null,hi=Rn[--Cn],Rn[Cn]=null}function _m(t,n){Rn[Cn++]=hi,Rn[Cn++]=fi,Rn[Cn++]=ea,hi=n.id,fi=n.overflow,ea=t}var ke=null,ne=null,Mt=!1,na=null,wn=!1,Fc=Error(r(519));function ia(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(bn(n,t)),Fc}function vm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[Me]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<Dl.length;a++)wt(Dl[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Ao(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),Xi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Up(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ia(t,!0)}function Em(t){for(ke=t.return;ke;)switch(ke.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:ke=ke.return}}function Yr(t){if(t!==ke)return!1;if(!Mt)return Em(t),Mt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hf(t.type,t.memoizedProps)),a=!a),a&&ne&&ia(t),Em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ne=Qp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ne=Qp(t)}else n===27?(n=ne,ya(t.type)?(t=pf,pf=null,ne=t):ne=n):ne=ke?Vn(t.stateNode.nextSibling):null;return!0}function ir(){ne=ke=null,Mt=!1}function Yc(){var t=na;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),na=null),t}function sl(t){na===null?na=[t]:na.push(t)}var Xc=M(null),ar=null,wi=null;function aa(t,n,a){nt(Xc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Xc.current,Y(Xc)}function Kc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Zc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Kc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Kc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Xr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&Zc(n,t,a,l),n.flags|=262144}function Go(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ar=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Tm(ar,t)}function Qo(t,n){return ar===null&&rr(t),Tm(t,n)}function Tm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(r(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var t1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},e1=s.unstable_scheduleCallback,n1=s.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new t1,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&e1(n1,function(){t.controller.abort()})}var ol=null,$c=0,Kr=0,Zr=null;function i1(t,n){if(ol===null){var a=ol=[];$c=0,Kr=ef(),Zr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $c++,n.then(Am,Am),n}function Am(){if(--$c===0&&ol!==null){Zr!==null&&(Zr.status="fulfilled");var t=ol;ol=null,Kr=0,Zr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function a1(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Sm=H.S;H.S=function(t,n){sp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&i1(t,n),Sm!==null&&Sm(t,n)};var sr=M(null);function Wc(){var t=sr.current;return t!==null?t:Wt.pooledCache}function Fo(t,n){n===null?nt(sr,sr.current):nt(sr,n.pool)}function bm(){var t=Wc();return t===null?null:{parent:Te._currentValue,pool:t}}var Jr=Error(r(460)),th=Error(r(474)),Yo=Error(r(542)),Xo={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dm(t),t}throw or=n,Jr}}function lr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(or=a,Jr):a}}var or=null;function wm(){if(or===null)throw Error(r(459));var t=or;return or=null,t}function Dm(t){if(t===Jr||t===Yo)throw Error(r(483))}var $r=null,ul=0;function Ko(t){var n=ul;return ul+=1,$r===null&&($r=[]),Cm($r,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zo(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vm(t){function n(z,x){if(t){var L=z.deletions;L===null?(z.deletions=[x],z.flags|=16):L.push(x)}}function a(z,x){if(!t)return null;for(;x!==null;)n(z,x),x=x.sibling;return null}function l(z){for(var x=new Map;z!==null;)z.key!==null?x.set(z.key,z):x.set(z.index,z),z=z.sibling;return x}function c(z,x){return z=Ri(z,x),z.index=0,z.sibling=null,z}function f(z,x,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<x?(z.flags|=67108866,x):L):(z.flags|=67108866,x)):(z.flags|=1048576,x)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,x,L,F){return x===null||x.tag!==6?(x=Pc(L,z.mode,F),x.return=z,x):(x=c(x,L),x.return=z,x)}function D(z,x,L,F){var ut=L.type;return ut===tt?G(z,x,L.props.children,F,L.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===R&&lr(ut)===x.type)?(x=c(x,L.props),cl(x,L),x.return=z,x):(x=Po(L.type,L.key,L.props,null,z.mode,F),cl(x,L),x.return=z,x)}function j(z,x,L,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=Hc(L,z.mode,F),x.return=z,x):(x=c(x,L.children||[]),x.return=z,x)}function G(z,x,L,F,ut){return x===null||x.tag!==7?(x=nr(L,z.mode,F,ut),x.return=z,x):(x=c(x,L),x.return=z,x)}function X(z,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Pc(""+x,z.mode,L),x.return=z,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Q:return L=Po(x.type,x.key,x.props,null,z.mode,L),cl(L,x),L.return=z,L;case J:return x=Hc(x,z.mode,L),x.return=z,x;case R:return x=lr(x),X(z,x,L)}if(Yt(x)||N(x))return x=nr(x,z.mode,L,null),x.return=z,x;if(typeof x.then=="function")return X(z,Ko(x),L);if(x.$$typeof===dt)return X(z,Qo(z,x),L);Zo(z,x)}return null}function B(z,x,L,F){var ut=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(z,x,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ut?D(z,x,L,F):null;case J:return L.key===ut?j(z,x,L,F):null;case R:return L=lr(L),B(z,x,L,F)}if(Yt(L)||N(L))return ut!==null?null:G(z,x,L,F,null);if(typeof L.then=="function")return B(z,x,Ko(L),F);if(L.$$typeof===dt)return B(z,x,Qo(z,L),F);Zo(z,L)}return null}function P(z,x,L,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return z=z.get(L)||null,E(x,z,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return z=z.get(F.key===null?L:F.key)||null,D(x,z,F,ut);case J:return z=z.get(F.key===null?L:F.key)||null,j(x,z,F,ut);case R:return F=lr(F),P(z,x,L,F,ut)}if(Yt(F)||N(F))return z=z.get(L)||null,G(x,z,F,ut,null);if(typeof F.then=="function")return P(z,x,L,Ko(F),ut);if(F.$$typeof===dt)return P(z,x,L,Qo(x,F),ut);Zo(x,F)}return null}function st(z,x,L,F){for(var ut=null,jt=null,lt=x,bt=x=0,Vt=null;lt!==null&&bt<L.length;bt++){lt.index>bt?(Vt=lt,lt=null):Vt=lt.sibling;var Bt=B(z,lt,L[bt],F);if(Bt===null){lt===null&&(lt=Vt);break}t&&lt&&Bt.alternate===null&&n(z,lt),x=f(Bt,x,bt),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt,lt=Vt}if(bt===L.length)return a(z,lt),Mt&&Ci(z,bt),ut;if(lt===null){for(;bt<L.length;bt++)lt=X(z,L[bt],F),lt!==null&&(x=f(lt,x,bt),jt===null?ut=lt:jt.sibling=lt,jt=lt);return Mt&&Ci(z,bt),ut}for(lt=l(lt);bt<L.length;bt++)Vt=P(lt,z,bt,L[bt],F),Vt!==null&&(t&&Vt.alternate!==null&&lt.delete(Vt.key===null?bt:Vt.key),x=f(Vt,x,bt),jt===null?ut=Vt:jt.sibling=Vt,jt=Vt);return t&&lt.forEach(function(Aa){return n(z,Aa)}),Mt&&Ci(z,bt),ut}function ft(z,x,L,F){if(L==null)throw Error(r(151));for(var ut=null,jt=null,lt=x,bt=x=0,Vt=null,Bt=L.next();lt!==null&&!Bt.done;bt++,Bt=L.next()){lt.index>bt?(Vt=lt,lt=null):Vt=lt.sibling;var Aa=B(z,lt,Bt.value,F);if(Aa===null){lt===null&&(lt=Vt);break}t&&lt&&Aa.alternate===null&&n(z,lt),x=f(Aa,x,bt),jt===null?ut=Aa:jt.sibling=Aa,jt=Aa,lt=Vt}if(Bt.done)return a(z,lt),Mt&&Ci(z,bt),ut;if(lt===null){for(;!Bt.done;bt++,Bt=L.next())Bt=X(z,Bt.value,F),Bt!==null&&(x=f(Bt,x,bt),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt);return Mt&&Ci(z,bt),ut}for(lt=l(lt);!Bt.done;bt++,Bt=L.next())Bt=P(lt,z,bt,Bt.value,F),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?bt:Bt.key),x=f(Bt,x,bt),jt===null?ut=Bt:jt.sibling=Bt,jt=Bt);return t&&lt.forEach(function(gE){return n(z,gE)}),Mt&&Ci(z,bt),ut}function Jt(z,x,L,F){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var ut=L.key;x!==null;){if(x.key===ut){if(ut=L.type,ut===tt){if(x.tag===7){a(z,x.sibling),F=c(x,L.props.children),F.return=z,z=F;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===R&&lr(ut)===x.type){a(z,x.sibling),F=c(x,L.props),cl(F,L),F.return=z,z=F;break t}a(z,x);break}else n(z,x);x=x.sibling}L.type===tt?(F=nr(L.props.children,z.mode,F,L.key),F.return=z,z=F):(F=Po(L.type,L.key,L.props,null,z.mode,F),cl(F,L),F.return=z,z=F)}return g(z);case J:t:{for(ut=L.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(z,x.sibling),F=c(x,L.children||[]),F.return=z,z=F;break t}else{a(z,x);break}else n(z,x);x=x.sibling}F=Hc(L,z.mode,F),F.return=z,z=F}return g(z);case R:return L=lr(L),Jt(z,x,L,F)}if(Yt(L))return st(z,x,L,F);if(N(L)){if(ut=N(L),typeof ut!="function")throw Error(r(150));return L=ut.call(L),ft(z,x,L,F)}if(typeof L.then=="function")return Jt(z,x,Ko(L),F);if(L.$$typeof===dt)return Jt(z,x,Qo(z,L),F);Zo(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(z,x.sibling),F=c(x,L),F.return=z,z=F):(a(z,x),F=Pc(L,z.mode,F),F.return=z,z=F),g(z)):a(z,x)}return function(z,x,L,F){try{ul=0;var ut=Jt(z,x,L,F);return $r=null,ut}catch(lt){if(lt===Jr||lt===Yo)throw lt;var jt=fn(29,lt,null,z.mode);return jt.lanes=F,jt.return=z,jt}}}var ur=Vm(!0),Im=Vm(!1),ra=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function la(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),dm(t,null,a),n}return ko(t,l,n,a),qo(t)}function hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,js(t,a)}}function ih(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ah=!1;function fl(){if(ah){var t=Zr;if(t!==null)throw t}}function dl(t,n,a,l){ah=!1;var c=t.updateQueue;ra=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,j=D.next;D.next=null,g===null?f=j:g.next=j,g=D;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=D))}if(f!==null){var X=c.baseState;g=0,G=j=D=null,E=f;do{var B=E.lane&-536870913,P=B!==E.lane;if(P?(Dt&B)===B:(l&B)===B){B!==0&&B===Kr&&(ah=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,ft=E;B=n;var Jt=a;switch(ft.tag){case 1:if(st=ft.payload,typeof st=="function"){X=st.call(Jt,X,B);break t}X=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ft.payload,B=typeof st=="function"?st.call(Jt,X,B):st,B==null)break t;X=S({},X,B);break t;case 2:ra=!0}}B=E.callback,B!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[B]:P.push(B))}else P={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=P,D=X):G=G.next=P,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);G===null&&(D=X),c.baseState=D,c.firstBaseUpdate=j,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),fa|=g,t.lanes=g,t.memoizedState=X}}function Nm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function xm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Nm(a[t],n)}var Wr=M(null),Jo=M(0);function Mm(t,n){t=Li,nt(Jo,t),nt(Wr,n),Li=t|n.baseLanes}function rh(){nt(Jo,Li),nt(Wr,Wr.current)}function sh(){Li=Jo.current,Y(Wr),Y(Jo)}var dn=M(null),Dn=null;function oa(t){var n=t.alternate;nt(de,de.current&1),nt(dn,t),Dn===null&&(n===null||Wr.current!==null||n.memoizedState!==null)&&(Dn=t)}function lh(t){nt(de,de.current),nt(dn,t),Dn===null&&(Dn=t)}function Om(t){t.tag===22?(nt(de,de.current),nt(dn,t),Dn===null&&(Dn=t)):ua()}function ua(){nt(de,de.current),nt(dn,dn.current)}function mn(t){Y(dn),Dn===t&&(Dn=null),Y(de)}var de=M(0);function $o(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mf(a)||gf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,St=null,Kt=null,Ae=null,Wo=!1,ts=!1,cr=!1,tu=0,ml=0,es=null,r1=0;function ue(){throw Error(r(321))}function oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function uh(t,n,a,l,c,f){return Vi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?yg:bh,cr=!1,f=a(l,c),cr=!1,ts&&(f=Um(n,a,l,c)),zm(t),f}function zm(t){H.H=yl;var n=Kt!==null&&Kt.next!==null;if(Vi=0,Ae=Kt=St=null,Wo=!1,ml=0,es=null,n)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&Go(t)&&(Se=!0))}function Um(t,n,a,l){St=t;var c=0;do{if(ts&&(es=null),ml=0,ts=!1,25<=c)throw Error(r(301));if(c+=1,Ae=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=_g,f=n(a,l)}while(ts);return f}function s1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(St.flags|=1024),n}function ch(){var t=tu!==0;return tu=0,t}function hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function fh(t){if(Wo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wo=!1}Vi=0,Ae=Kt=St=null,ts=!1,ml=tu=0,es=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Kt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Kt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ae===null?St.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,es===null&&(es=[]),t=Cm(es,t,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?yg:bh),t}function nu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===dt)return qe(t)}throw Error(r(438,String(t)))}function dh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=eu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=w;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function iu(t){var n=me();return mh(n,Kt,t)}function mh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,D=null,j=n,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Dt&X)===X:(Vi&X)===X){var B=j.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Kr&&(G=!0);else if((Vi&B)===B){j=j.next,B===Kr&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(E=D=X,g=f):D=D.next=X,St.lanes|=B,fa|=B;X=j.action,cr&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(E=D=B,g=f):D=D.next=B,St.lanes|=X,fa|=X;j=j.next}while(j!==null&&j!==n);if(D===null?g=f:D.next=E,!hn(f,t.memoizedState)&&(Se=!0,G&&(a=Zr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Lm(t,n,a){var l=St,c=me(),f=Mt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Kt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,_h(km.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,ns(9,{destroy:void 0},Bm.bind(null,l,c,a,n),null),Wt===null)throw Error(r(349));f||(Vi&127)!==0||jm(l,n,a)}return a}function jm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=eu(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Bm(t,n,a,l){n.value=a,n.getSnapshot=l,qm(n)&&Pm(t)}function km(t,n,a){return a(function(){qm(n)&&Pm(t)})}function qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Pm(t){var n=er(t,2);n!==null&&ln(n,t,2)}function ph(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),cr){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function Hm(t,n,a,l){return t.baseState=a,mh(t,Kt,typeof l=="function"?l:Ii)}function l1(t,n,a,l,c){if(su(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Gm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Gm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),D=H.S;D!==null&&D(g,E),Qm(t,n,E)}catch(j){yh(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),Qm(t,n,f)}catch(j){yh(t,n,j)}}function Qm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fm(t,n,l)},function(l){return yh(t,n,l)}):Fm(t,n,a)}function Fm(t,n,a){n.status="fulfilled",n.value=a,Ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Gm(t,a)))}function yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Km(t,n){if(Mt){var a=Wt.formState;if(a!==null){t:{var l=St;if(Mt){if(ne){e:{for(var c=ne,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=Vn(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},a.queue=l,a=mg.bind(null,St,l),l.dispatch=a,l=ph(!1),f=Sh.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=l1.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Zm(t){var n=me();return Jm(n,Kt,t)}function Jm(t,n,a){if(n=mh(t,n,Xm)[0],t=iu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(g){throw g===Jr?Yo:g}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,ns(9,{destroy:void 0},o1.bind(null,c,a),null)),[l,f,t]}function o1(t,n){t.action=n}function $m(t){var n=me(),a=Kt;if(a!==null)return Jm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ns(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=eu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Wm(){return me().memoizedState}function au(t,n,a,l){var c=We();St.flags|=t,c.memoizedState=ns(1|n,{destroy:void 0},a,l===void 0?null:l)}function ru(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&oh(l,Kt.memoizedState.deps)?c.memoizedState=ns(n,f,a,l):(St.flags|=t,c.memoizedState=ns(1|n,f,a,l))}function tg(t,n){au(8390656,8,t,n)}function _h(t,n){ru(2048,8,t,n)}function u1(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=eu(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function eg(t){var n=me().memoizedState;return u1({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function ng(t,n){return ru(4,2,t,n)}function ig(t,n){return ru(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function rg(t,n,a){a=a!=null?a.concat([t]):null,ru(4,4,ag.bind(null,n,t),a)}function vh(){}function sg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function lg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),cr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function Eh(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=op(),St.lanes|=t,fa|=t,a)}function og(t,n,a,l){return hn(a,n)?a:Wr.current!==null?(t=Eh(t,a,l),hn(t,n)||(Se=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(Dt&261930)===0?(Se=!0,t.memoizedState=a):(t=op(),St.lanes|=t,fa|=t,n)}function ug(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Sh(t,!1,n,a);try{var D=c(),j=H.S;if(j!==null&&j(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=a1(D,l);pl(t,n,G,yn(t))}else pl(t,n,l,yn(t))}catch(X){pl(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function c1(){}function Th(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=cg(t).queue;ug(t,c,n,ot,a===null?c1:function(){return hg(t),a(l)})}function cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hg(t){var n=cg(t);n.next===null&&(n=t.alternate.memoizedState),pl(t,n.next.queue,{},yn())}function Ah(){return qe(Ml)}function fg(){return me().memoizedState}function dg(){return me().memoizedState}function h1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=sa(a);var l=la(n,t,a);l!==null&&(ln(l,n,a),hl(l,n,a)),n={cache:Jc()},t.payload=n;return}n=n.return}}function f1(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},su(t)?gg(n,a):(a=kc(t,n,a,l),a!==null&&(ln(a,t,l),pg(a,n,l)))}function mg(t,n,a){var l=yn();pl(t,n,a,l)}function pl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(su(t))gg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return ko(t,n,c,0),Wt===null&&Bo(),!1}catch{}if(a=kc(t,n,c,l),a!==null)return ln(a,t,l),pg(a,n,l),!0}return!1}function Sh(t,n,a,l){if(l={lane:2,revertLane:ef(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},su(t)){if(n)throw Error(r(479))}else n=kc(t,a,l,2),n!==null&&ln(n,t,2)}function su(t){var n=t.alternate;return t===St||n!==null&&n===St}function gg(t,n){ts=Wo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function pg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,js(t,a)}}var yl={readContext:qe,use:nu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};yl.useEffectEvent=ue;var yg={readContext:qe,use:nu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,au(4194308,4,ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return au(4194308,4,t,n)},useInsertionEffect:function(t,n){au(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(cr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(cr){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=f1.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=ph(t);var n=t.queue,a=mg.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:vh,useDeferredValue:function(t,n){var a=We();return Eh(a,t,n)},useTransition:function(){var t=ph(!1);return t=ug.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=We();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Dt&127)!==0||jm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,tg(km.bind(null,l,f,t),[t]),l.flags|=2048,ns(9,{destroy:void 0},Bm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Wt.identifierPrefix;if(Mt){var a=fi,l=hi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=r1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:Km,useActionState:Km,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Sh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:dh,useCacheRefresh:function(){return We().memoizedState=h1.bind(null,St)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((Pt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},bh={readContext:qe,use:nu,useCallback:sg,useContext:qe,useEffect:_h,useImperativeHandle:rg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:iu,useRef:Wm,useState:function(){return iu(Ii)},useDebugValue:vh,useDeferredValue:function(t,n){var a=me();return og(a,Kt.memoizedState,t,n)},useTransition:function(){var t=iu(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Ah,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var a=me();return Hm(a,Kt,t,n)},useMemoCache:dh,useCacheRefresh:dg};bh.useEffectEvent=eg;var _g={readContext:qe,use:nu,useCallback:sg,useContext:qe,useEffect:_h,useImperativeHandle:rg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:gh,useRef:Wm,useState:function(){return gh(Ii)},useDebugValue:vh,useDeferredValue:function(t,n){var a=me();return Kt===null?Eh(a,t,n):og(a,Kt.memoizedState,t,n)},useTransition:function(){var t=gh(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Ah,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=me();return Kt!==null?Hm(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:dh,useCacheRefresh:dg};_g.useEffectEvent=eg;function Rh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ch={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=sa(l);c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(ln(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=la(t,c,l),n!==null&&(ln(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=sa(a);l.tag=2,n!=null&&(l.callback=n),n=la(t,l,a),n!==null&&(ln(n,t,a),hl(n,t,a))}};function vg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,f):!0}function Eg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function hr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Tg(t){jo(t)}function Ag(t){console.error(t)}function Sg(t){jo(t)}function lu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){lu(t,n)},a}function Rg(t){return t=sa(t),t.tag=3,t}function Cg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){bg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){bg(n,a,l),typeof c!="function"&&(da===null?da=new Set([this]):da.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function d1(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Xr(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?vu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Xo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),$h(t,l,c)),!1;case 22:return a.flags|=65536,l===Xo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),$h(t,l,c)),!1}throw Error(r(435,a.tag))}return $h(t,l,c),vu(),!1}if(Mt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(r(422),{cause:l}),sl(bn(t,a)))):(l!==Fc&&(n=Error(r(423),{cause:l}),sl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=wh(t.stateNode,l,c),ih(t,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=bn(f,a),Rl===null?Rl=[f]:Rl.push(f),ce!==4&&(ce=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=wh(a.stateNode,l,t),ih(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(da===null||!da.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Rg(c),Cg(c,t,a,l),ih(a,c),!1}a=a.return}while(a!==null);return!1}var Dh=Error(r(461)),Se=!1;function Pe(t,n,a,l){n.child=t===null?Im(n,null,a,l):ur(n,t.child,a,l)}function wg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return rr(n),l=uh(t,n,a,g,f,c),E=ch(),t!==null&&!Se?(hh(t,n,c),Ni(t,n,c)):(Mt&&E&&Gc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Dg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Vg(t,n,f,l,c)):(t=Po(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(g,l)&&t.ref===n.ref)return Ni(t,n,c)}return n.flags|=1,t=Ri(f,l),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Uh(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Ni(t,n,c)}return Vh(t,n,a,l,c)}function Ig(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ng(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?Mm(n,f):rh(),Om(n);else return l=n.lanes=536870912,Ng(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Fo(n,f.cachePool),Mm(n,f),ua(),n.memoizedState=null):(t!==null&&Fo(n,null),rh(),ua());return Pe(t,n,c,a),n.child}function _l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ng(t,n,a,l,c){var f=Wc();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Fo(n,null),rh(),Om(n),t!==null&&Xr(t,n,l,!0),n.childLanes=c,null}function ou(t,n){return n=cu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function xg(t,n,a){return ur(n,t.child,null,a),t=ou(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function m1(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Mt){if(l.mode==="hidden")return t=ou(n,l),n.lanes=536870912,_l(null,t);if(lh(n),(t=ne)?(t=Gp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,ke=n,ne=null)):t=null,t===null)throw ia(n);return n.lanes=536870912,null}return ou(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(lh(n),c)if(n.flags&256)n.flags&=-257,n=xg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||Xr(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Wt,l!==null&&(g=Bs(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,er(t,g),ln(l,t,g),Dh;vu(),n=xg(t,n,a)}else t=f.treeContext,ne=Vn(g.nextSibling),ke=n,Mt=!0,na=null,wn=!1,t!==null&&_m(n,t),n=ou(n,l),n.flags|=4096;return n}return t=Ri(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vh(t,n,a,l,c){return rr(n),a=uh(t,n,a,l,void 0,c),l=ch(),t!==null&&!Se?(hh(t,n,c),Ni(t,n,c)):(Mt&&l&&Gc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Mg(t,n,a,l,c,f){return rr(n),n.updateQueue=null,a=Um(n,l,a,c),zm(t),l=ch(),t!==null&&!Se?(hh(t,n,f),Ni(t,n,f)):(Mt&&l&&Gc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Og(t,n,a,l,c){if(rr(n),n.stateNode===null){var f=Gr,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},eh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Gr,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Rh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Ch.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=hr(a,E);f.props=D;var j=f.context,G=a.contextType;g=Gr,typeof G=="object"&&G!==null&&(g=qe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Eg(n,f,l,g),ra=!1;var B=n.memoizedState;f.state=B,dl(n,l,f,c),fl(),j=n.memoizedState,E||B!==j||ra?(typeof X=="function"&&(Rh(n,a,X,l),j=n.memoizedState),(D=ra||vg(n,a,D,l,B,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nh(t,n),g=n.memoizedProps,G=hr(a,g),f.props=G,X=n.pendingProps,B=f.context,j=a.contextType,D=Gr,typeof j=="object"&&j!==null&&(D=qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==D)&&Eg(n,f,l,D),ra=!1,B=n.memoizedState,f.state=B,dl(n,l,f,c),fl();var P=n.memoizedState;g!==X||B!==P||ra||t!==null&&t.dependencies!==null&&Go(t.dependencies)?(typeof E=="function"&&(Rh(n,a,E,l),P=n.memoizedState),(G=ra||vg(n,a,G,l,B,P,D)||t!==null&&t.dependencies!==null&&Go(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=D,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ur(n,t.child,null,c),n.child=ur(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ni(t,n,c),t}function zg(t,n,a,l){return ir(),n.flags|=256,Pe(t,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(t){return{baseLanes:t,cachePool:bm()}}function xh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Ug(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Mt){if(c?oa(n):ua(),(t=ne)?(t=Gp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ea!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,ke=n,ne=null)):t=null,t===null)throw ia(n);return gf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ua(),c=n.mode,E=cu({mode:"hidden",children:E},c),l=nr(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Nh(a),l.childLanes=xh(t,g,a),n.memoizedState=Ih,_l(null,l)):(oa(n),Mh(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=Oh(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),E=l.fallback,c=n.mode,l=cu({mode:"visible",children:l.children},c),E=nr(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ur(n,t.child,null,a),l=n.child,l.memoizedState=Nh(a),l.childLanes=xh(t,g,a),n.memoizedState=Ih,n=_l(null,l));else if(oa(n),gf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(r(419)),l.stack="",l.digest=g,sl({value:l,source:null,stack:null}),n=Oh(t,n,a)}else if(Se||Xr(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(l=Bs(g,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,er(t,l),ln(g,t,l),Dh;mf(E)||vu(),n=Oh(t,n,a)}else mf(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ne=Vn(E.nextSibling),ke=n,Mt=!0,na=null,wn=!1,t!==null&&_m(n,t),n=Mh(n,l.children),n.flags|=4096);return n}return c?(ua(),E=l.fallback,c=n.mode,D=t.child,j=D.sibling,l=Ri(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?E=Ri(j,E):(E=nr(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,_l(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Nh(a):(c=E.cachePool,c!==null?(D=Te._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=bm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=xh(t,g,a),n.memoizedState=Ih,_l(t.child,l)):(oa(n),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Mh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Oh(t,n,a){return ur(n,t.child,null,a),t=Mh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,a)}function zh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function jg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(de,g),Pe(t,n,l,a),l=Mt?rl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,a,n);else if(t.tag===19)Lg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&$o(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),zh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&$o(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}zh(n,!0,a,null,f,l);break;case"together":zh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),fa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Xr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ri(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Uh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Go(t)))}function g1(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),aa(n,Te,t.memoizedState.cache),ir();break;case 27:case 5:La(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:aa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ug(t,n,a):(oa(n),t=Ni(t,n,a),t!==null?t.sibling:null);oa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Xr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return jg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(de,de.current),l)break;return null;case 22:return n.lanes=0,Ig(t,n,a,n.pendingProps);case 24:aa(n,Te,t.memoizedState.cache)}return Ni(t,n,a)}function Bg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Uh(t,a)&&(n.flags&128)===0)return Se=!1,g1(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Mt&&(n.flags&1048576)!==0&&ym(n,rl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=lr(n.elementType),n.type=t,typeof t=="function")qc(t)?(l=hr(t,l),n.tag=1,n=Og(null,n,t,l,a)):(n.tag=0,n=Vh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===kt){n.tag=11,n=wg(null,n,t,l,a);break t}else if(c===I){n.tag=14,n=Dg(null,n,t,l,a);break t}}throw n=pt(t)||t,Error(r(306,n,""))}}return n;case 0:return Vh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=hr(l,n.pendingProps),Og(t,n,l,c,a);case 3:t:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,nh(t,n),dl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,aa(n,Te,l),l!==f.cache&&Zc(n,[Te],a,!0),fl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zg(t,n,l,a);break t}else if(l!==c){c=bn(Error(r(424)),n),sl(c),n=zg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ne=Vn(t.firstChild),ke=n,Mt=!0,na=null,wn=!0,a=Im(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ir(),l===c){n=Ni(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return uu(t,n),t===null?(a=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,t=n.pendingProps,l=Cu(Tt.current).createElement(a),l[_e]=n,l[Me]=t,He(l,a,t),ve(l),n.stateNode=l):n.memoizedState=Zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return La(n),t===null&&Mt&&(l=n.stateNode=Yp(n.type,n.pendingProps,Tt.current),ke=n,wn=!0,c=ne,ya(n.type)?(pf=c,ne=Vn(l.firstChild)):ne=c),Pe(t,n,n.pendingProps.children,a),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Mt&&((c=l=ne)&&(l=Q1(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,ke=n,ne=Vn(l.firstChild),wn=!1,c=!0):c=!1),c||ia(n)),La(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,hf(c,f)?l=null:g!==null&&hf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=uh(t,n,s1,null,null,a),Ml._currentValue=c),uu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Mt&&((t=a=ne)&&(a=F1(a,n.pendingProps,wn),a!==null?(n.stateNode=a,ke=n,ne=null,t=!0):t=!1),t||ia(n)),null;case 13:return Ug(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ur(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,aa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rr(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Dg(t,n,n.type,n.pendingProps,a);case 15:return Vg(t,n,n.type,n.pendingProps,a);case 19:return jg(t,n,a);case 31:return m1(t,n,a);case 22:return Ig(t,n,a,n.pendingProps);case 24:return rr(n),l=qe(Te),t===null?(c=Wc(),c===null&&(c=Wt,f=Jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},eh(n),aa(n,Te,c)):((t.lanes&a)!==0&&(nh(t,n),dl(n,null,null,a),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),aa(n,Te,l)):(l=f.cache,aa(n,Te,l),l!==c.cache&&Zc(n,[Te],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xi(t){t.flags|=4}function Lh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(fp())t.flags|=8192;else throw or=Xo,th}else t.flags&=-16777217}function kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n))if(fp())t.flags|=8192;else throw or=Xo,th}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?yo():536870912,t.lanes|=n,ss|=n)}function vl(t,n){if(!Mt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function p1(t,n,a){var l=n.pendingProps;switch(Qc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Te),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yr(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yc())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(ie(n),kg(n,f)):(ie(n),Lh(n,c,null,l,a))):f?f!==t.memoizedState?(xi(n),ie(n),kg(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),ie(n),Lh(n,c,t,l,a)),null;case 27:if(Rr(n),a=Tt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}t=it.current,Yr(n)?vm(n):(t=Yp(c,l,a),n.stateNode=t,xi(n))}return ie(n),null;case 5:if(Rr(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=it.current,Yr(n))vm(n);else{var g=Cu(Tt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[_e]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return ie(n),Lh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Tt.current,Yr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=ke,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Up(t.nodeValue,a)),t||ia(n,!0)}else t=Cu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Yr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[_e]=n}else ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=Yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Yr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[_e]=n}else ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),hu(n,n.updateQueue),ie(n),null);case 4:return re(),t===null&&sf(n.stateNode.containerInfo),ie(n),null;case 10:return Di(n.type),ie(n),null;case 19:if(Y(de),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)vl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=$o(t),f!==null){for(n.flags|=128,vl(l,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)mm(a,t),a=a.sibling;return nt(de,de.current&1|2),Mt&&Ci(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>pu&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=$o(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Mt)return ie(n),null}else 2*Je()-l.renderingStartTime>pu&&a!==536870912&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=de.current,nt(de,c?a&1|2:a&1),Mt&&Ci(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return mn(n),sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&hu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(sr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function y1(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Te),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),sh(),t!==null&&Y(sr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Te),null;case 25:return null;default:return null}}function qg(t,n){switch(Qc(n),n.tag){case 3:Di(Te),re();break;case 26:case 27:case 5:Rr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(de);break;case 10:Di(n.type);break;case 22:case 23:mn(n),sh(),t!==null&&Y(sr);break;case 24:Di(Te)}}function El(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Ft(n,n.return,E)}}function ca(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=a,j=E;try{j()}catch(G){Ft(c,D,G)}}}l=l.next}while(l!==f)}}catch(G){Ft(n,n.return,G)}}function Pg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xm(n,a)}catch(l){Ft(t,t.return,l)}}}function Hg(t,n,a){a.props=hr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ft(t,n,l)}}function Tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Ft(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ft(t,n,c)}else a.current=null}function Gg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ft(t,t.return,c)}}function jh(t,n,a){try{var l=t.stateNode;B1(l,t.type,a,n),l[Me]=n}catch(c){Ft(t,t.return,c)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function Bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(kh(t,n,a),t=t.sibling;t!==null;)kh(t,n,a),t=t.sibling}function fu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ya(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fu(t,n,a),t=t.sibling;t!==null;)fu(t,n,a),t=t.sibling}function Fg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,a),n[_e]=t,n[Me]=a}catch(f){Ft(t,t.return,f)}}var Mi=!1,be=!1,qh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function _1(t,n){if(t=t.containerInfo,uf=Mu,t=rm(t),Oc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,D=-1,j=0,G=0,X=t,B=null;e:for(;;){for(var P;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(D=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(P=X.firstChild)!==null;)B=X,X=P;for(;;){if(X===t)break e;if(B===a&&++j===c&&(E=g),B===f&&++G===l&&(D=g),(P=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=P}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(cf={focusedElem:t,selectionRange:a},Mu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=hr(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Ft(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)df(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zi(t,a),l&4&&El(5,a);break;case 1:if(zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Ft(a,a.return,g)}else{var c=hr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(a,a.return,g)}}l&64&&Pg(a),l&512&&Tl(a,a.return);break;case 3:if(zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xm(t,n)}catch(g){Ft(a,a.return,g)}}break;case 27:n===null&&l&4&&Fg(a);case 26:case 5:zi(t,a),n===null&&l&4&&Gg(a),l&512&&Tl(a,a.return);break;case 12:zi(t,a);break;case 31:zi(t,a),l&4&&Jg(t,a);break;case 13:zi(t,a),l&4&&$g(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=w1.bind(null,a),Y1(t,a))));break;case 22:if(l=a.memoizedState!==null||Mi,!l){n=n!==null&&n.memoizedState!==null||be,c=Mi;var f=be;Mi=l,(be=n)&&!f?Ui(t,a,(a.subtreeFlags&8772)!==0):zi(t,a),Mi=c,be=f}break;case 30:break;default:zi(t,a)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:be||di(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||di(a,n);var l=le,c=nn;ya(a.type)&&(le=a.stateNode,nn=!1),Oi(t,n,a),Il(a.stateNode),le=l,nn=c;break;case 5:be||di(a,n);case 6:if(l=le,c=nn,le=null,Oi(t,n,a),le=l,nn=c,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Ft(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Ft(a,n,f)}break;case 18:le!==null&&(nn?(t=le,Pp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ms(t)):Pp(le,a.stateNode));break;case 4:l=le,c=nn,le=a.stateNode.containerInfo,nn=!0,Oi(t,n,a),le=l,nn=c;break;case 0:case 11:case 14:case 15:ca(2,a,n),be||ca(4,a,n),Oi(t,n,a);break;case 1:be||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hg(a,n,l)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,Oi(t,n,a),be=l;break;default:Oi(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ms(t)}catch(a){Ft(n,n.return,a)}}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ms(t)}catch(a){Ft(n,n.return,a)}}function v1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(r(435,t.tag))}}function du(t,n){var a=v1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=D1.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ya(E.type)){le=E.stateNode,nn=!1;break t}break;case 5:le=E.stateNode,nn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(le===null)throw Error(r(160));Zg(f,g,c),le=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Hn=null;function Wg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(ca(3,t,t.return),El(3,t),ca(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),l&64&&Mi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,a),f[_e]=t,ve(f),l=f;break t;case"link":var g=Wp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Wp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),He(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ty(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),a!==null&&l&4&&jh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(be||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(st){Ft(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,jh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(qh=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Ft(t,t.return,st)}}break;case 3:if(Vu=null,c=Hn,Hn=wu(n.containerInfo),an(n,t),Hn=c,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ms(n.containerInfo)}catch(st){Ft(t,t.return,st)}qh&&(qh=!1,tp(t));break;case 4:l=Hn,Hn=wu(t.stateNode.containerInfo),an(n,t),rn(t),Hn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gu=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Mi,G=be;if(Mi=j||c,be=G||D,an(n,t),be=G,Mi=j,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Mi||be||fr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var X=D.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(st){Ft(D,D.return,st)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(st){Ft(D,D.return,st)}}}else if(n.tag===18){if(a===null){D=n;try{var P=D.stateNode;c?Hp(P,!0):Hp(D.stateNode,!1)}catch(st){Ft(D,D.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,du(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,du(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Qg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Bh(t);fu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=Bh(t);fu(t,E,g);break;case 3:case 4:var D=a.stateNode.containerInfo,j=Bh(t);kh(t,j,D);break;default:throw Error(r(161))}}catch(G){Ft(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),fr(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Hg(n,n.return,a),fr(n);break;case 27:Il(n.stateNode);case 26:case 5:di(n,n.return),fr(n);break;case 22:n.memoizedState===null&&fr(n);break;case 30:fr(n);break;default:fr(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(c,f,a),El(4,f);break;case 1:if(Ui(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Ft(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Nm(D[c],E)}catch(j){Ft(l,l.return,j)}}a&&g&64&&Pg(f),Tl(f,f.return);break;case 27:Fg(f);case 26:case 5:Ui(c,f,a),a&&l===null&&g&4&&Gg(f),Tl(f,f.return);break;case 12:Ui(c,f,a);break;case 31:Ui(c,f,a),a&&g&4&&Jg(c,f);break;case 13:Ui(c,f,a),a&&g&4&&$g(c,f);break;case 22:f.memoizedState===null&&Ui(c,f,a),Tl(f,f.return);break;case 30:break;default:Ui(c,f,a)}n=n.sibling}}function Ph(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,a,l),n=n.sibling}function ep(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&El(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ft(n,n.return,D)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Al(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,is(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ph(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Hh(n.alternate,n);break;default:Gn(t,n,a,l)}}function is(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,D=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:is(f,g,E,D,c),El(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?is(f,g,E,D,c):Al(f,g):(G._visibility|=2,is(f,g,E,D,c)),c&&j&2048&&Ph(g.alternate,g);break;case 24:is(f,g,E,D,c),c&&j&2048&&Hh(g.alternate,g);break;default:is(f,g,E,D,c)}n=n.sibling}}function Al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Al(a,l),c&2048&&Ph(l.alternate,l);break;case 24:Al(a,l),c&2048&&Hh(l.alternate,l);break;default:Al(a,l)}n=n.sibling}}var Sl=8192;function as(t,n,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)np(t,n,a),t=t.sibling}function np(t,n,a){switch(t.tag){case 26:as(t,n,a),t.flags&Sl&&t.memoizedState!==null&&rE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:as(t,n,a);break;case 3:case 4:var l=Hn;Hn=wu(t.stateNode.containerInfo),as(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,as(t,n,a),Sl=l):as(t,n,a));break;default:as(t,n,a)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,rp(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&ca(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mu(t)):bl(t);break;default:bl(t)}}function mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,rp(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mu(n));break;default:mu(n)}t=t.sibling}}function rp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Kg(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var E1={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Wt=null,Ct=null,Dt=0,Qt=0,gn=null,ha=!1,rs=!1,Gh=!1,Li=0,ce=0,fa=0,dr=0,Qh=0,pn=0,ss=0,Rl=null,sn=null,Fh=!1,gu=0,sp=0,pu=1/0,yu=null,da=null,Ne=0,ma=null,ls=null,ji=0,Yh=0,Xh=null,lp=null,Cl=0,Kh=null;function yn(){return(Pt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?ef():_o()}function op(){if(pn===0)if((Dt&536870912)===0||Mt){var t=ka;ka<<=1,(ka&3932160)===0&&(ka=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===Wt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(os(t,0),ga(t,Dt,pn,!1)),qa(t,a),((Pt&2)===0||t!==Wt)&&(t===Wt&&((Pt&2)===0&&(dr|=a),ce===4&&ga(t,Dt,pn,!1)),mi(t))}function up(t,n,a){if((Pt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||On(t,n),c=l?b1(t,n):Jh(t,n,!0),f=l;do{if(c===0){rs&&!l&&ga(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!A1(a)){c=Jh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Rl;var D=E.current.memoizedState.isDehydrated;if(D&&(os(E,g).flags|=256),g=Jh(E,g,!1),g!==2){if(Gh&&!D){E.errorRecoveryDisabledLanes|=f,dr|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){os(t,0),ga(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ga(l,n,pn,!ha);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=gu+300-Je(),10<c)){if(ga(l,n,pn,!ha),Zn(l,0,!0)!==0)break t;ji=n,l.timeoutHandle=kp(cp.bind(null,l,a,sn,yu,Fh,n,pn,dr,ss,ha,f,"Throttled",-0,0),c);break t}cp(l,a,sn,yu,Fh,n,pn,dr,ss,ha,f,null,-0,0)}}break}while(!0);mi(t)}function cp(t,n,a,l,c,f,g,E,D,j,G,X,B,P){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},np(n,f,X);var st=(f&62914560)===f?gu-Je():(f&4194048)===f?sp-Je():0;if(st=sE(X,st),st!==null){ji=f,t.cancelPendingCommit=st(_p.bind(null,t,n,f,a,l,c,g,E,D,G,X,null,B,P)),ga(t,f,g,!j);return}}_p(t,n,f,a,l,c,g,E,D)}function A1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ga(t,n,a,l){n&=~Qh,n&=~dr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Pa(t,a,n)}function _u(){return(Pt&6)===0?(wl(0),!1):!0}function Zh(){if(Ct!==null){if(Qt===0)var t=Ct.return;else t=Ct,wi=ar=null,fh(t),$r=null,ul=0,t=Ct;for(;t!==null;)qg(t.alternate,t),t=t.return;Ct=null}}function os(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,P1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ji=0,Zh(),Wt=t,Ct=a=Ri(t.current,null),Dt=n,Qt=0,gn=null,ha=!1,rs=On(t,n),Gh=!1,ss=pn=Qh=dr=fa=ce=0,sn=Rl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-he(l),f=1<<c;n|=t[c],l&=~f}return Li=n,Bo(),a}function hp(t,n){St=null,H.H=yl,n===Jr||n===Yo?(n=wm(),Qt=3):n===th?(n=wm(),Qt=4):Qt=n===Dh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ct===null&&(ce=1,lu(t,bn(n,t.current)))}function fp(){var t=dn.current;return t===null?!0:(Dt&4194048)===Dt?Dn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Dn:!1}function dp(){var t=H.H;return H.H=yl,t===null?yl:t}function mp(){var t=H.A;return H.A=E1,t}function vu(){ce=4,ha||(Dt&4194048)!==Dt&&dn.current!==null||(rs=!0),(fa&134217727)===0&&(dr&134217727)===0||Wt===null||ga(Wt,Dt,pn,!1)}function Jh(t,n,a){var l=Pt;Pt|=2;var c=dp(),f=mp();(Wt!==t||Dt!==n)&&(yu=null,os(t,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,D=gn;switch(Qt){case 8:Zh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var j=Qt;if(Qt=0,gn=null,us(t,E,D,j),a&&rs){g=0;break t}break;default:j=Qt,Qt=0,gn=null,us(t,E,D,j)}}S1(),g=ce;break}catch(G){hp(t,G)}while(!0);return n&&t.shellSuspendCounter++,wi=ar=null,Pt=l,H.H=c,H.A=f,Ct===null&&(Wt=null,Dt=0,Bo()),g}function S1(){for(;Ct!==null;)gp(Ct)}function b1(t,n){var a=Pt;Pt|=2;var l=dp(),c=mp();Wt!==t||Dt!==n?(yu=null,pu=Je()+500,os(t,n)):rs=On(t,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=gn;e:switch(Qt){case 1:Qt=0,gn=null,us(t,n,f,1);break;case 2:case 9:if(Rm(f)){Qt=0,gn=null,pp(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==t||(Qt=7),mi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Rm(f)?(Qt=0,gn=null,pp(n)):(Qt=0,gn=null,us(t,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?ey(g):E.stateNode.complete){Qt=0,gn=null;var D=E.sibling;if(D!==null)Ct=D;else{var j=E.return;j!==null?(Ct=j,Eu(j)):Ct=null}break e}}Qt=0,gn=null,us(t,n,f,5);break;case 6:Qt=0,gn=null,us(t,n,f,6);break;case 8:Zh(),ce=6;break t;default:throw Error(r(462))}}R1();break}catch(G){hp(t,G)}while(!0);return wi=ar=null,H.H=l,H.A=c,Pt=a,Ct!==null?0:(Wt=null,Dt=0,Bo(),ce)}function R1(){for(;Ct!==null&&!wc();)gp(Ct)}function gp(t){var n=Bg(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?Eu(t):Ct=n}function pp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Mg(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Mg(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:fh(n);default:qg(a,n),n=Ct=mm(n,Li),n=Bg(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?Eu(t):Ct=n}function us(t,n,a,l){wi=ar=null,fh(n),$r=null,ul=0;var c=n.return;try{if(d1(t,c,n,a,Dt)){ce=1,lu(t,bn(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;ce=1,lu(t,bn(a,t.current)),Ct=null;return}n.flags&32768?(Mt||l===1?t=!0:rs||(Dt&536870912)!==0?t=!1:(ha=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){yp(n,ha);return}t=n.return;var a=p1(n.alternate,n,Li);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);ce===0&&(ce=5)}function yp(t,n){do{var a=y1(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);ce=6,Ct=null}function _p(t,n,a,l,c,f,g,E,D){t.cancelPendingCommit=null;do Tu();while(Ne!==0);if((Pt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Bc,Ic(t,a,f,g,E,D),t===Wt&&(Ct=Wt=null,Dt=0),ls=n,ma=t,ji=a,Yh=f,Xh=c,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,V1(Qi,function(){return Sp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=et.p,et.p=2,g=Pt,Pt|=4;try{_1(t,n,a)}finally{Pt=g,et.p=c,H.T=l}}Ne=1,vp(),Ep(),Tp()}}function vp(){if(Ne===1){Ne=0;var t=ma,n=ls,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Wg(n,t);var f=cf,g=rm(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&am(E.ownerDocument.documentElement,E)){if(D!==null&&Oc(E)){var j=D.start,G=D.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var P=B.getSelection(),st=E.textContent.length,ft=Math.min(D.start,st),Jt=D.end===void 0?ft:Math.min(D.end,st);!P.extend&&ft>Jt&&(g=Jt,Jt=ft,ft=g);var z=im(E,ft),x=im(E,Jt);if(z&&x&&(P.rangeCount!==1||P.anchorNode!==z.node||P.anchorOffset!==z.offset||P.focusNode!==x.node||P.focusOffset!==x.offset)){var L=X.createRange();L.setStart(z.node,z.offset),P.removeAllRanges(),ft>Jt?(P.addRange(L),P.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),P.addRange(L))}}}}for(X=[],P=E;P=P.parentNode;)P.nodeType===1&&X.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Mu=!!uf,cf=uf=null}finally{Pt=c,et.p=l,H.T=a}}t.current=n,Ne=2}}function Ep(){if(Ne===2){Ne=0;var t=ma,n=ls,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Xg(t,n.alternate,n)}finally{Pt=c,et.p=l,H.T=a}}Ne=3}}function Tp(){if(Ne===4||Ne===3){Ne=0,co();var t=ma,n=ls,a=ji,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,ls=ma=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(da=null),Ti(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(ji&3)!==0&&Tu(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Kh?Cl++:(Cl=0,Kh=t):Cl=0,wl(0)}}function Ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function Tu(){return vp(),Ep(),Tp(),Sp()}function Sp(){if(Ne!==5)return!1;var t=ma,n=Yh;Yh=0;var a=Ti(ji),l=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Xh,Xh=null;var f=ma,g=ji;if(Ne=0,ls=ma=null,ji=0,(Pt&6)!==0)throw Error(r(331));var E=Pt;if(Pt|=4,ap(f.current),ep(f,f.current,g,a),Pt=E,wl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{et.p=c,H.T=l,Ap(t,n)}}function bp(t,n,a){n=bn(a,n),n=wh(t.stateNode,n,2),t=la(t,n,2),t!==null&&(qa(t,2),mi(t))}function Ft(t,n,a){if(t.tag===3)bp(t,t,a);else for(;n!==null;){if(n.tag===3){bp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){t=bn(a,t),a=Rg(2),l=la(n,a,2),l!==null&&(Cg(a,l,n,t),qa(l,2),mi(l));break}}n=n.return}}function $h(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new T1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Gh=!0,c.add(a),t=C1.bind(null,t,n,a),n.then(t,t))}function C1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Dt&a)===a&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>Je()-gu?(Pt&2)===0&&os(t,0):Qh|=a,ss===Dt&&(ss=0)),mi(t)}function Rp(t,n){n===0&&(n=yo()),t=er(t,n),t!==null&&(qa(t,n),mi(t))}function w1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Rp(t,a)}function D1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Rp(t,a)}function V1(t,n){return Ie(t,n)}var Au=null,cs=null,Wh=!1,Su=!1,tf=!1,pa=0;function mi(t){t!==cs&&t.next===null&&(cs===null?Au=cs=t:cs=cs.next=t),Su=!0,Wh||(Wh=!0,N1())}function wl(t,n){if(!tf&&Su){tf=!0;do for(var a=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Vp(l,f))}else f=Dt,f=Zn(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||On(l,f)||(a=!0,Vp(l,f));l=l.next}while(a);tf=!1}}function I1(){Cp()}function Cp(){Su=Wh=!1;var t=0;pa!==0&&q1()&&(t=pa);for(var n=Je(),a=null,l=Au;l!==null;){var c=l.next,f=wp(l,n);f===0?(l.next=null,a===null?Au=c:a.next=c,c===null&&(cs=a)):(a=l,(t!==0||(f&3)!==0)&&(Su=!0)),l=c}Ne!==0&&Ne!==5||wl(t),pa!==0&&(pa=0)}function wp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,D=c[g];D===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Vc(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,a=Dt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||On(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Gi(l),Ti(a)){case 2:case 8:a=Ls;break;case 32:a=Qi;break;case 268435456:a=ho;break;default:a=Qi}return l=Dp.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Gi(l),t.callbackPriority=2,t.callbackNode=null,2}function Dp(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tu()&&t.callbackNode!==a)return null;var l=Dt;return l=Zn(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(up(t,l,n),wp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Dp.bind(null,t):null)}function Vp(t,n){if(Tu())return null;up(t,n,!0)}function N1(){H1(function(){(Pt&6)!==0?Ie(Us,I1):Cp()})}function ef(){if(pa===0){var t=Kr;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),pa=t}return pa}function Ip(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Or(""+t)}function Np(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function x1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Ip((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Ip(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var D=g?Np(c,g):new FormData(c);Th(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=g?Np(c,g):new FormData(c),Th(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var nf=0;nf<jc.length;nf++){var af=jc[nf],M1=af.toLowerCase(),O1=af[0].toUpperCase()+af.slice(1);Pn(M1,"on"+O1)}Pn(om,"onAnimationEnd"),Pn(um,"onAnimationIteration"),Pn(cm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Z0,"onTransitionRun"),Pn(J0,"onTransitionStart"),Pn($0,"onTransitionCancel"),Pn(hm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function xp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,j=E.currentTarget;if(E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){jo(G)}c.currentTarget=null,f=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,j=E.currentTarget,E=E.listener,D!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(G){jo(G)}c.currentTarget=null,f=D}}}}function wt(t,n){var a=n[Vr];a===void 0&&(a=n[Vr]=new Set);var l=t+"__bubble";a.has(l)||(Mp(n,t,2,!1),a.add(l))}function rf(t,n,a){var l=0;n&&(l|=4),Mp(a,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[bu]){t[bu]=!0,ks.forEach(function(a){a!=="selectionchange"&&(z1.has(a)||rf(a,!1,t),rf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,rf("selectionchange",!1,n))}}function Mp(t,n,a,l){switch(oy(n)){case 2:var c=uE;break;case 8:c=cE;break;default:c=Tf}a=c.bind(null,n,a,t),c=void 0,!Ya||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function lf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Ji(function(){var j=f,G=En(a),X=[];t:{var B=fm.get(t);if(B!==void 0){var P=li,st=t;switch(t){case"keypress":if(Ka(a)===0)break t;case"keydown":case"keyup":P=zo;break;case"focusin":st="focus",P=Ja;break;case"focusout":st="blur",P=Ja;break;case"beforeblur":case"afterblur":P=Ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case om:case um:case cm:P=Do;break;case hm:P=T;break;case"scroll":case"scrollend":P=$s;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=bi;break;case"toggle":case"beforetoggle":P=At}var ft=(n&4)!==0,Jt=!ft&&(t==="scroll"||t==="scrollend"),z=ft?B!==null?B+"Capture":null:B;ft=[];for(var x=j,L;x!==null;){var F=x;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||z===null||(F=jn(x,z),F!=null&&ft.push(Vl(x,F,L))),Jt)break;x=x.return}0<ft.length&&(B=new P(B,st,null,a,G),X.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",B&&a!==Ks&&(st=a.relatedTarget||a.fromElement)&&(ti(st)||st[$n]))break t;if((P||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,P?(st=a.relatedTarget||a.toElement,P=j,st=st?ti(st):null,st!==null&&(Jt=h(st),ft=st.tag,st!==Jt||ft!==5&&ft!==27&&ft!==6)&&(st=null)):(P=null,st=j),P!==st)){if(ft=Ws,F="onMouseLeave",z="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ft=bi,F="onPointerLeave",z="onPointerEnter",x="pointer"),Jt=P==null?B:un(P),L=st==null?B:un(st),B=new ft(F,x+"leave",P,a,G),B.target=Jt,B.relatedTarget=L,F=null,ti(G)===j&&(ft=new ft(z,x+"enter",st,a,G),ft.target=L,ft.relatedTarget=Jt,F=ft),Jt=F,P&&st)e:{for(ft=U1,z=P,x=st,L=0,F=z;F;F=ft(F))L++;F=0;for(var ut=x;ut;ut=ft(ut))F++;for(;0<L-F;)z=ft(z),L--;for(;0<F-L;)x=ft(x),F--;for(;L--;){if(z===x||x!==null&&z===x.alternate){ft=z;break e}z=ft(z),x=ft(x)}ft=null}else ft=null;P!==null&&Op(X,B,P,ft,!1),st!==null&&Jt!==null&&Op(X,Jt,st,ft,!0)}}t:{if(B=j?un(j):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var jt=Jd;else if(Kd(B))if($d)jt=Y0;else{jt=Q0;var lt=G0}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Mr(j.elementType)&&(jt=Jd):jt=F0;if(jt&&(jt=jt(t,j))){Zd(X,jt,a,G);break t}lt&&lt(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Fs(B,"number",B.value)}switch(lt=j?un(j):window,t){case"focusin":(Kd(lt)||lt.contentEditable==="true")&&(qr=lt,zc=j,al=null);break;case"focusout":al=zc=qr=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,sm(X,a,G);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":sm(X,a,G)}var bt;if(qt)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else kr?$a(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(ci&&a.locale!=="ko"&&(kr||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&kr&&(bt=Js()):(si=G,Zs="value"in si?si.value:si.textContent,kr=!0)),lt=Ru(j,Vt),0<lt.length&&(Vt=new ui(Vt,t,null,a,G),X.push({event:Vt,listeners:lt}),bt?Vt.data=bt:(bt=Br(a),bt!==null&&(Vt.data=bt)))),(bt=An?k0(t,a):q0(t,a))&&(Vt=Ru(j,"onBeforeInput"),0<Vt.length&&(lt=new ui("onBeforeInput","beforeinput",null,a,G),X.push({event:lt,listeners:Vt}),lt.data=bt)),x1(X,t,j,a,G)}xp(X,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ru(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jn(t,a),c!=null&&l.unshift(Vl(t,c,f)),c=jn(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function U1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Op(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,D=E.alternate,j=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||j===null||(D=j,c?(j=jn(a,f),j!=null&&g.unshift(Vl(a,j,D))):c||(j=jn(a,f),j!=null&&g.push(Vl(a,j,D)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var L1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(L1,`
`).replace(j1,"")}function Up(t,n){return n=zp(n),zp(t)===n}function Zt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Xs(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Or(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),Nr(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ro.get(a)||a,Nr(t,a,l))}}function of(t,n,a,l,c,f){switch(a){case"style":Xs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Nr(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,f,g,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=f=g=c=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":D=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Zt(t,n,l,G,a,null)}}Ao(t,f,E,D,j,g,c,!1);return;case"select":wt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Yi(t,!!l,n,!1):a!=null&&Yi(t,!!l,a,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(t,n,g,E,a,null)}Xi(t,l,c,f);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(t,n,D,l,a,null));return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)wt(Dl[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,j,l,a,null)}return;default:if(Mr(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&of(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function B1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,D=null,j=null,G=null;for(P in a){var X=a[P];if(a.hasOwnProperty(P)&&X!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(P)||Zt(t,n,P,null,l,X)}}for(var B in l){var P=l[B];if(X=a[B],l.hasOwnProperty(B)&&(P!=null||X!=null))switch(B){case"type":f=P;break;case"name":c=P;break;case"checked":j=P;break;case"defaultChecked":G=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:P!==X&&Zt(t,n,B,P,l,X)}}xr(t,g,E,D,j,G,f,c);return;case"select":P=g=E=B=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":P=D;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==D&&Zt(t,n,c,f,l,D)}n=E,a=g,l=P,B!=null?Yi(t,!!a,B,!1):!!l!=!!a&&(n!=null?Yi(t,!!a,n,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":P=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Zt(t,n,g,c,l,f)}So(t,B,P);return;case"option":for(var st in a)B=a[st],a.hasOwnProperty(st)&&B!=null&&!l.hasOwnProperty(st)&&(st==="selected"?t.selected=!1:Zt(t,n,st,null,l,B));for(D in l)B=l[D],P=a[D],l.hasOwnProperty(D)&&B!==P&&(B!=null||P!=null)&&(D==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":Zt(t,n,D,B,l,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Zt(t,n,ft,null,l,B);for(j in l)if(B=l[j],P=a[j],l.hasOwnProperty(j)&&B!==P&&(B!=null||P!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Zt(t,n,j,B,l,P)}return;default:if(Mr(n)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&of(t,n,Jt,void 0,l,B);for(G in l)B=l[G],P=a[G],!l.hasOwnProperty(G)||B===P||B===void 0&&P===void 0||of(t,n,G,B,l,P);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Zt(t,n,z,null,l,B);for(X in l)B=l[X],P=a[X],!l.hasOwnProperty(X)||B===P||B==null&&P==null||Zt(t,n,X,B,l,P)}function Lp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Lp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],j=D.startTime;if(j>E)break;var G=D.transferSize,X=D.initiatorType;G&&Lp(X)&&(D=D.responseEnd,g+=G*(D<E?1:(E-j)/(D-j)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uf=null,cf=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ff=null;function q1(){var t=window.event;return t&&t.type==="popstate"?t===ff?!1:(ff=t,!0):(ff=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(G1)}:kp;function G1(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function Pp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),ms(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Il(t.ownerDocument.body);a=c}while(a);ms(n)}function Hp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function df(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":df(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Q1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function F1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Gp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function mf(t){return t.data==="$?"||t.data==="$~"}function gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Y1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var pf=null;function Qp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Yp(t,n,a){switch(n=Cu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ir(t)}var In=new Map,Xp=new Set;function wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=et.d;et.d={f:X1,r:K1,D:Z1,C:J1,L:$1,m:W1,X:eE,S:tE,M:nE};function X1(){var t=Bi.f(),n=_u();return t||n}function K1(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?hg(n):Bi.r(t)}var hs=typeof document>"u"?null:document;function Kp(t,n,a){var l=hs;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Xp.has(c)||(Xp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function Z1(t){Bi.D(t),Kp("dns-prefetch",t,null)}function J1(t,n){Bi.C(t,n),Kp("preconnect",t,n)}function $1(t,n,a){Bi.L(t,n,a);var l=hs;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=fs(t);break;case"script":f=ds(t)}In.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(xl(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function W1(t,n){Bi.m(t,n);var a=hs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ds(t)}if(!In.has(f)&&(t=S({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(f)))return}l=a.createElement("link"),He(l,"link",t),ve(l),a.head.appendChild(l)}}}function tE(t,n,a){Bi.S(t,n,a);var l=hs;if(l&&t){var c=ei(l).hoistableStyles,f=fs(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Nl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&yf(t,a);var D=g=l.createElement("link");ve(D),He(D,"link",t),D._p=new Promise(function(j,G){D.onload=j,D.onerror=G}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Du(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function eE(t,n){Bi.X(t,n);var a=hs;if(a&&t){var l=ei(a).hoistableScripts,c=ds(t),f=l.get(c);f||(f=a.querySelector(xl(c)),f||(t=S({src:t,async:!0},n),(n=In.get(c))&&_f(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function nE(t,n){Bi.M(t,n);var a=hs;if(a&&t){var l=ei(a).hoistableScripts,c=ds(t),f=l.get(c);f||(f=a.querySelector(xl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=In.get(c))&&_f(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zp(t,n,a,l){var c=(c=Tt.current)?wu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fs(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fs(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Nl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||iE(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function fs(t){return'href="'+tn(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function iE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),ve(n),t.head.appendChild(n))}function ds(t){return'[src="'+tn(t)+'"]'}function xl(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",c),Du(l,a.precedence,t),n.instance=l;case"stylesheet":c=fs(a.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=Jp(a),(c=In.get(c))&&yf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),He(f,"link",l),n.state.loading|=4,Du(f,a.precedence,t),n.instance=f;case"script":return f=ds(a.src),(c=t.querySelector(xl(f)))?(n.instance=c,ve(c),c):(l=a,(c=In.get(f))&&(l=S({},a),_f(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Du(l,a.precedence,t));return n.instance}function Du(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function Wp(t,n,a){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(a,l)}else c=Vu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function aE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fs(l.href),f=n.querySelector(Nl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Iu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,l=Jp(l),(c=In.get(c))&&yf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Iu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var vf=0;function sE(t,n){return t.stylesheets&&t.count===0&&xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&vf===0&&(vf=62500*k1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>vf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function xu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(lE,t),Nu=null,Iu.call(t))}function lE(t,n){if(!(n.state.loading&4)){var a=Nu.get(t);if(a)var l=a.get(null);else{a=new Map,Nu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Iu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function oE(t,n,a,l,c,f,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ny(t,n,a,l,c,f,g,E,D,j,G,X){return t=new oE(t,n,a,g,D,j,G,X,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=Jc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},eh(f),t}function iy(t){return t?(t=Gr,t):Gr}function ay(t,n,a,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=la(t,l,n),a!==null&&(ln(a,t,n),hl(a,t,n))}function ry(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ef(t,n){ry(t,n),(t=t.alternate)&&ry(t,n)}function sy(t){if(t.tag===13||t.tag===31){var n=er(t,67108864);n!==null&&ln(n,t,67108864),Ef(t,67108864)}}function ly(t){if(t.tag===13||t.tag===31){var n=yn();n=Ha(n);var a=er(t,n);a!==null&&ln(a,t,n),Ef(t,n)}}var Mu=!0;function uE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=2,Tf(t,n,a,l)}finally{et.p=f,H.T=c}}function cE(t,n,a,l){var c=H.T;H.T=null;var f=et.p;try{et.p=8,Tf(t,n,a,l)}finally{et.p=f,H.T=c}}function Tf(t,n,a,l){if(Mu){var c=Af(l);if(c===null)lf(t,n,l,Ou,a),uy(t,l);else if(fE(c,t,n,a,l))l.stopPropagation();else if(uy(t,l),n&4&&-1<hE.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-he(g);E.entanglements[1]|=D,g&=~D}mi(f),(Pt&6)===0&&(pu=Je()+500,wl(0))}}break;case 31:case 13:E=er(f,2),E!==null&&ln(E,f,2),_u(),Ef(f,2)}if(f=Af(l),f===null&&lf(t,n,l,Ou,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else lf(t,n,l,null,a)}}function Af(t){return t=En(t),Sf(t)}var Ou=null;function Sf(t){if(Ou=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ba()){case Us:return 2;case Ls:return 8;case Qi:case Dc:return 32;case ho:return 268435456;default:return 32}default:return 32}}var bf=!1,_a=null,va=null,Ea=null,Ol=new Map,zl=new Map,Ta=[],hE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(t,n){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&sy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function fE(t,n,a,l,c){switch(n){case"focusin":return _a=Ul(_a,t,n,a,l,c),!0;case"dragenter":return va=Ul(va,t,n,a,l,c),!0;case"mouseover":return Ea=Ul(Ea,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,Ul(Ol.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Ul(zl.get(f)||null,t,n,a,l,c)),!0}return!1}function cy(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){ly(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Af(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ks=l,a.target.dispatchEvent(l),Ks=null}else return n=vn(a),n!==null&&sy(n),t.blockedOn=a,!1;n.shift()}return!0}function hy(t,n,a){zu(t)&&a.delete(n)}function dE(){bf=!1,_a!==null&&zu(_a)&&(_a=null),va!==null&&zu(va)&&(va=null),Ea!==null&&zu(Ea)&&(Ea=null),Ol.forEach(hy),zl.forEach(hy)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,bf||(bf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,dE)))}var Lu=null;function fy(t){Lu!==t&&(Lu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Sf(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,Th(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ms(t){function n(D){return Uu(D,t)}_a!==null&&Uu(_a,t),va!==null&&Uu(va,t),Ea!==null&&Uu(Ea,t),Ol.forEach(n),zl.forEach(n);for(var a=0;a<Ta.length;a++){var l=Ta[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)cy(a),a.blockedOn===null&&Ta.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Me]||null;if(typeof f=="function")g||fy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Sf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),fy(a)}}}function dy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Rf(t){this._internalRoot=t}ju.prototype.render=Rf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();ay(a,l,t,n,null,null)},ju.prototype.unmount=Rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ay(t.current,2,null,t,null,null),_u(),n[$n]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=_o();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ta.length&&n!==0&&n<Ta[a].priority;a++);Ta.splice(a,0,t),a===0&&cy(t)}};var my=e.version;if(my!=="19.2.3")throw Error(r(527,my,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var mE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Mn=Bu.inject(mE),je=Bu}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Tg,f=Ag,g=Sg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ny(t,1,!1,null,null,a,l,null,c,f,g,dy),t[$n]=n.current,sf(t),new Rf(n)},jl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Tg,g=Ag,E=Sg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=ny(t,1,!0,n,a??null,l,c,D,f,g,E,dy),n.context=iy(null),a=n.current,l=yn(),l=Ha(l),c=sa(l),c.callback=null,la(a,c,l),a=l,n.current.lanes=a,qa(n,a),mi(n),t[$n]=n.current,sf(t),new ju(n)},jl.version="19.2.3",jl}var by;function RE(){if(by)return Df.exports;by=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Df.exports=bE(),Df.exports}var CE=RE();const wE=q_(CE);async function P_(s){const e=new Blob([s],{type:"text/javascript"}),i=URL.createObjectURL(e);try{const o=(await import(i)).default,h=typeof o?.init=="function",d=typeof o?.render=="function";if(!h&&!d)throw new Error("El archivo no es vlido. Debe exportar 'init' (nuevo) o 'render' (formato compaeros).");return d&&!o.meta&&(o.meta={id:"legacy_"+Date.now(),name:"Simulador Importado",version:"0.0.0",inputs:[]}),o}catch(r){throw console.error("Error cargando simulador:",r),r}finally{URL.revokeObjectURL(i)}}const fd=({code:s,params:e})=>{const i=te.useRef(null),[r,o]=te.useState(null),[h,d]=te.useState(null),[y,v]=te.useState(!1);if(te.useEffect(()=>{let A=!0;return(async()=>{try{o(null);const O=await P_(s);A&&d(O)}catch(O){A&&o(O.message)}})(),()=>{A=!1}},[s]),te.useEffect(()=>{if(!h||!i.current||!y)return;const A=i.current;A.innerHTML="";try{if(h.init)h.init(A,e),h.update&&h.update(A,e);else if(h.render){const S=h.meta?.name||"Simulador",O=h.render(e,S),Q=/<script>([\s\S]*?)<\/script>/,J=O.match(Q),tt=O.replace(Q,""),$=J?J[1]:null;if(A.innerHTML=tt,$){const ht=document.createElement("script");ht.textContent=$,document.body.appendChild(ht),setTimeout(()=>ht.remove(),10)}}}catch(S){console.error("Error ejecucin:",S),A.innerHTML=`<div class="feedback-incorrect">Error: ${S.message}</div>`}return()=>{h.destroy&&h.destroy(A),A.innerHTML=""}},[h,e,y]),r)return k.jsxs("div",{className:"feedback-incorrect",children:["Error: ",r]});if(!h)return k.jsx("div",{className:"loading",children:"Cargando..."});const _=h.meta?.name||"Simulador";return k.jsxs("div",{className:"my-4",children:[k.jsx("button",{className:`btn-sim ${y?"btn-sim-rojo":""}`,onClick:()=>v(!y),children:y?`Ocultar ${_}`:`Abrir ${_}`}),y&&k.jsxs("div",{className:"simulador-box fade-in",children:[k.jsx("div",{ref:i,style:{minHeight:"50px"}}),k.jsxs("div",{className:"text-muted text-sm mt-2",style:{fontSize:"0.8em",fontStyle:"italic"},children:["Formato: ",h.init?"Nativo V2":"Legacy V1"]})]})]})};const DE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VE=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Ry=s=>{const e=VE(s);return e.charAt(0).toUpperCase()+e.slice(1)},H_=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),IE=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var NE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xE=te.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...y},v)=>te.createElement("svg",{ref:v,...NE,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:H_("lucide",o),...!h&&!IE(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>te.createElement(_,A)),...Array.isArray(h)?h:[h]]));const Le=(s,e)=>{const i=te.forwardRef(({className:r,...o},h)=>te.createElement(xE,{ref:h,iconNode:e,className:H_(`lucide-${DE(Ry(s))}`,`lucide-${s}`,r),...o}));return i.displayName=Ry(s),i};const ME=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],G_=Le("arrow-down",ME);const OE=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Q_=Le("arrow-up",OE);const zE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UE=Le("circle-check-big",zE);const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jE=Le("circle-question-mark",LE);const BE=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],kE=Le("cloud-upload",BE);const qE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PE=Le("download",qE);const HE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GE=Le("eye",HE);const QE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FE=Le("file-text",QE);const YE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],XE=Le("folder-open",YE);const KE=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ZE=Le("gamepad-2",KE);const JE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Cy=Le("moon",JE);const $E=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WE=Le("save",$E);const tT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wy=Le("sun",tT);const eT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],F_=Le("trash-2",eT);const nT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iT=Le("triangle-alert",nT);const aT=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],rT=Le("undo",aT);const sT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lT=Le("upload",sT);const oT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uT=Le("x",oT),cT=({block:s,availableSimulators:e,onUpdate:i,onDelete:r,onMoveUp:o,onMoveDown:h,isFirst:d,isLast:y})=>{const v=S=>{i({...s,content:S.target.value})},_=S=>{const O=S.target.value;i({...s,simulatorId:O,simConfig:{}})},A=e.find(S=>S.id===s.simulatorId);return k.jsxs("div",{className:"paper-container fade-in",style:{position:"relative",padding:"1rem",border:"1px solid var(--border-color)",marginBottom:"1rem"},children:[k.jsxs("div",{className:"toolbar-line",style:{justifyContent:"space-between",marginBottom:"0.5rem"},children:[k.jsx("span",{className:"badge",children:s.type==="simulator"?" Simulador":" Texto / LaTeX"}),k.jsxs("div",{style:{display:"flex",gap:"4px"},children:[k.jsx("button",{onClick:o,disabled:d,title:"Subir",children:k.jsx(Q_,{size:16})}),k.jsx("button",{onClick:h,disabled:y,title:"Bajar",children:k.jsx(G_,{size:16})}),k.jsx("button",{onClick:r,className:"delete-btn",style:{color:"var(--brand-error)",borderColor:"var(--brand-error)"},title:"Eliminar",children:k.jsx(F_,{size:16})})]})]}),s.type==="text"&&k.jsx("textarea",{value:s.content,onChange:v,placeholder:"Escribe aqu tu contenido... (Soporta LaTeX entre \\( \\))",rows:4,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid var(--border-color)"}}),s.type==="simulator"&&k.jsxs("div",{children:[k.jsxs("div",{className:"row",style:{marginBottom:"1rem"},children:[k.jsx("label",{style:{fontWeight:"bold",fontSize:"0.9rem",display:"block",marginBottom:"5px"},children:"Elige un Simulador:"}),k.jsxs("select",{value:s.simulatorId||"",onChange:_,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid var(--border-color)"},children:[k.jsx("option",{value:"",children:"-- Selecciona un simulador --"}),e.map(S=>k.jsxs("option",{value:S.id,children:[S.name," (v",S.version,")"]},S.id))]})]}),A?k.jsxs("div",{style:{border:"2px dashed var(--brand-secondary)",padding:"10px",borderRadius:"8px",background:"#f8fafc"},children:[k.jsx("p",{style:{fontSize:"0.8em",color:"var(--text-muted)",textAlign:"center",margin:"0 0 10px 0"},children:" Vista Previa en Vivo "}),k.jsx(fd,{code:A.code,params:s.simConfig||{}})]}):s.simulatorId&&k.jsx("p",{className:"text-muted",children:" Simulador no encontrado (fue borrado?)"})]})]})},hT=({page:s,availableSimulators:e,onUpdatePage:i})=>{const r=(_,A)=>{const S=s.blocks.map(O=>O.id===_?A:O);i({...s,blocks:S})},o=_=>{if(!confirm("Eliminar este bloque?"))return;const A=s.blocks.filter(S=>S.id!==_);i({...s,blocks:A})},h=(_,A)=>{const S=[...s.blocks],O=_+A;[S[_],S[O]]=[S[O],S[_]],i({...s,blocks:S})},d=_=>{const A={id:crypto.randomUUID(),type:_,content:"",simulatorId:"",simConfig:{}};i({...s,blocks:[...s.blocks,A]})},y=_=>{i({...s,title:_.target.value})},v=_=>{i({...s,type:_.target.value})};return k.jsxs("div",{className:"page-editor",children:[k.jsxs("div",{style:{marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[k.jsxs("div",{style:{marginBottom:"0.5rem"},children:[k.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginRight:"10px"},children:"Tipo de Pgina"}),k.jsxs("select",{value:s.type||"seccion",onChange:v,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid var(--border-color)",fontWeight:"bold",color:"var(--brand-primary)"},children:[k.jsx("option",{value:"portada",children:"Portada"}),k.jsx("option",{value:"capitulo",children:"Captulo"}),k.jsx("option",{value:"seccion",children:"Seccin"}),k.jsx("option",{value:"subseccion",children:"Subseccin"})]})]}),k.jsx("input",{type:"text",value:s.title,onChange:y,placeholder:"Ttulo de la Pgina",style:{fontSize:"1.8rem",fontWeight:"bold",width:"100%",padding:"0.5rem 0",border:"none",borderBottom:"2px solid var(--brand-primary)",background:"transparent",color:"var(--text-primary)",outline:"none"}})]}),k.jsxs("div",{className:"blocks-list",children:[s.blocks.length===0&&k.jsx("div",{className:"empty-state",children:"Esta pgina est vaca. Aade contenido abajo."}),s.blocks.map((_,A)=>k.jsx(cT,{block:_,availableSimulators:e,onUpdate:S=>r(_.id,S),onDelete:()=>o(_.id),onMoveUp:()=>h(A,-1),onMoveDown:()=>h(A,1),isFirst:A===0,isLast:A===s.blocks.length-1},_.id))]}),k.jsxs("div",{className:"actions-area",style:{marginTop:"2rem",paddingTop:"1rem",borderTop:"1px dashed var(--border-color)",display:"flex",gap:"1rem",justifyContent:"center"},children:[k.jsxs("button",{onClick:()=>d("text"),style:{display:"flex",alignItems:"center",gap:"8px"},children:[k.jsx(FE,{size:18})," Aadir Texto"]}),k.jsxs("button",{onClick:()=>d("simulator"),style:{display:"flex",alignItems:"center",gap:"8px",borderColor:"var(--brand-accent)"},children:[k.jsx(ZE,{size:18})," Aadir Simulador"]})]})]})},fT=()=>{};var Dy={};const Y_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},dT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,S=(h&3)<<4|y>>4;let O=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(O=64)),r.push(i[A],i[S],i[O],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Y_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):dT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||S==null)throw new mT;const O=h<<2|y>>4;if(r.push(O),_!==64){const Q=y<<4&240|_>>2;if(r.push(Q),S!==64){const J=_<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(s){const e=Y_(s);return X_.encodeByteArray(e,!0)},Ju=function(s){return gT(s).replace(/\./g,"")},pT=function(s){try{return X_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _T=()=>yT().__FIREBASE_DEFAULTS__,vT=()=>{if(typeof process>"u"||typeof Dy>"u")return;const s=Dy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ET=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&pT(s[1]);return e&&JSON.parse(e)},dd=()=>{try{return fT()||_T()||vT()||ET()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},TT=s=>dd()?.emulatorHosts?.[s],AT=s=>{const e=TT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},K_=()=>dd()?.config;class ST{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function md(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bT(s){return(await fetch(s,{credentials:"include"})).ok}function RT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}const Hl={};function CT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function wT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Vy=!1;function DT(s,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Hl[s]===e||Hl[s]||Vy)return;Hl[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",h=CT().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Vy=!0,d()},O}function A(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=wT(r),Q=i("text"),J=document.getElementById(Q)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),ht=i("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const dt=O.element;y(dt),A($,tt);const kt=_();v(Et,ht),dt.append(Et,J,$,kt),document.body.appendChild(dt)}h?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function VT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IT(){const s=dd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NT(){return!IT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xT(){try{return typeof indexedDB=="object"}catch{return!1}}function MT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const OT="FirebaseError";class ws extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=OT,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z_.prototype.create)}}class Z_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?zT(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new ws(o,y,r)}}function zT(s,e){return s.replace(UT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const UT=/\{\$([^}]+)}/g;function $u(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Iy(h)&&Iy(d)){if(!$u(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Iy(s){return s!==null&&typeof s=="object"}function _r(s){return s&&s._delegate?s._delegate:s}class Kl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const mr="[DEFAULT]";class LT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new ST;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BT(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mr){return this.instances.has(e)}getOptions(e=mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mr){return this.component?this.component.multipleInstances?e:mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jT(s){return s===mr?void 0:s}function BT(s){return s.instantiationMode==="EAGER"}class kT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new LT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const qT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},PT=Ut.INFO,HT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},GT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=HT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J_{constructor(e){this.name=e,this._logLevel=PT,this._logHandler=GT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const QT=(s,e)=>e.some(i=>s instanceof i);let Ny,xy;function FT(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YT(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,qf=new WeakMap,W_=new WeakMap,xf=new WeakMap,gd=new WeakMap;function XT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ba(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&$_.set(i,s)}).catch(()=>{}),gd.set(e,s),e}function KT(s){if(qf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});qf.set(s,e)}let Pf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return qf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||W_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ba(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ZT(s){Pf=s(Pf)}function JT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Mf(this),e,...i);return W_.set(r,e.sort?e.sort():[e]),ba(r)}:YT().includes(s)?function(...e){return s.apply(Mf(this),e),ba($_.get(this))}:function(...e){return ba(s.apply(Mf(this),e))}}function $T(s){return typeof s=="function"?JT(s):(s instanceof IDBTransaction&&KT(s),QT(s,FT())?new Proxy(s,Pf):s)}function ba(s){if(s instanceof IDBRequest)return XT(s);if(xf.has(s))return xf.get(s);const e=$T(s);return e!==s&&(xf.set(s,e),gd.set(e,s)),e}const Mf=s=>gd.get(s);function WT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=ba(d);return r&&d.addEventListener("upgradeneeded",v=>{r(ba(d.result),v.oldVersion,v.newVersion,ba(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const tA=["get","getKey","getAll","getAllKeys","count"],eA=["put","add","delete","clear"],Of=new Map;function My(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=eA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||tA.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Of.set(e,h),h}ZT(s=>({...s,get:(e,i,r)=>My(e,i)||s.get(e,i,r),has:(e,i)=>!!My(e,i)||s.has(e,i)}));class nA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function iA(s){return s.getComponent()?.type==="VERSION"}const Hf="@firebase/app",Oy="0.14.6";const qi=new J_("@firebase/app"),aA="@firebase/app-compat",rA="@firebase/analytics-compat",sA="@firebase/analytics",lA="@firebase/app-check-compat",oA="@firebase/app-check",uA="@firebase/auth",cA="@firebase/auth-compat",hA="@firebase/database",fA="@firebase/data-connect",dA="@firebase/database-compat",mA="@firebase/functions",gA="@firebase/functions-compat",pA="@firebase/installations",yA="@firebase/installations-compat",_A="@firebase/messaging",vA="@firebase/messaging-compat",EA="@firebase/performance",TA="@firebase/performance-compat",AA="@firebase/remote-config",SA="@firebase/remote-config-compat",bA="@firebase/storage",RA="@firebase/storage-compat",CA="@firebase/firestore",wA="@firebase/ai",DA="@firebase/firestore-compat",VA="firebase",IA="12.6.0";const Gf="[DEFAULT]",NA={[Hf]:"fire-core",[aA]:"fire-core-compat",[sA]:"fire-analytics",[rA]:"fire-analytics-compat",[oA]:"fire-app-check",[lA]:"fire-app-check-compat",[uA]:"fire-auth",[cA]:"fire-auth-compat",[hA]:"fire-rtdb",[fA]:"fire-data-connect",[dA]:"fire-rtdb-compat",[mA]:"fire-fn",[gA]:"fire-fn-compat",[pA]:"fire-iid",[yA]:"fire-iid-compat",[_A]:"fire-fcm",[vA]:"fire-fcm-compat",[EA]:"fire-perf",[TA]:"fire-perf-compat",[AA]:"fire-rc",[SA]:"fire-rc-compat",[bA]:"fire-gcs",[RA]:"fire-gcs-compat",[CA]:"fire-fst",[DA]:"fire-fst-compat",[wA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};const Wu=new Map,xA=new Map,Qf=new Map;function zy(s,e){try{s.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function tc(s){const e=s.name;if(Qf.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,s);for(const i of Wu.values())zy(i,s);for(const i of xA.values())zy(i,s);return!0}function MA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function OA(s){return s==null?!1:s.settings!==void 0}const zA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Z_("app","Firebase",zA);class UA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}const LA=IA;function tv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Gf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ra.create("bad-app-name",{appName:String(o)});if(i||(i=K_()),!i)throw Ra.create("no-options");const h=Wu.get(o);if(h){if($u(i,h.options)&&$u(r,h.config))return h;throw Ra.create("duplicate-app",{appName:o})}const d=new kT(o);for(const v of Qf.values())d.addComponent(v);const y=new UA(i,r,d);return Wu.set(o,y),y}function jA(s=Gf){const e=Wu.get(s);if(!e&&s===Gf&&K_())return tv();if(!e)throw Ra.create("no-app",{appName:s});return e}function vs(s,e,i){let r=NA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}tc(new Kl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const BA="firebase-heartbeat-database",kA=1,Zl="firebase-heartbeat-store";let zf=null;function ev(){return zf||(zf=WT(BA,kA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ra.create("idb-open",{originalErrorMessage:s.message})})),zf}async function qA(s){try{const i=(await ev()).transaction(Zl),r=await i.objectStore(Zl).get(nv(s));return await i.done,r}catch(e){if(e instanceof ws)qi.warn(e.message);else{const i=Ra.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function Uy(s,e){try{const r=(await ev()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,nv(s)),await r.done}catch(i){if(i instanceof ws)qi.warn(i.message);else{const r=Ra.create("idb-set",{originalErrorMessage:i?.message});qi.warn(r.message)}}}function nv(s){return`${s.name}!${s.options.appId}`}const PA=1024,HA=30;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new FA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ly();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>HA){const o=YA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ly(),{heartbeatsToSend:i,unsentEntries:r}=QA(this._heartbeatsCache.heartbeats),o=Ju(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qi.warn(e),""}}}function Ly(){return new Date().toISOString().substring(0,10)}function QA(s,e=PA){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),jy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),jy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class FA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xT()?MT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jy(s){return Ju(JSON.stringify({version:2,heartbeats:s})).length}function YA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function XA(s){tc(new Kl("platform-logger",e=>new nA(e),"PRIVATE")),tc(new Kl("heartbeat",e=>new GA(e),"PRIVATE")),vs(Hf,Oy,s),vs(Hf,Oy,"esm2020"),vs("fire-js","")}XA("");var KA="firebase",ZA="12.7.0";vs(KA,ZA,"app");var By=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ca,iv;(function(){var s;function e(I,R){function V(){}V.prototype=R.prototype,I.F=R.prototype,I.prototype=new V,I.prototype.constructor=I,I.D=function(w,C,N){for(var b=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)b[pt-2]=arguments[pt];return R.prototype[C].apply(w,b)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,V){V||(V=0);const w=Array(16);if(typeof R=="string")for(var C=0;C<16;++C)w[C]=R.charCodeAt(V++)|R.charCodeAt(V++)<<8|R.charCodeAt(V++)<<16|R.charCodeAt(V++)<<24;else for(C=0;C<16;++C)w[C]=R[V++]|R[V++]<<8|R[V++]<<16|R[V++]<<24;R=I.g[0],V=I.g[1],C=I.g[2];let N=I.g[3],b;b=R+(N^V&(C^N))+w[0]+3614090360&4294967295,R=V+(b<<7&4294967295|b>>>25),b=N+(C^R&(V^C))+w[1]+3905402710&4294967295,N=R+(b<<12&4294967295|b>>>20),b=C+(V^N&(R^V))+w[2]+606105819&4294967295,C=N+(b<<17&4294967295|b>>>15),b=V+(R^C&(N^R))+w[3]+3250441966&4294967295,V=C+(b<<22&4294967295|b>>>10),b=R+(N^V&(C^N))+w[4]+4118548399&4294967295,R=V+(b<<7&4294967295|b>>>25),b=N+(C^R&(V^C))+w[5]+1200080426&4294967295,N=R+(b<<12&4294967295|b>>>20),b=C+(V^N&(R^V))+w[6]+2821735955&4294967295,C=N+(b<<17&4294967295|b>>>15),b=V+(R^C&(N^R))+w[7]+4249261313&4294967295,V=C+(b<<22&4294967295|b>>>10),b=R+(N^V&(C^N))+w[8]+1770035416&4294967295,R=V+(b<<7&4294967295|b>>>25),b=N+(C^R&(V^C))+w[9]+2336552879&4294967295,N=R+(b<<12&4294967295|b>>>20),b=C+(V^N&(R^V))+w[10]+4294925233&4294967295,C=N+(b<<17&4294967295|b>>>15),b=V+(R^C&(N^R))+w[11]+2304563134&4294967295,V=C+(b<<22&4294967295|b>>>10),b=R+(N^V&(C^N))+w[12]+1804603682&4294967295,R=V+(b<<7&4294967295|b>>>25),b=N+(C^R&(V^C))+w[13]+4254626195&4294967295,N=R+(b<<12&4294967295|b>>>20),b=C+(V^N&(R^V))+w[14]+2792965006&4294967295,C=N+(b<<17&4294967295|b>>>15),b=V+(R^C&(N^R))+w[15]+1236535329&4294967295,V=C+(b<<22&4294967295|b>>>10),b=R+(C^N&(V^C))+w[1]+4129170786&4294967295,R=V+(b<<5&4294967295|b>>>27),b=N+(V^C&(R^V))+w[6]+3225465664&4294967295,N=R+(b<<9&4294967295|b>>>23),b=C+(R^V&(N^R))+w[11]+643717713&4294967295,C=N+(b<<14&4294967295|b>>>18),b=V+(N^R&(C^N))+w[0]+3921069994&4294967295,V=C+(b<<20&4294967295|b>>>12),b=R+(C^N&(V^C))+w[5]+3593408605&4294967295,R=V+(b<<5&4294967295|b>>>27),b=N+(V^C&(R^V))+w[10]+38016083&4294967295,N=R+(b<<9&4294967295|b>>>23),b=C+(R^V&(N^R))+w[15]+3634488961&4294967295,C=N+(b<<14&4294967295|b>>>18),b=V+(N^R&(C^N))+w[4]+3889429448&4294967295,V=C+(b<<20&4294967295|b>>>12),b=R+(C^N&(V^C))+w[9]+568446438&4294967295,R=V+(b<<5&4294967295|b>>>27),b=N+(V^C&(R^V))+w[14]+3275163606&4294967295,N=R+(b<<9&4294967295|b>>>23),b=C+(R^V&(N^R))+w[3]+4107603335&4294967295,C=N+(b<<14&4294967295|b>>>18),b=V+(N^R&(C^N))+w[8]+1163531501&4294967295,V=C+(b<<20&4294967295|b>>>12),b=R+(C^N&(V^C))+w[13]+2850285829&4294967295,R=V+(b<<5&4294967295|b>>>27),b=N+(V^C&(R^V))+w[2]+4243563512&4294967295,N=R+(b<<9&4294967295|b>>>23),b=C+(R^V&(N^R))+w[7]+1735328473&4294967295,C=N+(b<<14&4294967295|b>>>18),b=V+(N^R&(C^N))+w[12]+2368359562&4294967295,V=C+(b<<20&4294967295|b>>>12),b=R+(V^C^N)+w[5]+4294588738&4294967295,R=V+(b<<4&4294967295|b>>>28),b=N+(R^V^C)+w[8]+2272392833&4294967295,N=R+(b<<11&4294967295|b>>>21),b=C+(N^R^V)+w[11]+1839030562&4294967295,C=N+(b<<16&4294967295|b>>>16),b=V+(C^N^R)+w[14]+4259657740&4294967295,V=C+(b<<23&4294967295|b>>>9),b=R+(V^C^N)+w[1]+2763975236&4294967295,R=V+(b<<4&4294967295|b>>>28),b=N+(R^V^C)+w[4]+1272893353&4294967295,N=R+(b<<11&4294967295|b>>>21),b=C+(N^R^V)+w[7]+4139469664&4294967295,C=N+(b<<16&4294967295|b>>>16),b=V+(C^N^R)+w[10]+3200236656&4294967295,V=C+(b<<23&4294967295|b>>>9),b=R+(V^C^N)+w[13]+681279174&4294967295,R=V+(b<<4&4294967295|b>>>28),b=N+(R^V^C)+w[0]+3936430074&4294967295,N=R+(b<<11&4294967295|b>>>21),b=C+(N^R^V)+w[3]+3572445317&4294967295,C=N+(b<<16&4294967295|b>>>16),b=V+(C^N^R)+w[6]+76029189&4294967295,V=C+(b<<23&4294967295|b>>>9),b=R+(V^C^N)+w[9]+3654602809&4294967295,R=V+(b<<4&4294967295|b>>>28),b=N+(R^V^C)+w[12]+3873151461&4294967295,N=R+(b<<11&4294967295|b>>>21),b=C+(N^R^V)+w[15]+530742520&4294967295,C=N+(b<<16&4294967295|b>>>16),b=V+(C^N^R)+w[2]+3299628645&4294967295,V=C+(b<<23&4294967295|b>>>9),b=R+(C^(V|~N))+w[0]+4096336452&4294967295,R=V+(b<<6&4294967295|b>>>26),b=N+(V^(R|~C))+w[7]+1126891415&4294967295,N=R+(b<<10&4294967295|b>>>22),b=C+(R^(N|~V))+w[14]+2878612391&4294967295,C=N+(b<<15&4294967295|b>>>17),b=V+(N^(C|~R))+w[5]+4237533241&4294967295,V=C+(b<<21&4294967295|b>>>11),b=R+(C^(V|~N))+w[12]+1700485571&4294967295,R=V+(b<<6&4294967295|b>>>26),b=N+(V^(R|~C))+w[3]+2399980690&4294967295,N=R+(b<<10&4294967295|b>>>22),b=C+(R^(N|~V))+w[10]+4293915773&4294967295,C=N+(b<<15&4294967295|b>>>17),b=V+(N^(C|~R))+w[1]+2240044497&4294967295,V=C+(b<<21&4294967295|b>>>11),b=R+(C^(V|~N))+w[8]+1873313359&4294967295,R=V+(b<<6&4294967295|b>>>26),b=N+(V^(R|~C))+w[15]+4264355552&4294967295,N=R+(b<<10&4294967295|b>>>22),b=C+(R^(N|~V))+w[6]+2734768916&4294967295,C=N+(b<<15&4294967295|b>>>17),b=V+(N^(C|~R))+w[13]+1309151649&4294967295,V=C+(b<<21&4294967295|b>>>11),b=R+(C^(V|~N))+w[4]+4149444226&4294967295,R=V+(b<<6&4294967295|b>>>26),b=N+(V^(R|~C))+w[11]+3174756917&4294967295,N=R+(b<<10&4294967295|b>>>22),b=C+(R^(N|~V))+w[2]+718787259&4294967295,C=N+(b<<15&4294967295|b>>>17),b=V+(N^(C|~R))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(C+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const V=R-this.blockSize,w=this.C;let C=this.h,N=0;for(;N<R;){if(C==0)for(;N<=V;)o(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<R;)if(w[C++]=I.charCodeAt(N++),C==this.blockSize){o(this,w),C=0;break}}else for(;N<R;)if(w[C++]=I[N++],C==this.blockSize){o(this,w),C=0;break}}this.h=C,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var V=I.length-8;V<I.length;++V)I[V]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,V=0;V<4;++V)for(let w=0;w<32;w+=8)I[R++]=this.g[V]>>>w&255;return I};function h(I,R){var V=y;return Object.prototype.hasOwnProperty.call(V,I)?V[I]:V[I]=R(I)}function d(I,R){this.h=R;const V=[];let w=!0;for(let C=I.length-1;C>=0;C--){const N=I[C]|0;w&&N==R||(V[C]=N,w=!1)}this.g=V}var y={};function v(I){return-128<=I&&I<128?h(I,function(R){return new d([R|0],R<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return $(_(-I));const R=[];let V=1;for(let w=0;I>=V;w++)R[w]=I/V|0,V*=4294967296;return new d(R,0)}function A(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return $(A(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=_(Math.pow(R,8));let w=S;for(let N=0;N<I.length;N+=8){var C=Math.min(8,I.length-N);const b=parseInt(I.substring(N,N+C),R);C<8?(C=_(Math.pow(R,C)),w=w.j(C).add(_(b))):(w=w.j(V),w=w.add(_(b)))}return w}var S=v(0),O=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(tt(this))return-$(this).m();let I=0,R=1;for(let V=0;V<this.g.length;V++){const w=this.i(V);I+=(w>=0?w:4294967296+w)*R,R*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(tt(this))return"-"+$(this).toString(I);const R=_(Math.pow(I,6));var V=this;let w="";for(;;){const C=kt(V,R).g;V=ht(V,C.j(R));let N=((V.g.length>0?V.g[0]:V.h)>>>0).toString(I);if(V=C,J(V))return N+w;for(;N.length<6;)N="0"+N;w=N+w}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function tt(I){return I.h==-1}s.l=function(I){return I=ht(this,I),tt(I)?-1:J(I)?0:1};function $(I){const R=I.g.length,V=[];for(let w=0;w<R;w++)V[w]=~I.g[w];return new d(V,~I.h).add(O)}s.abs=function(){return tt(this)?$(this):this},s.add=function(I){const R=Math.max(this.g.length,I.g.length),V=[];let w=0;for(let C=0;C<=R;C++){let N=w+(this.i(C)&65535)+(I.i(C)&65535),b=(N>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);w=b>>>16,N&=65535,b&=65535,V[C]=b<<16|N}return new d(V,V[V.length-1]&-2147483648?-1:0)};function ht(I,R){return I.add($(R))}s.j=function(I){if(J(this)||J(I))return S;if(tt(this))return tt(I)?$(this).j($(I)):$($(this).j(I));if(tt(I))return $(this.j($(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const R=this.g.length+I.g.length,V=[];for(var w=0;w<2*R;w++)V[w]=0;for(w=0;w<this.g.length;w++)for(let C=0;C<I.g.length;C++){const N=this.i(w)>>>16,b=this.i(w)&65535,pt=I.i(C)>>>16,Yt=I.i(C)&65535;V[2*w+2*C]+=b*Yt,Et(V,2*w+2*C),V[2*w+2*C+1]+=N*Yt,Et(V,2*w+2*C+1),V[2*w+2*C+1]+=b*pt,Et(V,2*w+2*C+1),V[2*w+2*C+2]+=N*pt,Et(V,2*w+2*C+2)}for(I=0;I<R;I++)V[I]=V[2*I+1]<<16|V[2*I];for(I=R;I<2*R;I++)V[I]=0;return new d(V,0)};function Et(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function dt(I,R){this.g=I,this.h=R}function kt(I,R){if(J(R))throw Error("division by zero");if(J(I))return new dt(S,S);if(tt(I))return R=kt($(I),R),new dt($(R.g),$(R.h));if(tt(R))return R=kt(I,$(R)),new dt($(R.g),R.h);if(I.g.length>30){if(tt(I)||tt(R))throw Error("slowDivide_ only works with positive integers.");for(var V=O,w=R;w.l(I)<=0;)V=$t(V),w=$t(w);var C=xt(V,1),N=xt(w,1);for(w=xt(w,2),V=xt(V,2);!J(w);){var b=N.add(w);b.l(I)<=0&&(C=C.add(V),N=b),w=xt(w,1),V=xt(V,1)}return R=ht(I,C.j(R)),new dt(C,R)}for(C=S;I.l(R)>=0;){for(V=Math.max(1,Math.floor(I.m()/R.m())),w=Math.ceil(Math.log(V)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),N=_(V),b=N.j(R);tt(b)||b.l(I)>0;)V-=w,N=_(V),b=N.j(R);J(N)&&(N=O),C=C.add(N),I=ht(I,b)}return new dt(C,I)}s.B=function(I){return kt(this,I).h},s.and=function(I){const R=Math.max(this.g.length,I.g.length),V=[];for(let w=0;w<R;w++)V[w]=this.i(w)&I.i(w);return new d(V,this.h&I.h)},s.or=function(I){const R=Math.max(this.g.length,I.g.length),V=[];for(let w=0;w<R;w++)V[w]=this.i(w)|I.i(w);return new d(V,this.h|I.h)},s.xor=function(I){const R=Math.max(this.g.length,I.g.length),V=[];for(let w=0;w<R;w++)V[w]=this.i(w)^I.i(w);return new d(V,this.h^I.h)};function $t(I){const R=I.g.length+1,V=[];for(let w=0;w<R;w++)V[w]=I.i(w)<<1|I.i(w-1)>>>31;return new d(V,I.h)}function xt(I,R){const V=R>>5;R%=32;const w=I.g.length-V,C=[];for(let N=0;N<w;N++)C[N]=R>0?I.i(N+V)>>>R|I.i(N+V+1)<<32-R:I.i(N+V);return new d(C,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,iv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ca=d}).apply(typeof By<"u"?By:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var av,Bl,rv,Qu,Ff,sv,lv,ov;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[U].apply(T,W)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=u.length||0;const q=U.length||0;u.length=p+q;for(let W=0;W<q;W++)u[p+W]=U[W]}else u.push(U)}}class tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,p){const T=dt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new tt(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,xt=!1,I=new Et,R=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(V)}};function V(){for(var u;u=ht();){try{u.h.call(u.g)}catch(p){$(p)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function pt(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(pt,C),pt.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Yt="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Lt(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function M(u){const m={};for(const p in u)m[p]=u[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<Y.length;q++)p=Y[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,p,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=Tt(u,m,T,U);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new et(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function mt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ot(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Tt(u,m,p,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),Ve={};function re(u,m,p,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],p,T,U);return null}return p=zs(p),u&&u[Yt]?u.J(m,p,y(T)?!!T.capture:!1,U):La(u,m,p,!1,T,U)}function La(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");const W=y(U)?!!U.capture:!!U;let At=ja(u);if(At||(u[Ot]=At=new it(u)),p=At.add(m,p,T,W,q),p.proxy)return p;if(T=Rr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)N||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rr(){function u(p){return m.call(u.src,u.listener,p)}const m=Ms;return u}function Cr(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Cr(u,m[q],p,T,U);else T=y(T)?!!T.capture:!!T,p=zs(p),u&&u[Yt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=Tt(m,p,T,U),p>-1&&(ot(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ja(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,p,T,U)),(p=u>-1?m[u]:null)&&wr(p))}function wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Yt])mt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Yn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ja(m))?(mt(p,u),p.h==0&&(p.src=null,m[Ot]=null)):ot(u)}}}function Yn(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Ms(u,m){if(u.da)u=!0;else{m=new pt(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&wr(u),u=p.call(T,m)}return u}function ja(u){return u=u[Ot],u instanceof it?u:null}var Os="__closure_events_fn_"+(Math.random()*1e9>>>0);function zs(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(m){return u.handleEvent(m)}),u[Os])}function pe(){w.call(this),this.i=new it(this),this.M=this,this.G=null}S(pe,w),pe.prototype[Yt]=!0,pe.prototype.removeEventListener=function(u,m,p,T){Cr(this,u,m,p,T)};function Ie(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var U=m;m=new C(T,u),nt(m,U)}U=!0;let q,W;if(p)for(W=p.length-1;W>=0;W--)q=m.g=p[W],U=Gi(q,T,!0,m)&&U;if(q=m.g=u,U=Gi(q,T,!0,m)&&U,U=Gi(q,T,!1,m)&&U,p)for(W=0;W<p.length;W++)q=m.g=p[W],U=Gi(q,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ot(p[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},pe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Gi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==p){const At=W.listener,fe=W.ha||W.src;W.fa&&mt(u.i,W),U=At.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function wc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function co(u){u.g=wc(()=>{u.g=null,u.i&&(u.i=!1,co(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends w{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(u){w.call(this),this.h=u,this.g={}}S(Ba,w);var Us=[];function Ls(u){Rt(u.g,function(m,p){this.g.hasOwnProperty(p)&&wr(m)},u),u.g={}}Ba.prototype.N=function(){Ba.Z.N.call(this),Ls(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=d.JSON.stringify,Dc=d.JSON.parse,ho=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fo(){}function mo(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){C.call(this,"d")}S(je,C);function _n(){C.call(this,"c")}S(_n,C);var he={},go=null;function Dr(){return go=go||new pe}he.Ia="serverreachability";function po(u){C.call(this,he.Ia,u)}S(po,C);function Xn(u){const m=Dr();Ie(m,new po(m))}he.STAT_EVENT="statevent";function ka(u,m){C.call(this,he.STAT_EVENT,u),this.stat=m}S(ka,C);function ye(u){const m=Dr();Ie(m,new ka(m,u))}he.Ja="timingevent";function Kn(u,m){C.call(this,he.Ja,u),this.size=m}S(Kn,C);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Vc(u,m,p,T,U,q){u.info(function(){if(u.g)if(q){var W="",At=q.split("&");for(let qt=0;qt<At.length;qt++){var fe=At[qt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const An=se.split("_");W=An.length>=2&&An[1]=="type"?W+(se+"="+fe+"&"):W+(se+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function yo(u,m,p,T,U,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+W})}function Jn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ic(u,p)+(T?" "+T:"")})}function qa(u,m){u.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Ic(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Qi(q)}catch{return m}}var Pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bs;function Ha(){}S(Ha,fo),Ha.prototype.g=function(){return new XMLHttpRequest},Bs=new Ha;function Ti(u){return encodeURIComponent(String(u))}function _o(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function zn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function $n(u,m,p){u.M=1,u.A=Ga(Ee(m)),u.u=p,u.R=!0,Vr(u,null)}function Vr(u,m){u.F=Date.now(),Wn(u),u.B=Ee(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Mr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=Mo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Us[0]=U.toString()),U=Us);for(let q=0;q<U.length;q++){const W=re(p,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),Vc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Bn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||fe==7||(fe==8||qt<=0?Xn(3):Xn(2)),ti(this);var m=this.g.ca();this.X=m;var p=Nc(this);if(this.o=m==200,yo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var q=T;break e}}q=null}if(u=q)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,ye(12),un(this),vn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<p.length;)if(se=Eo(this,p),se==Me){At==4&&(this.m=4,ye(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),Jn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,se,null),ei(this,se);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||p.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),tl(W),W.P=!0,ye(11))}}else Jn(this.i,this.l,p,null),ei(this,p);At==4&&un(this),this.o&&!this.K&&(At==4?Vo(this.j,this):(this.o=!1,Wn(this)))}else Si(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),un(this),vn(this)}}}catch{}};function Nc(u){if(!vo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,U=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function vo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Eo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?_e:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),u.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function Wn(u){u.T=Date.now()+u.H,Ir(u,u.H)}function Ir(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(qa(this.i,this.B),this.M!=2&&(Xn(),ye(17)),un(this),this.m=2,vn(this)):Ir(this,this.T-u)};function vn(u){u.j.I==0||u.K||Vo(u.j,u)}function un(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ls(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ii(p.h,u))){if(!u.L&&ii(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)jr(p),Wi(p);else break t;Ja(p),ye(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Zn(_(p.Va,p),6e3));ni(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((u.L||p.g==u)&&jr(p),!b(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const se=qt[0];if(!(se<=p.K))if(p.K=se,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const An=qt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const ci=qt[4];ci!=null&&(p.za=ci,p.j.info("SVER="+p.za));const kn=qt[5];kn!=null&&typeof kn=="number"&&kn>0&&(T=1.5*kn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=u.g;if(qn){const $a=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var q=T.h;q.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ps(q,q.h),q.h=null))}if(T.G){const Br=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Br&&(T.wa=Br,Gt(T.J,T.G,Br))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=u;if(T.na=xo(T,T.L?T.ba:null,T.W),W.L){Hs(T.h,W);var At=W,fe=T.O;fe&&(At.H=fe),At.D&&(ti(At),Wn(At)),T.g=W}else wo(T);p.i.length>0&&oi(p)}else qt[0]!="stop"&&qt[0]!="close"||ui(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ui(p,7):$s(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}Xn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function ks(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ps(u,m){u.g?u.g.add(m):u.h=m}function Hs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ks.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return Q(u.i)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nr(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let U,q=null;T>=0?(U=u[p].substring(0,T),q=u[p].substring(T+1)):U=u[p],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Oe(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.u),this.h=u.h,Qs(this,Ro(u.i)),this.m=u.m):u&&(m=String(u).match(To))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Fi(this,m[4]),this.h=ai(m[5]||"",!0),Qs(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Qa(m,xr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qa(m,xr,!0),"@"),u.push(Ti(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Qa(p,p.charAt(0)=="/"?Fs:Ao,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Qa(p,So)),u.join("")},cn.prototype.resolve=function(u){const m=Ee(this);let p=!!u.j;p?Oe(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Fi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let W=0;W<U.length;){const At=U[W++];At=="."?T&&W==U.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==U.length&&q.push("")):(q.push(At),T=!0)}T=q.join("/")}else T=U}return p?m.h=T:p=u.i.toString()!=="",p?Qs(m,Ro(u.i)):p=!!u.m,p&&(m.m=u.m),m};function Ee(u){return new cn(u)}function Oe(u,m,p){u.j=p?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Qs(u,m,p){m instanceof Xi?(u.i=m,Or(u.i,u.l)):(p||(m=Qa(m,Yi)),u.i=new Xi(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function Ga(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xr=/[#\/\?@]/g,Ao=/[#\?:]/g,Fs=/[#\?]/g,Yi=/[#\?@]/g,So=/#/g;function Xi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Nr(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Xi.prototype,s.add=function(u,m){en(this),this.i=null,u=Ki(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function bo(u,m){en(u),m=Ki(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ys(u,m){return en(u),m=Ki(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Xs(u,m){en(u);let p=[];if(typeof m=="string")Ys(u,m)&&(p=p.concat(u.g.get(Ki(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return en(this),this.i=null,u=Ki(this,u),Ys(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Xs(this,u),u.length>0?String(u[0]):m):m};function Mr(u,m,p){bo(u,m),p.length>0&&(u.i=null,u.g.set(Ki(u,m),Q(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ti(p);p=Xs(this,p);for(let q=0;q<p.length;q++){let W=U;p[q]!==""&&(W+="="+Ti(p[q])),u.push(W)}}return this.i=u.join("&")};function Ro(u){const m=new Xi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ki(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Or(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(bo(this,T),Mr(this,U,p))},u)),u.j=m}function Ln(u,m){const p=new On;if(d.Image){const T=new Image;T.onload=A(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,p,"TestLoadImage: error",!1,m,T),T.onabort=A(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ks(u,m){const p=new On,T=new AbortController,U=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Zi(){this.g=new ho}function ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ri,fo),ri.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Fa,pe),s=Fa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function zr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ji(this):jn(this),this.readyState==3&&zr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ji(this))},s.Na=function(u){this.g&&(this.response=u,Ji(this))},s.ga=function(){this.g&&Ji(this)};function Ji(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return Rt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ya(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof u=="string"?p!=null&&Ti(p):Gt(u,m,p))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,pe);var si=/^https?$/i,Zs=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bs.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Xa(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Zs,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Xa(this,q)}};function Xa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Js(u),Ai(u)}function Js(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ai(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ka(this):this.Xa())},s.Xa=function(){Ka(this)};function Ka(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let W=String(u.D).match(To)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!si.test(W?W.toLowerCase():"")}p=T}if(p)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var U=Bn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Js(u)}}finally{Ai(u)}}}}function Ai(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ie(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var p=_o(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}Lt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function $i(u){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ks(u&&u.concurrentRequestLimit),this.Ba=new Zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=$i.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){ye(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=xo(this,null,this.W),oi(this)};function $s(u){if(Ur(u),u.I==3){var m=u.V++,p=Ee(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Za(u,p),m=new zn(u,u.j,m),m.M=2,m.A=Ga(Ee(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Mo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}No(u)}function Wi(u){u.g&&(tl(u),u.g.cancel(),u.g=null)}function Ur(u){Wi(u),u.v&&(d.clearTimeout(u.v),u.v=null),jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!qs(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||R(),xt||($t(),xt=!0),I.add(m,u),u.D=0}}function Lr(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),Io(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Co(this,U,m),p=Ee(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),Za(this,p),q&&(this.R?m="headers="+Ti(Tn(q))+"&"+m:this.u&&Ya(p,this.u,q)),Ps(this.h,U),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),U.U=!0,$n(U,p,null)):$n(U,p,m),this.I=2}}else this.I==3&&(u?Ws(this,u):this.i.length==0||qs(this.h)||Ws(this))};function Ws(u,m){var p;m?p=m.l:p=u.V++;const T=Ee(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),Za(u,T),u.u&&u.o&&Ya(T,u.u,u.o),p=new zn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Co(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ps(u.h,p),$n(p,T,m)}function Za(u,m){u.H&&Rt(u.H,function(p,T){Gt(m,T,p)}),u.l&&Rt({},function(p,T){Gt(m,T,p)})}function Co(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const fe=["count="+p];At==-1?p>0?(At=U[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let qt=!0;for(let se=0;se<p;se++){var q=U[se].g;const An=U[se].map;if(q-=At,q<0)At=Math.max(0,U[se].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var W=An instanceof Map?An:Object.entries(An);for(const[ci,kn]of W){let qn=kn;y(kn)&&(qn=Qi(kn)),fe.push(q+ci+"="+encodeURIComponent(qn))}}catch(ci){throw fe.push(q+"type="+encodeURIComponent("_badmap")),ci}}catch{T&&T(An)}}if(qt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function wo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||R(),xt||($t(),xt=!0),I.add(m,u),u.A=0}}function Ja(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),Io(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Do(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Wi(this),Do(this))};function tl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Do(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Za(u,m),u.u&&u.o&&Ya(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ga(Ee(m)),p.u=null,p.R=!0,Vr(p,u)}s.Va=function(){this.C!=null&&(this.C=null,Wi(this),Ja(this),ye(19))};function jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vo(u,m){var p=null;if(u.g==m){jr(u),tl(u),u.g=null;var T=2}else if(ii(u.h,m))p=m.G,Hs(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Dr(),Ie(T,new Kn(T,p)),oi(u)}else wo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Lr(u,m)||T==2&&Ja(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),U){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Io(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const U=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Ga(T),U?Ln(T.toString(),p):Ks(T.toString(),p)}else ye(2);u.I=0,u.l&&u.l.pa(m),No(u),Ur(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function No(u){if(u.I=0,u.ja=[],u.l){const m=Gs(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function xo(u,m,p){var T=p instanceof cn?Ee(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new cn(null);T&&Oe(q,T),m&&(q.g=m),U&&Fi(q,U),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),Za(u,T),T}function Mo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ri({ab:p})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oo(){}s=Oo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ta(){}ta.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new $i(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new bi(this)}S($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){$s(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Qi(u),u=p);m.i.push(new ve(m.Ya++,u)),m.I==3&&oi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,$e.Z.N.call(this)};function zo(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(zo,je);function Uo(){_n.call(this),this.status=1}S(Uo,_n);function bi(u){this.g=u}S(bi,Oo),bi.prototype.ra=function(){Ie(this.g,"a")},bi.prototype.qa=function(u){Ie(this.g,new zo(u))},bi.prototype.pa=function(u){Ie(this.g,new Uo)},bi.prototype.oa=function(){Ie(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,ov=function(){return new ta},lv=function(){return Dr()},sv=he,Ff={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Qu=Pa,js.COMPLETE="complete",rv=js,mo.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Bl=mo,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,av=Xt}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",qy="4.9.3";class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Ds="12.7.0";const vr=new J_("@firebase/firestore");function gs(){return vr.logLevel}function rt(s,...e){if(vr.logLevel<=Ut.DEBUG){const i=e.map(pd);vr.debug(`Firestore (${Ds}): ${s}`,...i)}}function Pi(s,...e){if(vr.logLevel<=Ut.ERROR){const i=e.map(pd);vr.error(`Firestore (${Ds}): ${s}`,...i)}}function Ts(s,...e){if(vr.logLevel<=Ut.WARN){const i=e.map(pd);vr.warn(`Firestore (${Ds}): ${s}`,...i)}}function pd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,uv(s,r,i)}function uv(s,e,i){let r=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Pi(r),new Error(r)}function Ht(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||uv(e,o,r)}function vt(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class cv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class $A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new wa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new wa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new cv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class tS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new tS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const r=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=iS(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function It(s,e){return s<e?-1:s>e?1:0}function Yf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Uf(o)===Uf(h)?It(o,h):Uf(o)?1:-1}return It(s.length,e.length)}const aS=55296,rS=57343;function Uf(s){const e=s.charCodeAt(0);return e>=aS&&e<=rS}function As(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const Hy="__name__";class gi{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&gt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const r=gi.isNumericId(e),o=gi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):Yf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class ee extends gi{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const sS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends gi{construct(e,i,r){return new Qe(e,i,r)}static isValidIdentifier(e){return sS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hy}static keyField(){return new Qe([Hy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ee.fromString(e))}static fromName(e){return new ct(ee.fromString(e).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ee(e.slice()))}}function hv(s,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function lS(s,e,i,r){if(e===!0&&r===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Gy(s){if(!ct.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Qy(s){if(ct.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Da(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function we(s,e){const i={typeString:s};return e&&(i.value=e),i}function ro(s,e){if(!fv(s))throw new at(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new at(K.INVALID_ARGUMENT,i);return!0}const Fy=-62135596800,Yy=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Yy);return new ae(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Fy)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ro(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:we("string",ae._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ae(0,0))}static max(){return new yt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function oS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new Ia(o,ct.empty(),e)}function uS(s){return new Ia(s.readTime,s.key,Jl)}class Ia{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ia(yt.min(),ct.empty(),Jl)}static max(){return new Ia(yt.max(),ct.empty(),Jl)}}function cS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:It(s.largestBatchId,e.largestBatchId))}const hS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vs(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==hS)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function dS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Is(s){return s.name==="IndexedDbTransactionError"}class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;const _d=-1;function mc(s){return s==null}function ec(s){return s===0&&1/s==-1/0}function mS(s){return typeof s=="number"&&Number.isInteger(s)&&!ec(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const dv="";function gS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Xy(e)),e=pS(s.get(i),e);return Xy(e)}function pS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case dv:i+="";break;default:i+=h}}return i}function Xy(s){return s+dv+""}function Ky(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function mv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Ge.RED,this.left=o??Ge.EMPTY,this.right=h??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Ge(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(e){return new Zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class Zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new xe(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new gv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const yS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(s){if(Ht(!!s,39018),typeof s=="string"){let e=0;const i=yS.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xa(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const pv="server_timestamp",yv="__type__",_v="__previous_value__",vv="__local_write_time__";function vd(s){return(s?.mapValue?.fields||{})[yv]?.stringValue===pv}function gc(s){const e=s.mapValue.fields[_v];return vd(e)?gc(e):e}function $l(s){const e=Na(s.mapValue.fields[vv].timestampValue);return new ae(e.seconds,e.nanos)}class _S{constructor(e,i,r,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const nc="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||nc}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===nc}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const Ev="__type__",vS="__max__",Pu={mapValue:{}},Tv="__vector__",ic="value";function Ma(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vd(s)?4:TS(s)?9007199254740991:ES(s)?10:11:gt(28295,{value:s})}function Ei(s,e){if(s===e)return!0;const i=Ma(s);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return $l(s).isEqual($l(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Na(o.timestampValue),y=Na(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return xa(o.bytesValue).isEqual(xa(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),y=ge(h.doubleValue);return d===y?ec(d)===ec(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return As(s.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Ky(d)!==Ky(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ei(d[v],y[v])))return!1;return!0})(s,e);default:return gt(52216,{left:s})}}function to(s,e){return(s.values||[]).find((i=>Ei(i,e)))!==void 0}function Ss(s,e){if(s===e)return 0;const i=Ma(s),r=Ma(e);if(i!==r)return It(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Jy(s.timestampValue,e.timestampValue);case 4:return Jy($l(s),$l(e));case 5:return Yf(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=xa(h),v=xa(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=It(y[_],v[_]);if(A!==0)return A}return It(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=It(ge(h.latitude),ge(d.latitude));return y!==0?y:It(ge(h.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $y(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[ic]?.arrayValue,A=v[ic]?.arrayValue,S=It(_?.values?.length||0,A?.values?.length||0);return S!==0?S:$y(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Pu.mapValue&&d===Pu.mapValue)return 0;if(h===Pu.mapValue)return 1;if(d===Pu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const O=Yf(v[S],A[S]);if(O!==0)return O;const Q=Ss(y[v[S]],_[A[S]]);if(Q!==0)return Q}return It(v.length,A.length)})(s.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function Jy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return It(s,e);const i=Na(s),r=Na(e),o=It(i.seconds,r.seconds);return o!==0?o:It(i.nanos,r.nanos)}function $y(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Ss(i[o],r[o]);if(h)return h}return It(i.length,r.length)}function bs(s){return Xf(s)}function Xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Na(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return xa(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Xf(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Xf(i.fields[d])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function Fu(s){switch(Ma(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(s);return e?16+Fu(e):16;case 5:return 2*s.stringValue.length;case 6:return xa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Fu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Tr(r.fields,((h,d)=>{o+=h.length+Fu(d)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function Wy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Kf(s){return!!s&&"integerValue"in s}function Ed(s){return!!s&&"arrayValue"in s}function t_(s){return!!s&&"nullValue"in s}function e_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yu(s){return!!s&&"mapValue"in s}function ES(s){return(s?.mapValue?.fields||{})[Ev]?.stringValue===Tv}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function TS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===vS}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Qe.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Gl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Tr(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new Nn(Gl(this.value))}}function Av(s){const e=[];return Tr(s.fields,((i,r)=>{const o=new Qe([i]);if(Yu(r)){const h=Av(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Qn(e)}class Ze{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ze(e,0,yt.min(),yt.min(),yt.min(),Nn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ze(e,1,i,yt.min(),r,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,yt.min(),yt.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,yt.min(),yt.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ac{constructor(e,i){this.position=e,this.inclusive=i}}function n_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=Ss(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function i_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ei(s.position[i],e.position[i]))return!1;return!0}class eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function AS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Sv{}class Ce extends Sv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new bS(e,i,r):i==="array-contains"?new wS(e,r):i==="in"?new DS(e,r):i==="not-in"?new VS(e,r):i==="array-contains-any"?new IS(e,r):new Ce(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new RS(e,r):new CS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ss(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Sv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return bv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bv(s){return s.op==="and"}function Rv(s){return SS(s)&&bv(s)}function SS(s){for(const e of s.filters)if(e instanceof Fn)return!1;return!0}function Zf(s){if(s instanceof Ce)return s.field.canonicalString()+s.op.toString()+bs(s.value);if(Rv(s))return s.filters.map((e=>Zf(e))).join(",");{const e=s.filters.map((i=>Zf(i))).join(",");return`${s.op}(${e})`}}function Cv(s,e){return s instanceof Ce?(function(r,o){return o instanceof Ce&&r.op===o.op&&r.field.isEqual(o.field)&&Ei(r.value,o.value)})(s,e):s instanceof Fn?(function(r,o){return o instanceof Fn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&Cv(d,o.filters[y])),!0):!1})(s,e):void gt(19439)}function wv(s){return s instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(wv).join(" ,")+"}"})(s):"Filter"}class bS extends Ce{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class RS extends Ce{constructor(e,i){super(e,"in",i),this.keys=Dv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class CS extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=Dv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Dv(s,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class wS extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&to(i.arrayValue,this.value)}}class DS extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&to(this.value.arrayValue,i)}}class VS extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!to(this.value.arrayValue,i)}}class IS extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>to(this.value.arrayValue,r)))}}class NS{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function a_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new NS(s,e,i,r,o,h,d)}function Td(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Zf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>bs(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>bs(r))).join(",")),e.Te=i}return e.Te}function Ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!AS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Cv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!i_(s.startAt,e.startAt)&&i_(s.endAt,e.endAt)}function Jf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ns{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xS(s,e,i,r,o,h,d,y){return new Ns(s,e,i,r,o,h,d,y)}function Sd(s){return new Ns(s)}function r_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Vv(s){return s.collectionGroup!==null}function Ql(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new xe(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new eo(h,r))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new eo(Qe.keyField(),r))}return e.Ie}function pi(s){const e=vt(s);return e.Ee||(e.Ee=MS(e,Ql(s))),e.Ee}function MS(s,e){if(s.limitType==="F")return a_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new eo(o.field,h)}));const i=s.endAt?new ac(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ac(s.startAt.position,s.startAt.inclusive):null;return a_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function $f(s,e){const i=s.filters.concat([e]);return new Ns(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Wf(s,e,i){return new Ns(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function pc(s,e){return Ad(pi(s),pi(e))&&s.limitType===e.limitType}function Iv(s){return`${Td(pi(s))}|lt:${s.limitType}`}function ps(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>wv(o))).join(", ")}]`),mc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>bs(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>bs(o))).join(",")),`Target(${r})`})(pi(s))}; limitType=${s.limitType})`}function yc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Ql(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=n_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Ql(r),o)||r.endAt&&!(function(d,y,v){const _=n_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Ql(r),o))})(s,e)}function OS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Nv(s){return(e,i)=>{let r=!1;for(const o of Ql(s)){const h=zS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function zS(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ss(v,_):gt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}class Ar{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}const US=new oe(ct.comparator);function Hi(){return US}const xv=new oe(ct.comparator);function kl(...s){let e=xv;for(const i of s)e=e.insert(i.key,i);return e}function Mv(s){let e=xv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function gr(){return Fl()}function Ov(){return Fl()}function Fl(){return new Ar((s=>s.toString()),((s,e)=>s.isEqual(e)))}const LS=new oe(ct.comparator),jS=new xe(ct.comparator);function Nt(...s){let e=jS;for(const i of s)e=e.add(i);return e}const BS=new xe(It);function kS(){return BS}function bd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function zv(s){return{integerValue:""+s}}function qS(s,e){return mS(e)?zv(e):bd(s,e)}class _c{constructor(){this._=void 0}}function PS(s,e,i){return s instanceof rc?(function(o,h){const d={fields:{[yv]:{stringValue:pv},[vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&vd(h)&&(h=gc(h)),h&&(d.fields[_v]=h),{mapValue:d}})(i,e):s instanceof no?Lv(s,e):s instanceof io?jv(s,e):(function(o,h){const d=Uv(o,h),y=s_(d)+s_(o.Ae);return Kf(d)&&Kf(o.Ae)?zv(y):bd(o.serializer,y)})(s,e)}function HS(s,e,i){return s instanceof no?Lv(s,e):s instanceof io?jv(s,e):i}function Uv(s,e){return s instanceof sc?(function(r){return Kf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class rc extends _c{}class no extends _c{constructor(e){super(),this.elements=e}}function Lv(s,e){const i=Bv(e);for(const r of s.elements)i.some((o=>Ei(o,r)))||i.push(r);return{arrayValue:{values:i}}}class io extends _c{constructor(e){super(),this.elements=e}}function jv(s,e){let i=Bv(e);for(const r of s.elements)i=i.filter((o=>!Ei(o,r)));return{arrayValue:{values:i}}}class sc extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function s_(s){return ge(s.integerValue||s.doubleValue)}function Bv(s){return Ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function GS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof no&&o instanceof no||r instanceof io&&o instanceof io?As(r.elements,o.elements,Ei):r instanceof sc&&o instanceof sc?Ei(r.Ae,o.Ae):r instanceof rc&&o instanceof rc})(s.transform,e.transform)}class QS{constructor(e,i){this.version=e,this.transformResults=i}}class ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class vc{}function kv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Pv(s.key,ki.none()):new so(s.key,s.data,ki.none());{const i=s.data,r=Nn.empty();let o=new xe(Qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Sr(s.key,r,new Qn(o.toArray()),ki.none())}}function FS(s,e,i){s instanceof so?(function(o,h,d){const y=o.value.clone(),v=o_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Sr?(function(o,h,d){if(!Xu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=o_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(qv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Yl(s,e,i,r){return s instanceof so?(function(h,d,y,v){if(!Xu(h.precondition,d))return y;const _=h.value.clone(),A=u_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Sr?(function(h,d,y,v){if(!Xu(h.precondition,d))return y;const _=u_(h.fieldTransforms,v,d),A=d.data;return A.setAll(qv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(h,d,y){return Xu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function YS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=Uv(r.transform,o||null);h!=null&&(i===null&&(i=Nn.empty()),i.set(r.field,h))}return i||null}function l_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&As(r,o,((h,d)=>GS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class so extends vc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends vc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function o_(s,e,i){const r=new Map;Ht(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,HS(d,y,i[o]))}return r}function u_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,PS(h,d,e))}return r}class Pv extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XS extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&FS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Yl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Yl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Ov();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=kv(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Nt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,((i,r)=>l_(i,r)))&&As(this.baseMutations,e.baseMutations,((i,r)=>l_(i,r)))}}class Rd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return LS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Rd(e,i,r,o)}}class ZS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,zt;function $S(s){switch(s){case K.OK:return gt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function Hv(s){if(s===void 0)return Pi("GRPC error has no .code"),K.UNKNOWN;switch(s){case Re.OK:return K.OK;case Re.CANCELLED:return K.CANCELLED;case Re.UNKNOWN:return K.UNKNOWN;case Re.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Re.INTERNAL:return K.INTERNAL;case Re.UNAVAILABLE:return K.UNAVAILABLE;case Re.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Re.NOT_FOUND:return K.NOT_FOUND;case Re.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Re.ABORTED:return K.ABORTED;case Re.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Re.DATA_LOSS:return K.DATA_LOSS;default:return gt(39323,{code:s})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function WS(){return new TextEncoder}const tb=new Ca([4294967295,4294967295],0);function c_(s){const e=WS().encode(s),i=new iv;return i.update(e),new Uint8Array(i.digest())}function h_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ca([i,r],0),new Ca([o,h],0)]}class Cd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ca.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ca.fromNumber(r)));return o.compare(tb)===1&&(o=new Ca([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=c_(e),[r,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Cd(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=c_(e),[r,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ec{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,lo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ec(yt.min(),o,new oe(It),Hi(),Nt())}}class lo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new lo(r,i,Nt(),Nt(),Nt())}}class Ku{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Gv{constructor(e,i){this.targetId=e,this.Ce=i}}class Qv{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class f_{constructor(){this.ve=0,this.Fe=d_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),i=Nt(),r=Nt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:gt(38017,{changeType:h})}})),new lo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=d_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=Hu(),this.He=Hu(),this.Ye=new oe(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Jf(h))if(r===0){const d=new ct(h.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=xa(r).toUint8Array()}catch(v){if(v instanceof gv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Cd(d,o,h)}catch(v){return Ts(v instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Jf(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Nt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ec(e,i,this.Ye,this.je,r);return this.je=Hi(),this.Je=Hu(),this.He=Hu(),this.Ye=new oe(It),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new f_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new xe(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new xe(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hu(){return new oe(ct.comparator)}function d_(){return new oe(ct.comparator)}const nb={asc:"ASCENDING",desc:"DESCENDING"},ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ab={and:"AND",or:"OR"};class rb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function td(s,e){return s.useProto3Json||mc(e)?e:{value:e}}function lc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function sb(s,e){return lc(s,e.toTimestamp())}function yi(s){return Ht(!!s,49232),yt.fromTimestamp((function(i){const r=Na(i);return new ae(r.seconds,r.nanos)})(s))}function wd(s,e){return ed(s,e).canonicalString()}function ed(s,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Yv(s){const e=ee.fromString(s);return Ht($v(e),10190,{key:e.toString()}),e}function nd(s,e){return wd(s.databaseId,e.path)}function Lf(s,e){const i=Yv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(Kv(i))}function Xv(s,e){return wd(s.databaseId,e)}function lb(s){const e=Yv(s);return e.length===4?ee.emptyPath():Kv(e)}function id(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Kv(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function m_(s,e,i){return{name:nd(s,e),fields:i.value.mapValue.fields}}function ob(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:Hv(_.code);return new at(A,_.message||"")})(d);i=new Qv(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Lf(s,r.document.name),h=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):yt.min(),y=new Nn({mapValue:{fields:r.document.fields}}),v=Ze.newFoundDocument(o,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Ku(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Lf(s,r.document),h=r.readTime?yi(r.readTime):yt.min(),d=Ze.newNoDocument(o,h),y=r.removedTargetIds||[];i=new Ku([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Lf(s,r.document),h=r.removedTargetIds||[];i=new Ku([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new JS(o,h),y=r.targetId;i=new Gv(y,d)}}return i}function ub(s,e){let i;if(e instanceof so)i={update:m_(s,e.key,e.value)};else if(e instanceof Pv)i={delete:nd(s,e.key)};else if(e instanceof Sr)i={update:m_(s,e.key,e.data),updateMask:_b(e.fieldMask)};else{if(!(e instanceof XS))return gt(16599,{Vt:e.type});i={verify:nd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof sc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:sb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(s,e.precondition)),i}function cb(s,e){return s&&s.length>0?(Ht(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?yi(o.updateTime):yi(h);return d.isEqual(yt.min())&&(d=yi(h)),new QS(d,o.transformResults||[])})(i,e)))):[]}function hb(s,e){return{documents:[Xv(s,e.path)]}}function fb(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Xv(s,o);const h=(function(_){if(_.length!==0)return Jv(Fn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:ys(O.field),direction:gb(O.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=td(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function db(s){let e=lb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(S){const O=Zv(S);return O instanceof Fn&&Rv(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(J){return new eo(_s(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let O;return O=typeof S=="object"?S.value:S,mc(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,Q=S.values||[];return new ac(Q,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const O=!S.before,Q=S.values||[];return new ac(Q,O)})(i.endAt)),xS(e,o,d,h,y,"F",v,_)}function mb(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Zv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=_s(i.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=_s(i.unaryFilter.field);return Ce.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=_s(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ce.create(_s(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((r=>Zv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function gb(s){return nb[s]}function pb(s){return ib[s]}function yb(s){return ab[s]}function ys(s){return{fieldPath:s.canonicalString()}}function _s(s){return Qe.fromServerFormat(s.fieldPath)}function Jv(s){return s instanceof Ce?(function(i){if(i.op==="=="){if(e_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(t_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(e_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(t_(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:pb(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const r=i.getFilters().map((o=>Jv(o)));return r.length===1?r[0]:{compositeFilter:{op:yb(i.op),filters:r}}})(s):gt(54877,{filter:s})}function _b(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $v(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Sa{constructor(e,i,r,o,h=yt.min(),d=yt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vb{constructor(e){this.yt=e}}function Eb(s){const e=db({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wf(e,e.limit,"L"):e}class Tb{constructor(){this.Cn=new Ab}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ia.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Ab{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new xe(ee.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new xe(ee.comparator)).toArray()}}const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(Wv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Rs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rs(0)}static cr(){return new Rs(-1)}}const p_="LruGarbageCollector",Sb=1048576;function y_([s,e],[i,r]){const o=It(s,i);return o===0?It(e,r):o}class bb{constructor(e){this.Ir=e,this.buffer=new xe(y_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();y_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Rb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(p_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Is(i)?rt(p_,"Ignoring IndexedDB error during garbage collection: ",i):await Vs(i)}await this.Vr(3e5)}))}}class Cb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(dc.ce);const r=new bb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(g_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,y=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),gs()<=Ut.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function wb(s,e){return new Cb(s,e)}class Db{constructor(){this.changes=new Ar((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Ib{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Yl(r.mutation,o,Qn.empty(),ae.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Nt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Nt()){const o=gr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=kl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=gr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Nt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Hi();const d=Fl(),y=(function(){return Fl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Sr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Yl(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new Vb(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Fl();let o=new oe(((d,y)=>d-y)),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Qn.empty();A=y.applyToLocalView(_,A),r.set(v,A);const S=(o.get(y.batchId)||Nt()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,S=Ov();A.forEach((O=>{if(!h.has(O)){const Q=kv(i.get(O),r.get(O));Q!==null&&S.set(O,Q),h=h.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Vv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(gr());let y=Jl,v=h;return d.next((_=>Z.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((O=>{v=v.insert(A,O)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Nt()))).next((A=>({batchId:y,changes:Mv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((r=>{let o=kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(S,O){return new Ns(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let y=kl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Yl(A.mutation,_,Qn.empty(),ae.now()),yc(i,_)&&(y=y.insert(v,_))})),y}))}}class Nb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Eb(o.bundledQuery),readTime:yi(o.readTime)}})(i)),Z.resolve()}}class xb{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=gr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=gr(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=gr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=gr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ZS(i,r));let h=this.qr.get(i);h===void 0&&(h=Nt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}class Mb{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Dd{constructor(){this.Qr=new xe(Ue.$r),this.Ur=new xe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ct(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new ee([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Nt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}class Ob{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Ue.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new KS(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?_d:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new xe(It);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{r=r.add(y.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ct(h),0);let y=new xe(It);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class zb{constructor(e){this.ri=e,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let r=Hi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Hi();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||cS(uS(A),r)<=0||(o.has(A.key)||yc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){gt(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Ub(this)}getSize(e){return Z.resolve(this.size)}}class Ub extends Db{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Lb{constructor(e){this.persistence=e,this.si=new Ar((i=>Td(i)),Ad),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dd,this.targetCount=0,this.ai=Rs.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class t0{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new Mb,this.referenceDelegate=e(this),this.Pi=new Lb(this),this.indexManager=new Tb,this.remoteDocumentCache=(function(o){return new zb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new vb(i),this.Ii=new Nb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new xb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Ob(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){rt("MemoryPersistence","Starting transaction:",e);const o=new jb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class jb extends fS{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Ri=new Dd,this.Vi=null}static mi(e){return new Vd(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=ct.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new Ar((r=>gS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=wb(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Id{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Id(e,i.fromCache,r,o)}}class Bb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NT()?8:dS(VT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Bb;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(gs()<=Ut.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(gs()<=Ut.DEBUG&&rt("QueryEngine","Query:",ps(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(gs()<=Ut.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):Z.resolve())}ys(e,i){if(r_(i))return Z.resolve(null);let r=pi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Wf(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Nt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Wf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return r_(i)||o.isEqual(yt.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(gs()<=Ut.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.vs(e,d,i,oS(o,Jl)).next((y=>y)))}))}Ds(e,i){let r=new xe(Nv(e));return i.forEach(((o,h)=>{yc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return gs()<=Ut.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ps.getDocumentsMatchingQuery(e,i,Ia.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Nd="LocalStore",qb=3e8;class Pb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(It),this.xs=new Ar((h=>Td(h)),Ad),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ib(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Hb(s,e,i,r){return new Pb(s,e,i,r)}async function e0(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=Nt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Gb(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const S=_.batch,O=S.keys();let Q=Z.resolve();return O.forEach((J=>{Q=Q.next((()=>A.getEntry(v,J))).next((tt=>{const $=_.docVersions.get(J);Ht($!==null,48541),tt.version.compareTo($)<0&&(S.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Nt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function n0(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Qb(s,e){const i=vt(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const O=o.get(S);if(!O)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,S))));let Q=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),o=o.insert(S,Q),(function(tt,$,ht){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=qb?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(O,Q,A)&&y.push(i.Pi.updateTargetData(h,Q))}));let v=Hi(),_=Nt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(Fb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function Fb(s,e,i){let r=Nt(),o=Nt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Hi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):rt(Nd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Yb(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_d),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Xb(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Sa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function ad(s,e,i){const r=vt(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Is(d))throw d;rt(Nd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function __(s,e,i){const r=vt(s);let o=yt.min(),h=Nt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=vt(v),O=S.xs.get(A);return O!==void 0?Z.resolve(S.Ms.get(O)):S.Pi.getTargetData(_,A)})(r,d,pi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Nt()))).next((y=>(Kb(r,OS(e),y),{documents:y,Qs:h})))))}function Kb(s,e,i){let r=s.Os.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class v_{constructor(){this.activeTargetIds=kS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zb{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jb{Oo(e){}shutdown(){}}const E_="ConnectivityMonitor";class T_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(E_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gu=null;function rd(){return Gu===null?Gu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gu++,"0x"+Gu.toString(16)}const jf="RestConnection",$b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===nc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=rd(),y=this.zo(e,i.toUriEncodedString());rt(jf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=md(_);return this.Jo(e,y,v,r,A).then((S=>(rt(jf,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ts(jf,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ds})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=$b[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class t2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class e2 extends Wb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=rd();return new Promise(((y,v)=>{const _=new av;_.setWithCredentials(!0),_.listenOnce(rv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qu.NO_ERROR:const S=_.getResponseJson();rt(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Qu.TIMEOUT:rt(Xe,`RPC '${e}' ${d} timed out`),v(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const O=_.getStatus();if(rt(Xe,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const J=Q?.error;if(J&&J.status&&J.message){const tt=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Et)>=0?Et:K.UNKNOWN})(J.status);v(new at(tt,J.message))}else v(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(K.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Xe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);rt(Xe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=rd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ov(),y=lv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");rt(Xe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let O=!1,Q=!1;const J=new t2({Yo:$=>{Q?rt(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(O||(rt(Xe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),O=!0),rt(Xe,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Zo:()=>S.close()}),tt=($,ht,Et)=>{$.listen(ht,(dt=>{try{Et(dt)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return tt(S,Bl.EventType.OPEN,(()=>{Q||(rt(Xe,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),tt(S,Bl.EventType.CLOSE,(()=>{Q||(Q=!0,rt(Xe,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(S))})),tt(S,Bl.EventType.ERROR,($=>{Q||(Q=!0,Ts(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new at(K.UNAVAILABLE,"The operation could not be completed")))})),tt(S,Bl.EventType.MESSAGE,($=>{if(!Q){const ht=$.data[0];Ht(!!ht,16349);const Et=ht,dt=Et?.error||Et[0]?.error;if(dt){rt(Xe,`RPC '${e}' stream ${o} received error:`,dt);const kt=dt.status;let $t=(function(R){const V=Re[R];if(V!==void 0)return Hv(V)})(kt),xt=dt.message;$t===void 0&&($t=K.INTERNAL,xt="Unknown error status: "+kt+" with message "+dt.message),Q=!0,J.a_(new at($t,xt)),S.close()}else rt(Xe,`RPC '${e}' stream ${o} received:`,ht),J.u_(ht)}})),tt(y,sv.STAT_EVENT,($=>{$.stat===Ff.PROXY?rt(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Ff.NOPROXY&&rt(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Bf(){return typeof document<"u"?document:null}function Tc(s){return new rb(s,!0)}class i0{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const A_="PersistentStream";class a0{constructor(e,i,r,o,h,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n2 extends a0{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ob(this.serializer,e),r=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?yi(d.readTime):yt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=id(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Jf(v)?{documents:hb(h,v)}:{query:fb(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Fv(h,d.resumeToken);const _=td(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=lc(h,d.snapshotVersion.toTimestamp());const _=td(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=mb(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=id(this.serializer),i.removeTarget=e,this.q_(i)}}class i2 extends a0{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=cb(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=id(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>ub(this.serializer,r)))};this.q_(i)}}class a2{}class r2 extends a2{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ed(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,ed(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class s2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Er="RemoteStore";class l2{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{br(this)&&(rt(Er,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await oo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ac(_)})(this))}))})),this.Ra=new s2(r,o)}}async function Ac(s){if(br(s))for(const e of s.da)await e(!0)}async function oo(s){for(const e of s.da)await e(!1)}function r0(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zd(i)?Od(i):xs(i).O_()&&Md(i,e))}function xd(s,e){const i=vt(s),r=xs(i);i.Ia.delete(e),r.O_()&&s0(i,e),i.Ia.size===0&&(r.O_()?r.L_():br(i)&&i.Ra.set("Unknown"))}function Md(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xs(s).Y_(e)}function s0(s,e){s.Va.Ue(e),xs(s).Z_(e)}function Od(s){s.Va=new eb({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xs(s).start(),s.Ra.ua()}function zd(s){return br(s)&&!xs(s).x_()&&s.Ia.size>0}function br(s){return vt(s).Ea.size===0}function l0(s){s.Va=void 0}async function o2(s){s.Ra.set("Online")}async function u2(s){s.Ia.forEach(((e,i)=>{Md(s,e)}))}async function c2(s,e){l0(s),zd(s)?(s.Ra.ha(e),Od(s)):s.Ra.set("Unknown")}async function h2(s,e,i){if(s.Ra.set("Online"),e instanceof Qv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){rt(Er,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uc(s,r)}else if(e instanceof Ku?s.Va.Ze(e):e instanceof Gv?s.Va.st(e):s.Va.tt(e),!i.isEqual(yt.min()))try{const r=await n0(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),s0(h,v);const S=new Sa(A.target,v,_,A.sequenceNumber);Md(h,S)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){rt(Er,"Failed to raise snapshot:",r),await uc(s,r)}}async function uc(s,e,i){if(!Is(e))throw e;s.Ea.add(1),await oo(s),s.Ra.set("Offline"),i||(i=()=>n0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt(Er,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ac(s)}))}function o0(s,e){return e().catch((i=>uc(s,i,e)))}async function Sc(s){const e=vt(s),i=Oa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_d;for(;f2(e);)try{const o=await Yb(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,d2(e,o)}catch(o){await uc(e,o)}u0(e)&&c0(e)}function f2(s){return br(s)&&s.Ta.length<10}function d2(s,e){s.Ta.push(e);const i=Oa(s);i.O_()&&i.X_&&i.ea(e.mutations)}function u0(s){return br(s)&&!Oa(s).x_()&&s.Ta.length>0}function c0(s){Oa(s).start()}async function m2(s){Oa(s).ra()}async function g2(s){const e=Oa(s);for(const i of s.Ta)e.ea(i.mutations)}async function p2(s,e,i){const r=s.Ta.shift(),o=Rd.from(r,e,i);await o0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Sc(s)}async function y2(s,e){e&&Oa(s).X_&&await(async function(r,o){if((function(d){return $S(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();Oa(r).B_(),await o0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Sc(r)}})(s,e),u0(s)&&c0(s)}async function S_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),rt(Er,"RemoteStore received new credentials");const r=br(i);i.Ea.add(3),await oo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function _2(s,e){const i=vt(s);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await oo(i),i.Ra.set("Unknown"))}function xs(s){return s.ma||(s.ma=(function(i,r,o){const h=vt(i);return h.sa(),new n2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:o2.bind(null,s),t_:u2.bind(null,s),r_:c2.bind(null,s),H_:h2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),zd(s)?Od(s):s.Ra.set("Unknown")):(await s.ma.stop(),l0(s))}))),s.ma}function Oa(s){return s.fa||(s.fa=(function(i,r,o){const h=vt(i);return h.sa(),new i2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:m2.bind(null,s),r_:y2.bind(null,s),ta:g2.bind(null,s),na:p2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Sc(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Er,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ud{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new Ud(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(s,e){if(Pi("AsyncQueue",`${e}: ${s}`),Is(s))return new at(K.UNAVAILABLE,`${e}: ${s}`);throw s}class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=kl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class b_{constructor(){this.ga=new oe(ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Cs{constructor(e,i,r,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Cs(e,i,Es.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class v2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E2{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=vt(i),h=o.queries;o.queries=R_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new at(K.ABORTED,"Firestore shutting down"))}}function R_(){return new Ar((s=>Iv(s)),pc)}async function h0(s,e){const i=vt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new v2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Ld(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&jd(i)}async function f0(s,e){const i=vt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function T2(s,e){const i=vt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&jd(i)}function A2(s,e,i){const r=vt(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function jd(s){s.Ca.forEach((e=>{e.next()}))}var sd,C_;(C_=sd||(sd={})).Ma="default",C_.Cache="cache";class d0{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Cs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sd.Cache}}class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class S2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=Nv(e),this.tu=new Es(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new b_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const O=o.get(A),Q=yc(this.query,S)?S:null,J=!!O&&this.mutatedKeys.has(O.key),tt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let $=!1;O&&Q?O.data.isEqual(Q.data)?J!==tt&&(r.track({type:3,doc:Q}),$=!0):this.su(O,Q)||(r.track({type:2,doc:Q}),$=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!O&&Q?(r.track({type:0,doc:Q}),$=!0):O&&!Q&&(r.track({type:1,doc:O}),$=!0,(v||_)&&(y=!0)),$&&(Q?(d=d.add(Q),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,J){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return tt(Q)-tt(J)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Cs(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new g0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new m0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Nt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bd="SyncEngine";class b2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class R2{constructor(e){this.key=e,this.hu=!1}}class C2{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ar((y=>Iv(y)),pc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new Dd,this.Vu={},this.mu=new Map,this.fu=Rs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w2(s,e,i=!0){const r=T0(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await p0(r,e,i,!0),o}async function D2(s,e){const i=T0(s);await p0(i,e,!0,!1)}async function p0(s,e,i,r){const o=await Xb(s.localStore,pi(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await V2(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&r0(s.remoteStore,o),y}async function V2(s,e,i,r,o){s.pu=(S,O,Q)=>(async function(tt,$,ht,Et){let dt=$.view.ru(ht);dt.Cs&&(dt=await __(tt.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,dt))));const kt=Et&&Et.targetChanges.get($.targetId),$t=Et&&Et.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(dt,tt.isPrimaryClient,kt,$t);return D_(tt,$.targetId,xt.au),xt.snapshot})(s,S,O,Q);const h=await __(s.localStore,e,!0),d=new S2(e,h.Qs),y=d.ru(h.documents),v=lo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);D_(s,i,_.au);const A=new b2(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function I2(s,e,i){const r=vt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!pc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ad(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&xd(r.remoteStore,o.targetId),ld(r,o.targetId)})).catch(Vs)):(ld(r,o.targetId),await ad(r.localStore,o.targetId,!0))}async function N2(s,e){const i=vt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),xd(i.remoteStore,r.targetId))}async function x2(s,e,i){const r=B2(s);try{const o=await(function(d,y){const v=vt(d),_=ae.now(),A=y.reduce(((Q,J)=>Q.add(J.key)),Nt());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let J=Hi(),tt=Nt();return v.Ns.getEntries(Q,A).next(($=>{J=$,J.forEach(((ht,Et)=>{Et.isValidDocument()||(tt=tt.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,J))).next(($=>{S=$;const ht=[];for(const Et of y){const dt=YS(Et,S.get(Et.key).overlayedDocument);dt!=null&&ht.push(new Sr(Et.key,dt,Av(dt.value.mapValue),ki.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,ht,y)})).next(($=>{O=$;const ht=$.applyToLocalDocumentSet(S,tt);return v.documentOverlayCache.saveOverlays(Q,$.batchId,ht)}))})).then((()=>({batchId:O.batchId,changes:Mv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(It)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await uo(r,o.changes),await Sc(r.remoteStore)}catch(o){const h=Ld(o,"Failed to persist write");i.reject(h)}}async function y0(s,e){const i=vt(s);try{const r=await Qb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await uo(i,r,e)}catch(r){await Vs(r)}}function w_(s,e,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(y)&&(_=!0)})),_&&jd(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M2(s,e,i){const r=vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new oe(ct.comparator);d=d.insert(h,Ze.newNoDocument(h,yt.min()));const y=Nt().add(h),v=new Ec(yt.min(),new Map,new oe(It),d,y);await y0(r,v),r.du=r.du.remove(h),r.Au.delete(e),kd(r)}else await ad(r.localStore,e,!1).then((()=>ld(r,e,i))).catch(Vs)}async function O2(s,e){const i=vt(s),r=e.batch.batchId;try{const o=await Gb(i.localStore,e);v0(i,r,null),_0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await uo(i,o)}catch(o){await Vs(o)}}async function z2(s,e,i){const r=vt(s);try{const o=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(Ht(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);v0(r,e,i),_0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await uo(r,o)}catch(o){await Vs(o)}}function _0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function v0(s,e,i){const r=vt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ld(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||E0(s,r)}))}function E0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(xd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),kd(s))}function D_(s,e,i){for(const r of i)r instanceof m0?(s.Ru.addReference(r.key,e),U2(s,r)):r instanceof g0?(rt(Bd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||E0(s,r.key)):gt(19791,{wu:r})}function U2(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(rt(Bd,"New document in limbo: "+i),s.Eu.add(r),kd(s))}function kd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(ee.fromString(e)),r=s.fu.next();s.Au.set(r,new R2(i)),s.du=s.du.insert(i,r),r0(s.remoteStore,new Sa(pi(Sd(i.path)),r,"TargetPurposeLimboResolution",dc.ce))}}async function uo(s,e,i){const r=vt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Id.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(O=>Z.forEach(O.Es,(Q=>A.persistence.referenceDelegate.addReference(S,O.targetId,Q))).next((()=>Z.forEach(O.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,O.targetId,Q)))))))))}catch(S){if(!Is(S))throw S;rt(Nd,"Failed to update sequence numbers: "+S)}for(const S of _){const O=S.targetId;if(!S.fromCache){const Q=A.Ms.get(O),J=Q.snapshotVersion,tt=Q.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(O,tt)}}})(r.localStore,h))}async function L2(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){rt(Bd,"User change. New user:",e.toKey());const r=await e0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new at(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uo(i,r.Ls)}}function j2(s,e){const i=vt(s),r=i.Au.get(e);if(r&&r.hu)return Nt().add(r.key);{let o=Nt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function T0(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M2.bind(null,e),e.Pu.H_=T2.bind(null,e.eventManager),e.Pu.yu=A2.bind(null,e.eventManager),e}function B2(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Hb(this.persistence,new kb,e.initialUser,this.serializer)}Cu(e){return new t0(Vd.mi,this.serializer)}Du(e){return new Zb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class k2 extends cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof oc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Rb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new t0((r=>oc.mi(r,i)),this.serializer)}}class od{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E2})()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),r=(function(h){return new e2(h)})(e.databaseInfo);return(function(h,d,y,v){return new r2(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new l2(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>w_(this.syncEngine,i,0)),(function(){return T_.v()?new T_:new Jb})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const S=new C2(o,h,d,y,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=vt(i);rt(Er,"RemoteStore shutting down."),r.Ea.add(5),await oo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}od.provider={build:()=>new od};class A0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const za="FirestoreClient";class q2{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{rt(za,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(rt(za,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ld(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kf(s,e){s.asyncQueue.verifyOperationInProgress(),rt(za,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await e0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function V_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await P2(s);rt(za,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>S_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>S_(e.remoteStore,o))),s._onlineComponents=e}async function P2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(za,"Using user provided OfflineComponentProvider");try{await kf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await kf(s,new cc)}}else rt(za,"Using default OfflineComponentProvider"),await kf(s,new k2(void 0));return s._offlineComponents}async function S0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(za,"Using user provided OnlineComponentProvider"),await V_(s,s._uninitializedComponentsProvider._online)):(rt(za,"Using default OnlineComponentProvider"),await V_(s,new od))),s._onlineComponents}function H2(s){return S0(s).then((e=>e.syncEngine))}async function ud(s){const e=await S0(s),i=e.eventManager;return i.onListen=w2.bind(null,e.syncEngine),i.onUnlisten=I2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=D2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=N2.bind(null,e.syncEngine),i}function G2(s,e,i={}){const r=new wa;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new A0({next:O=>{A.Nu(),d.enqueueAndForget((()=>f0(h,S))),O.fromCache&&v.source==="server"?_.reject(new at(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),S=new d0(y,A,{includeMetadataChanges:!0,qa:!0});return h0(h,S)})(await ud(s),s.asyncQueue,e,i,r))),r.promise}function b0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const I_=new Map;const R0="firestore.googleapis.com",N_=!0;class x_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sb)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JA;switch(r.type){case"firstParty":return new eS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=I_.get(i);r&&(rt("ComponentProvider","Removing Datastore"),I_.delete(i),r.terminate())})(this),Promise.resolve()}}function Q2(s,e,i,r={}){s=Da(s,bc);const o=md(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(bT(`https://${y}`),DT("Firestore",!0)),h.host!==R0&&h.host!==y&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:r};if(!$u(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ke.MOCK_USER;else{_=RT(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(S)}s._authCredentials=new $A(new cv(_,A))}}class Ua{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class De{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ro(i,De._jsonSchema))return new De(e,r||null,new ct(ee.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:we("string",De._jsonSchemaVersion),referencePath:we("string")};class Va extends Ua{constructor(e,i,r){super(e,i,Sd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new ct(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function C0(s,e,...i){if(s=_r(s),hv("collection","path",e),s instanceof bc){const r=ee.fromString(e,...i);return Qy(r),new Va(s,null,r)}{if(!(s instanceof De||s instanceof Va))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return Qy(r),new Va(s.firestore,null,r)}}function cd(s,e,...i){if(s=_r(s),arguments.length===1&&(e=yd.newId()),hv("doc","path",e),s instanceof bc){const r=ee.fromString(e,...i);return Gy(r),new De(s,null,new ct(r))}{if(!(s instanceof De||s instanceof Va))throw new at(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return Gy(r),new De(s.firestore,s instanceof Va?s.converter:null,new ct(r))}}const M_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i0(this,"async_queue_retry"),this._c=()=>{const r=Bf();r&&rt(M_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new wa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Is(e))throw e;rt(M_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",z_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Ud.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function U_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class ao extends bc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new O_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function F2(s,e){const i=typeof s=="object"?s:jA(),r=typeof s=="string"?s:nc,o=MA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=AT("firestore");h&&Q2(o,...h)}return o}function qd(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Y2(s),s._firestoreClient}function Y2(s){const e=s._freezeSettings(),i=(function(o,h,d,y){return new _S(o,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,b0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new q2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Fe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xn(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ro(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:we("string",xn._jsonSchemaVersion),bytes:we("string")};class Pd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class w0{constructor(e){this._methodName=e}}class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(ro(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:we("string",_i._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ro(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new vi(e.vectorValues);throw new at(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:we("string",vi._jsonSchemaVersion),vectorValues:we("object")};const X2=/^__.*__$/;class K2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new so(e,this.data,i,this.fieldTransforms)}}function D0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class Hd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D0(this.Ac)&&X2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Tc(e)}Cc(e,i,r,o=!1){return new Hd({Ac:e,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V0(s){const e=s._freezeSettings(),i=Tc(s._databaseId);return new Z2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function J2(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);x0("Data must be an object, but it was:",d,r);const y=I0(r,d);let v,_;if(h.merge)v=new Qn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const S of h.mergeFields){const O=W2(e,S,i);if(!d.contains(O))throw new at(K.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);eR(A,O)||A.push(O)}v=new Qn(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new K2(new Nn(y),v,_)}function $2(s,e,i,r=!1){return Gd(i,s.Cc(r?4:3,e))}function Gd(s,e){if(N0(s=_r(s)))return x0("Unsupported field value:",e,s),I0(s,e);if(s instanceof w0)return(function(r,o){if(!D0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let v=Gd(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=_r(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ae.fromDate(r);return{timestampValue:lc(o.serializer,h)}}if(r instanceof ae){const h=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:Fv(o.serializer,r._byteString)};if(r instanceof De){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:wd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return(function(d,y){return{mapValue:{fields:{[Ev]:{stringValue:Tv},[ic]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return bd(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${fc(r)}`)})(s,e)}function I0(s,e){const i={};return mv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((r,o)=>{const h=Gd(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function N0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof _i||s instanceof xn||s instanceof De||s instanceof w0||s instanceof vi)}function x0(s,e,i){if(!N0(i)||!fv(i)){const r=fc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function W2(s,e,i){if((e=_r(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return M0(s,e);throw hc("Field path arguments must be of type string or ",s,!1,void 0,i)}const tR=new RegExp("[~\\*/\\[\\]]");function M0(s,e,i){if(e.search(tR)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Pd(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new at(K.INVALID_ARGUMENT,y+s+v)}function eR(s,e){return s.some((i=>i.isEqual(e)))}class O0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Rc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nR extends O0{data(){return super.data()}}function Rc(s,e){return typeof e=="string"?M0(s,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}function z0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}class U0 extends Qd{}function L0(s,e,...i){let r=[];e instanceof Qd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof Fd)).length,y=h.filter((v=>v instanceof Cc)).length;if(d>1||d>0&&y>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Cc extends U0{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Cc(e,i,r)}_apply(e){const i=this._parse(e);return j0(e._query,i),new Ua(e.firestore,e.converter,$f(e._query,i))}_parse(e){const i=V0(e.firestore);return(function(h,d,y,v,_,A,S){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){j_(S,A);const J=[];for(const tt of S)J.push(L_(v,h,tt));O={arrayValue:{values:J}}}else O=L_(v,h,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||j_(S,A),O=$2(y,d,S,A==="in"||A==="not-in");return Ce.create(_,A,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function iR(s,e,i){const r=e,o=Rc("where",s);return Cc._create(o,r,i)}class Fd extends Qd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const v of y)j0(d,v),d=$f(d,v)})(e._query,i),new Ua(e.firestore,e.converter,$f(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yd extends U0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Yd(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(h,d)})(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new Ns(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function aR(s,e="asc"){const i=e,r=Rc("orderBy",s);return Yd._create(r,i)}function L_(s,e,i){if(typeof(i=_r(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vv(e)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ee.fromString(i));if(!ct.isDocumentKey(r))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wy(s,new ct(r))}if(i instanceof De)return Wy(s,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function j_(s,e){if(!Array.isArray(s)||s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j0(s,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class rR{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Tr(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[ic].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new vi(i)}convertGeoPoint(e){return new _i(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=gc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=Na(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);Ht($v(r),9688,{name:e});const o=new Wl(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function sR(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Pl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pr extends O0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Rc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",pr._jsonSchema={type:we("string",pr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Zu extends pr{data(e={}){return super.data(e)}}class yr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Zu(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Zu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Pl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Zu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Pl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:lR(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}yr._jsonSchemaVersion="firestore/querySnapshot/1.0",yr._jsonSchema={type:we("string",yr._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class Xd extends rR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function oR(s){s=Da(s,Ua);const e=Da(s.firestore,ao),i=qd(e),r=new Xd(e);return z0(s._query),G2(i,s._query).then((o=>new yr(e,r,s,o)))}function B0(s,e,i){s=Da(s,De);const r=Da(s.firestore,ao),o=sR(s.converter,e);return uR(r,[J2(V0(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ki.none())])}function B_(s,...e){s=_r(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||U_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(U_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,d,y;if(s instanceof De)d=Da(s.firestore,ao),y=Sd(s._key.path),h={next:v=>{e[r]&&e[r](cR(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Da(s,Ua);d=Da(v.firestore,ao),y=v._query;const _=new Xd(d);h={next:A=>{e[r]&&e[r](new yr(d,_,v,A))},error:e[r+1],complete:e[r+2]},z0(s._query)}return(function(_,A,S,O){const Q=new A0(O),J=new d0(A,Q,S);return _.asyncQueue.enqueueAndForget((async()=>h0(await ud(_),J))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>f0(await ud(_),J)))}})(qd(d),y,o,h)}function uR(s,e){return(function(r,o){const h=new wa;return r.asyncQueue.enqueueAndForget((async()=>x2(await H2(r),o,h))),h.promise})(qd(s),e)}function cR(s,e,i){const r=i.docs.get(e._key),o=new Xd(s);return new pr(s,o,e._key,r,new Pl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ds=o})(LA),tc(new Kl("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new ao(new WA(r.getProvider("auth-internal")),new nS(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),vs(ky,qy,e),vs(ky,qy,"esm2020")})();const hR={apiKey:"AIzaSyClukiCJsusdmwkaQHepGsILMfczgPrDhU",authDomain:"mathbook-engine.firebaseapp.com",projectId:"mathbook-engine",storageBucket:"mathbook-engine.firebasestorage.app",messagingSenderId:"469440264696",appId:"1:469440264696:web:6f91558beb97f8a2797e0d"},fR=tv(hR),Xl=F2(fR),dR=({isOpen:s,onClose:e})=>{const[i,r]=te.useState(""),[o,h]=te.useState(null),[d,y]=te.useState("idle"),[v,_]=te.useState("");if(!s)return null;const A=async Q=>{const J=Q.target.files?.[0];if(J){i||r(J.name.replace(".js","").replace(/_/g," ")),y("validating");try{const tt=await J.text();await P_(tt),h(tt),y("valid"),_("")}catch(tt){y("error"),_(tt.message||"El archivo no es un simulador vlido."),h(null)}}},S=async()=>{if(o&&i){y("validating");try{const Q=L0(C0(Xl,"simuladores"),iR("name","==",i)),J=await oR(Q);let tt="sim_"+crypto.randomUUID().slice(0,8);if(!J.empty&&(tt=J.docs[0].id,!confirm(`El simulador "${i}" ya existe en la nube. Quieres actualizarlo para TODOS los usuarios?`))){y("idle");return}await B0(cd(Xl,"simuladores",tt),{id:tt,name:i,code:o,version:"1.0",timestamp:Date.now()}),alert("Simulador guardado en la nube! Todos los usuarios lo vern al instante."),O()}catch(Q){console.error(Q),_("Error al conectar con la base de datos."),y("error")}}},O=()=>{r(""),h(null),y("idle"),_(""),e()};return k.jsx("div",{className:"modal-bg",style:{display:"flex"},children:k.jsxs("div",{className:"modal fade-in",style:{width:"800px",maxHeight:"90vh",overflowY:"auto"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[k.jsxs("h2",{children:[k.jsx(lT,{size:24})," Subir Simulador"]}),k.jsx("button",{onClick:O,style:{border:"none",background:"transparent",padding:0},children:k.jsx(uT,{size:24})})]}),k.jsxs("div",{className:"row",children:[k.jsx("label",{style:{fontWeight:"bold"},children:"Nombre para el Men:"}),k.jsx("input",{type:"text",value:i,onChange:Q=>r(Q.target.value),placeholder:"Ej: Permutaciones Agrupadas"})]}),k.jsxs("div",{className:"row",children:[k.jsx("label",{style:{fontWeight:"bold"},children:"Archivo JavaScript (.js):"}),k.jsx("input",{type:"file",accept:".js,text/javascript",onChange:A,style:{padding:"10px",background:"var(--bg-tertiary)",borderRadius:"var(--radius)"}})]}),k.jsxs("div",{style:{marginTop:"1rem",minHeight:"60px"},children:[d==="validating"&&k.jsx("p",{className:"loading",children:"Analizando cdigo..."}),d==="error"&&k.jsxs("div",{className:"feedback-incorrect",style:{display:"flex",gap:"10px",alignItems:"center"},children:[k.jsx(iT,{size:20}),k.jsxs("div",{children:[k.jsx("strong",{children:"Error:"})," ",v]})]}),d==="valid"&&o&&k.jsxs("div",{className:"fade-in",children:[k.jsxs("div",{className:"feedback-correct",style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"1rem"},children:[k.jsx(UE,{size:20}),k.jsxs("div",{children:[k.jsx("strong",{children:"Cdigo Vlido!"})," Listo para subir."]})]}),k.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"8px",padding:"15px",background:"var(--bg-secondary)"},children:[k.jsxs("h4",{style:{margin:"0 0 10px 0",display:"flex",alignItems:"center",gap:"8px",color:"var(--text-muted)"},children:[k.jsx(GE,{size:16})," Vista Previa del Simulador"]}),k.jsx(fd,{code:o,params:{}})]})]})]}),k.jsxs("div",{className:"buttons",children:[k.jsx("button",{onClick:O,children:"Cancelar"}),k.jsx("button",{id:"btnGuardar",disabled:d!=="valid"||!i,onClick:S,children:"Subir y Guardar"})]})]})})};function mR(s){const e=`
    :root { 
        --bg-primary: #ffffff; --text-primary: #1a202c; --brand-primary: #2563eb; 
        --bg-secondary: #f8fafc; --border-color: #e2e8f0;
    }
    body { font-family: system-ui, sans-serif; line-height: 1.6; color: var(--text-primary); margin: 0; background: #f1f5f9; }
    .book-container { max-width: 800px; margin: 40px auto; background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
    h1, h2 { color: var(--brand-primary); border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
    .page-content { display: none; animation: fadeIn 0.3s ease; }
    .page-content.active { display: block; }
    .nav-buttons { display: flex; justify-content: space-between; margin-top: 40px; border-top: 1px solid #e2e8f0; padding-top: 20px; }
    button { background: var(--brand-primary); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; }
    button:disabled { background: #cbd5e1; cursor: not-allowed; }
    
    /* Estilos del Simulador (Copiados de tu CSS) */
    .simulador-wrapper { margin: 20px 0; border: 1px solid #e2e8f0; border-radius: 8px; padding: 10px; background: #f8fafc; }
    .btn-sim { background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; width: 100%; text-align: left; }
    .btn-sim-rojo { background: #dc2626; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  `,i=`window.BOOK_DATA = ${JSON.stringify(s)};`;return`
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${s.meta.title}</title>
    <style>${e}</style>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
</head>
<body>
    <div class="book-container">
        <h1 style="text-align:center">${s.meta.title}</h1>
        <hr/>
        
        <div id="book-content">
            </div>

        <div class="nav-buttons">
            <button id="btn-prev">Anterior</button>
            <span id="page-num" style="align-self:center; color:#64748b;">Pgina 1</span>
            <button id="btn-next">Siguiente</button>
        </div>
    </div>

    <script>${i}<\/script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const data = window.BOOK_DATA;
        const container = document.getElementById('book-content');
        const prevBtn = document.getElementById('btn-prev');
        const nextBtn = document.getElementById('btn-next');
        const pageNum = document.getElementById('page-num');
        
        let currentPageIdx = 0;

        // --- MOTOR DE SIMULADORES (Versin Ligera) ---
        const simulators = {};
        data.assets.simulators.forEach(sim => {
            simulators[sim.id] = sim;
        });

        function renderBlock(block) {
            if (block.type === 'text') {
                const div = document.createElement('div');
                div.className = 'text-block';
                // Convertir saltos de lnea y LaTeX bsico
                div.innerHTML = block.content
                    .replace(/\\n/g, '<br>')
                    // Un hack simple para renderizar simuladores Legacy en texto si quedaron huerfanos
                    .replace(/\\[simulador:(.*?)\\]/g, ''); 
                return div;
            }
            if (block.type === 'simulator') {
                const wrapper = document.createElement('div');
                wrapper.className = 'simulador-wrapper';
                const simAsset = simulators[block.simulatorId || block.simulatorId?.replace('legacy_', '')];
                
                if (!simAsset) {
                    wrapper.innerHTML = '<p style="color:red">Simulador no encontrado: ' + block.simulatorId + '</p>';
                    return wrapper;
                }

                // Inyeccin del cdigo JS
                // NOTA: Para exportacin real, usamos Blob URL igual que en el editor
                const blob = new Blob([simAsset.code], { type: 'text/javascript' });
                const url = URL.createObjectURL(blob);

                import(url).then(module => {
                    const sim = module.default;
                    // Detectar formato (Igual que en tu editor)
                    if (sim.init) {
                        const container = document.createElement('div');
                        wrapper.appendChild(container);
                        sim.init(container, block.simConfig || {});
                    } else if (sim.render) {
                        // Legacy Support
                        const html = sim.render(block.simConfig || {}, simAsset.name);
                        const scriptRegex = /<script>([\\s\\S]*?)<\\/script>/;
                        const match = html.match(scriptRegex);
                        const htmlOnly = html.replace(scriptRegex, '');
                        
                        const div = document.createElement('div');
                        div.innerHTML = htmlOnly;
                        wrapper.appendChild(div);

                        if (match && match[1]) {
                            const script = document.createElement('script');
                            script.textContent = match[1];
                            document.body.appendChild(script);
                        }
                    }
                }).catch(err => {
                    wrapper.innerHTML = 'Error cargando simulador: ' + err.message;
                });

                return wrapper;
            }
            return document.createElement('div');
        }

        function showPage(index) {
            container.innerHTML = '';
            const page = data.pages[index];
            
            const title = document.createElement('h2');
            title.textContent = page.title;
            container.appendChild(title);

            page.blocks.forEach(block => {
                container.appendChild(renderBlock(block));
            });

            // Actualizar controles
            pageNum.textContent = \`Pgina \${index + 1} de \${data.pages.length}\`;
            prevBtn.disabled = index === 0;
            nextBtn.disabled = index === data.pages.length - 1;
            
            // Renderizar Matemticas (MathJax) si existe
            if (window.MathJax) {
                window.MathJax.typesetPromise([container]);
            }
        }

        // Event Listeners
        prevBtn.onclick = () => { if(currentPageIdx > 0) showPage(--currentPageIdx); };
        nextBtn.onclick = () => { if(currentPageIdx < data.pages.length - 1) showPage(++currentPageIdx); };

        // Iniciar
        showPage(0);
    });
  <\/script>
</body>
</html>
  `}const gR={meta:{title:"Cargando...",author:"Anon",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:[]},k_="libro_curso_principal";function pR(){const[s,e]=te.useState(gR),[i,r]=te.useState([]),[o,h]=te.useState(null),[d,y]=te.useState(!1),[v,_]=te.useState(!1),[A,S]=te.useState(!0),[O,Q]=te.useState(!1);te.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("admin")==="profe123";S(!C);const N=B_(cd(Xl,"projects",k_),b=>{if(b.exists()){const pt=b.data();console.log(" Sincronizado desde la nube"),e(pt),!o&&pt.pages.length>0}else C&&console.log("Listo para crear el primer libro en la nube.")});return()=>N()},[]),te.useEffect(()=>{const w=L0(C0(Xl,"simuladores"),aR("timestamp","desc")),C=B_(w,N=>{const b=N.docs.map(pt=>({id:pt.id,...pt.data()}));console.log(" Simuladores actualizados desde la nube:",b.length),e(pt=>({...pt,assets:{...pt.assets,simulators:b}}))});return()=>C()},[]),te.useEffect(()=>{document.body.setAttribute("data-theme",v?"dark":"light")},[v]);const J=async()=>{if(!A){Q(!0);try{await B0(cd(Xl,"projects",k_),s),alert(" Publicado! Todos los alumnos tienen la ltima versin.")}catch(w){console.error(w),alert(" Error al subir a la nube.")}finally{Q(!1)}}},tt=()=>{const w="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(s)),C=document.createElement("a");C.setAttribute("href",w),C.setAttribute("download",s.meta.title+"_backup.json"),document.body.appendChild(C),C.click(),C.remove()},$=w=>{const C=w.target.files?.[0];if(!C)return;const N=new FileReader;N.onload=b=>{try{const pt=JSON.parse(b.target?.result);if(pt.meta&&pt.pages&&!Array.isArray(pt)){e(pt),h(pt.pages[0]?.id||null),alert("Proyecto V2 cargado. Dale a 'PUBLICAR' para subirlo a la nube.");return}if(Array.isArray(pt)){console.log("Detectado formato Legacy. Convirtiendo...");const Yt=pt.map(et=>{const ot=[],Rt=et.contenido||"",Lt=/\[simulador:([a-zA-Z0-9_]+)\]/g;let M=0,Y;for(;(Y=Lt.exec(Rt))!==null;){const mt=Rt.slice(M,Y.index).trim();mt&&ot.push({id:crypto.randomUUID(),type:"text",content:mt});const Tt=Y[1];ot.push({id:crypto.randomUUID(),type:"simulator",content:"",simulatorId:"legacy_"+Tt,simConfig:{}}),M=Lt.lastIndex}const nt=Rt.slice(M).trim();nt&&ot.push({id:crypto.randomUUID(),type:"text",content:nt});let it="seccion";return et.tipo==="capitulo"&&(it="capitulo"),et.tipo==="portada"&&(it="portada"),{id:et.id||crypto.randomUUID(),type:it,title:et.titulo||"Sin Ttulo",blocks:ot.length>0?ot:[{id:crypto.randomUUID(),type:"text",content:""}]}}),H={meta:{title:"Libro Importado",author:"Usuario",created:Date.now(),theme:"light"},assets:{simulators:[]},pages:Yt};e(H),h(Yt[0]?.id||null),alert(` Archivo antiguo convertido. 

PASO SIGUIENTE:
1. Revisa que el texto est bien.
2. Sube los simuladores (.js) que falten.
3. Dale a 'PUBLICAR' para guardarlo en la nube.`)}else alert("Formato no reconocido.")}catch(pt){console.error(pt),alert("Error al leer el archivo JSON.")}},N.readAsText(C),w.target.value=""},ht=()=>{if(i.length===0)return;const w=i[i.length-1];r(C=>C.slice(0,-1)),e(w)},Et=(w,C,N)=>{N.stopPropagation();const b=s.pages.findIndex(H=>H.id===w);if(b<0)return;const pt=b+C;if(pt<0||pt>=s.pages.length)return;const Yt=[...s.pages];[Yt[b],Yt[pt]]=[Yt[pt],Yt[b]],e(H=>({...H,pages:Yt}))},dt=(w,C)=>{C.stopPropagation(),confirm(` Ests seguro de eliminar esta pgina?
Se perder todo el texto y simuladores que tenga dentro.`)&&(e(N=>({...N,pages:N.pages.filter(b=>b.id!==w)})),o===w&&h(null))},kt=(w="seccion")=>{r(N=>[...N,s]);const C={id:crypto.randomUUID(),type:w,title:w==="capitulo"?"Nuevo Captulo":"Nueva Seccin",blocks:[]};e(N=>({...N,pages:[...N.pages,C]})),h(C.id)},$t=w=>{e(C=>({...C,pages:C.pages.map(N=>N.id===w.id?w:N)}))},xt=(w,C)=>{const N={id:"sim_"+crypto.randomUUID().slice(0,8),name:w,code:C,version:"1.0",timestamp:Date.now()};e(b=>({...b,assets:{...b.assets,simulators:[...b.assets.simulators,N]}}))},I=w=>{if(!w)return"";const C=w.replace("legacy_",""),N=s.assets.simulators.find(b=>b.id===w||b.id.includes(C));return N?N.code:""},R=()=>{const w=mR(s),C=new Blob([w],{type:"text/html"}),N=URL.createObjectURL(C),b=document.createElement("a");b.href=N,b.download=`${s.meta.title.replace(/\s+/g,"_")}_offline.html`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(N)},V=w=>{switch(w){case"capitulo":return{fontWeight:"bold",borderLeft:"4px solid var(--brand-primary)",paddingLeft:"8px",marginTop:"10px"};case"subseccion":return{paddingLeft:"30px",fontSize:"0.9em",borderLeft:"1px solid var(--border-color)"};case"portada":return{fontStyle:"italic",color:"var(--brand-accent)"};default:return{paddingLeft:"15px"}}};return A?k.jsxs("div",{className:"reader-container",style:{maxWidth:"900px",margin:"0 auto",padding:"20px",fontFamily:"system-ui, sans-serif"},children:[k.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px",paddingBottom:"20px",borderBottom:"1px solid var(--border-color)"},children:[k.jsx("div",{children:k.jsx("h1",{style:{margin:0,color:"var(--brand-primary)"},children:s.meta.title})}),k.jsx("button",{onClick:()=>_(!v),style:{background:"none",border:"1px solid gray",padding:"5px",borderRadius:"4px",cursor:"pointer"},children:v?k.jsx(wy,{size:18}):k.jsx(Cy,{size:18})})]}),k.jsxs("div",{className:"content-area",children:[s.pages.length===0&&k.jsx("div",{style:{textAlign:"center",padding:"50px",color:"gray"},children:k.jsx("p",{children:"Cargando contenido o esperando publicacin..."})}),s.pages.map(w=>k.jsxs("div",{style:{marginBottom:"60px",animation:"fadeIn 0.5s"},children:[w.type==="capitulo"&&k.jsx("h2",{style:{color:"var(--brand-primary)",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:w.title}),w.type==="seccion"&&k.jsx("h3",{style:{marginTop:"30px"},children:w.title}),w.type==="subseccion"&&k.jsx("h4",{style:{fontStyle:"italic",color:"#555"},children:w.title}),w.type==="portada"&&k.jsx("h1",{style:{textAlign:"center",fontSize:"3em",margin:"50px 0"},children:w.title}),k.jsx("div",{style:{lineHeight:"1.6"},children:w.blocks.map(C=>k.jsxs("div",{style:{margin:"15px 0"},children:[C.type==="text"&&k.jsx("div",{dangerouslySetInnerHTML:{__html:C.content.replace(/\n/g,"<br/>")}}),C.type==="simulator"&&k.jsx("div",{style:{border:"1px solid #ddd",padding:"20px",borderRadius:"8px",background:v?"#1a1a1a":"#f9fafb"},children:k.jsx(fd,{code:I(C.simulatorId),params:C.simConfig||{}})})]},C.id))})]},w.id))]}),k.jsx("footer",{style:{marginTop:"50px",textAlign:"center",fontSize:"0.8em",color:"gray",padding:"20px"},children:"Libro Interactivo - ESCOM"})]}):k.jsxs("div",{className:"app-container",children:[k.jsxs("header",{children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[k.jsx("h1",{children:s.meta.title}),k.jsx("span",{style:{fontSize:"0.7em",background:"var(--brand-error)",color:"white",padding:"2px 6px",borderRadius:"4px"},children:"EDITOR"})]}),k.jsx("div",{className:"header-sep"}),k.jsxs("a",{href:"ayuda.html",target:"_blank",className:"button-link",title:"Ver Ayuda",children:[k.jsx(jE,{size:18,style:{marginRight:5}})," Ayuda"]}),k.jsx("button",{className:"icon-button",onClick:()=>_(!v),children:v?k.jsx(wy,{size:18}):k.jsx(Cy,{size:18})}),k.jsx("button",{className:"icon-button",onClick:ht,disabled:i.length===0,title:"Deshacer",children:k.jsx(rT,{size:18})}),k.jsx("div",{className:"header-sep"}),k.jsxs("div",{className:"local-actions-group",children:[k.jsxs("label",{className:"icon-button",title:"Importar JSON viejo",children:[k.jsx(XE,{size:18}),k.jsx("input",{type:"file",accept:".json",onChange:$,style:{display:"none"}})]}),k.jsx("button",{className:"icon-button",onClick:tt,title:"Guardar Respaldo Local (JSON)",children:k.jsx(WE,{size:18})})]}),k.jsx("button",{onClick:J,disabled:O,style:{background:"var(--brand-success)",color:"white",border:"none",padding:"8px 15px",borderRadius:"6px",fontWeight:"bold",marginLeft:"auto",display:"flex",alignItems:"center",cursor:"pointer"},children:O?"Subiendo...":k.jsxs(k.Fragment,{children:[k.jsx(kE,{size:18,style:{marginRight:5}})," PUBLICAR"]})}),k.jsx("button",{className:"icon-button",onClick:R,title:"Descargar HTML Offline",style:{marginLeft:"10px"},children:k.jsx(PE,{size:18})})]}),k.jsxs("div",{className:"layout",children:[k.jsxs("aside",{className:"toc",children:[k.jsx("h2",{children:"Contenido"}),k.jsxs("div",{className:"toolbar",style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:[k.jsx("button",{onClick:()=>kt("capitulo"),children:"+ Cap"}),k.jsx("button",{onClick:()=>kt("seccion"),children:"+ Sec"}),k.jsx("button",{onClick:()=>y(!0),style:{flexBasis:"100%"},children:"+ Simulador"})]}),k.jsx("ul",{style:{marginTop:"1rem",listStyle:"none",padding:0},children:s.pages.map((w,C)=>k.jsxs("li",{className:w.id===o?"selected":"",style:V(w.type),onClick:()=>h(w.id),children:[k.jsx("span",{className:"page-title-span",title:w.title,children:w.title||"Sin ttulo"}),!A&&k.jsxs("div",{className:"page-actions",children:[k.jsx("button",{className:"mini-btn",onClick:N=>Et(w.id,-1,N),disabled:C===0,title:"Subir",children:k.jsx(Q_,{size:14})}),k.jsx("button",{className:"mini-btn",onClick:N=>Et(w.id,1,N),disabled:C===s.pages.length-1,title:"Bajar",children:k.jsx(G_,{size:14})}),k.jsx("button",{className:"mini-btn danger",onClick:N=>dt(w.id,N),title:"Eliminar Pgina",children:k.jsx(F_,{size:14})})]})]},w.id))})]}),k.jsx("main",{className:"main",children:o?(()=>{const w=s.pages.find(C=>C.id===o);return w?k.jsx(hT,{page:w,availableSimulators:s.assets.simulators,onUpdatePage:$t}):k.jsx("p",{children:"Error cargando pgina"})})():k.jsx("div",{className:"empty-state",children:k.jsx("p",{children:"Selecciona una pgina o carga un proyecto."})})})]}),k.jsx(dR,{isOpen:d,onClose:()=>y(!1),onSave:xt})]})}wE.createRoot(document.getElementById("root")).render(k.jsx(vE.StrictMode,{children:k.jsx(pR,{})}));
